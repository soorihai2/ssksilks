var e,t,n=Object.defineProperty,i=(e,t,i)=>((e,t,i)=>t in e?n(e,t,{enumerable:!0,configurable:!0,writable:!0,value:i}):e[t]=i)(e,"symbol"!=typeof t?t+"":t,i);import{u as r,i as s,j as o,c as a,a as l,b as c,A as d,C as h,T as u,B as p,I as f,d as m,e as g,f as x,G as y,g as v,D as b,M as j,h as w,L as S,k as C,l as _,m as k,n as E,F as P,o as O,p as M,q as A,r as T,R as I,O as D,s as R,t as F,v as L,w as z,Z as B,x as W,y as N,P as V,z as $,E as U,H,J as q,K as Y,N as G,Q as X,S as K,U as J,V as Q,W as Z,X as ee,Y as te,_ as ne,$ as ie,a0 as re,a1 as se,a2 as oe,a3 as ae,a4 as le,a5 as ce,a6 as de,a7 as he,a8 as ue,a9 as pe,aa as fe,ab as me,ac as ge,ad as xe,ae as ye,af as ve,ag as be,ah as je,ai as we,aj as Se,ak as Ce,al as _e,am as ke,an as Ee,ao as Pe,ap as Oe,aq as Me,ar as Ae,as as Te,at as Ie,au as De,av as Re,aw as Fe,ax as Le,ay as ze,az as Be,aA as We,aB as Ne,aC as Ve,aD as $e,aE as Ue,aF as He,aG as qe,aH as Ye,aI as Ge,aJ as Xe,aK as Ke,aL as Je,aM as Qe,aN as Ze,aO as et,aP as tt,aQ as nt,aR as it,aS as rt,aT as st,aU as ot,aV as at,aW as lt,aX as ct,aY as dt,aZ as ht,a_ as ut,a$ as pt,b0 as ft,b1 as mt,b2 as gt,b3 as xt,b4 as yt,b5 as vt,b6 as bt,b7 as jt,b8 as wt,b9 as St,ba as Ct,bb as _t,bc as kt}from"./mui-CYTf9gsk.js";import{c as Et,g as Pt,r as Ot,a as Mt,u as At,L as Tt,d as It,e as Dt,O as Rt,f as Ft,h as Lt,i as zt,j as Bt,N as Wt}from"./vendor-rqT0tRJ2.js";!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver((e=>{for(const n of e)if("childList"===n.type)for(const e of n.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&t(e)})).observe(document,{childList:!0,subtree:!0})}function t(e){if(e.ep)return;e.ep=!0;const t=function(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),"use-credentials"===e.crossOrigin?t.credentials="include":"anonymous"===e.crossOrigin?t.credentials="omit":t.credentials="same-origin",t}(e);fetch(e.href,t)}}();var Nt={},Vt=Et;Nt.createRoot=Vt.createRoot,Nt.hydrateRoot=Vt.hydrateRoot;var $t={},Ut={};const Ht=Pt(r);var qt;function Yt(){return qt||(qt=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.createSvgIcon}});var t=Ht}(Ut)),Ut}var Gt=s;Object.defineProperty($t,"__esModule",{value:!0});var Xt=$t.default=void 0,Kt=Gt(Yt()),Jt=o;Xt=$t.default=(0,Kt.default)((0,Jt.jsx)("path",{d:"M7 18c-1.1 0-1.99.9-1.99 2S5.9 22 7 22s2-.9 2-2-.9-2-2-2M1 2v2h2l3.6 7.59-1.35 2.45c-.16.28-.25.61-.25.96 0 1.1.9 2 2 2h12v-2H7.42c-.14 0-.25-.11-.25-.25l.03-.12.9-1.63h7.45c.75 0 1.41-.41 1.75-1.03l3.58-6.49c.08-.14.12-.31.12-.48 0-.55-.45-1-1-1H5.21l-.94-2zm16 16c-1.1 0-1.99.9-1.99 2s.89 2 1.99 2 2-.9 2-2-.9-2-2-2"}),"ShoppingCart");var Qt={},Zt=s;Object.defineProperty(Qt,"__esModule",{value:!0});var en=Qt.default=void 0,tn=Zt(Yt()),nn=o;en=Qt.default=(0,tn.default)((0,nn.jsx)("path",{d:"M3 18h18v-2H3zm0-5h18v-2H3zm0-7v2h18V6z"}),"Menu");var rn={},sn=s;Object.defineProperty(rn,"__esModule",{value:!0});var on=rn.default=void 0,an=sn(Yt()),ln=o;on=rn.default=(0,an.default)((0,ln.jsx)("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4m0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4"}),"Person");var cn={},dn=s;Object.defineProperty(cn,"__esModule",{value:!0});var hn=cn.default=void 0,un=dn(Yt()),pn=o;hn=cn.default=(0,un.default)((0,pn.jsx)("path",{d:"M7.41 8.59 12 13.17l4.59-4.58L18 10l-6 6-6-6z"}),"KeyboardArrowDown");var fn={},mn=s;Object.defineProperty(fn,"__esModule",{value:!0});var gn=fn.default=void 0,xn=mn(Yt()),yn=o;gn=fn.default=(0,xn.default)((0,yn.jsx)("path",{d:"M8.59 16.59 13.17 12 8.59 7.41 10 6l6 6-6 6z"}),"KeyboardArrowRight");var vn={},bn=s;Object.defineProperty(vn,"__esModule",{value:!0});var jn=vn.default=void 0,wn=bn(Yt()),Sn=o;jn=vn.default=(0,wn.default)((0,Sn.jsx)("path",{d:"m17 7-1.41 1.41L18.17 11H8v2h10.17l-2.58 2.58L17 17l5-5zM4 5h8V3H4c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h8v-2H4z"}),"Logout");var Cn={},_n=s;Object.defineProperty(Cn,"__esModule",{value:!0});var kn=Cn.default=void 0,En=_n(Yt()),Pn=o;kn=Cn.default=(0,En.default)((0,Pn.jsx)("path",{d:"M11 7 9.6 8.4l2.6 2.6H2v2h10.2l-2.6 2.6L11 17l5-5zm9 12h-8v2h8c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2h-8v2h8z"}),"Login");var On={},Mn=s;Object.defineProperty(On,"__esModule",{value:!0});var An=On.default=void 0,Tn=Mn(Yt()),In=o;An=On.default=(0,Tn.default)((0,In.jsx)("path",{d:"M15 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4m-9-2V7H4v3H1v2h3v3h2v-3h3v-2zm9 4c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4"}),"PersonAdd");const Dn=e=>"number"==typeof e&&!isNaN(e),Rn=e=>"string"==typeof e,Fn=e=>"function"==typeof e,Ln=e=>Rn(e)||Fn(e)?e:null,zn=e=>Ot.isValidElement(e)||Rn(e)||Fn(e)||Dn(e);function Bn(e){let{enter:t,exit:n,appendPosition:i=!1,collapse:r=!0,collapseDuration:s=300}=e;return function(e){let{children:o,position:a,preventExitTransition:l,done:c,nodeRef:d,isIn:h,playToast:u}=e;const p=i?`${t}--${a}`:t,f=i?`${n}--${a}`:n,m=Ot.useRef(0);return Ot.useLayoutEffect((()=>{const e=d.current,t=p.split(" "),n=i=>{i.target===d.current&&(u(),e.removeEventListener("animationend",n),e.removeEventListener("animationcancel",n),0===m.current&&"animationcancel"!==i.type&&e.classList.remove(...t))};e.classList.add(...t),e.addEventListener("animationend",n),e.addEventListener("animationcancel",n)}),[]),Ot.useEffect((()=>{const e=d.current,t=()=>{e.removeEventListener("animationend",t),r?function(e,t,n){void 0===n&&(n=300);const{scrollHeight:i,style:r}=e;requestAnimationFrame((()=>{r.minHeight="initial",r.height=i+"px",r.transition=`all ${n}ms`,requestAnimationFrame((()=>{r.height="0",r.padding="0",r.margin="0",setTimeout(t,n)}))}))}(e,c,s):c()};h||(l?t():(m.current=1,e.className+=` ${f}`,e.addEventListener("animationend",t)))}),[h]),Mt.createElement(Mt.Fragment,null,o)}}function Wn(e,t){return null!=e?{content:e.content,containerId:e.props.containerId,id:e.props.toastId,theme:e.props.theme,type:e.props.type,data:e.props.data||{},isLoading:e.props.isLoading,icon:e.props.icon,status:t}:{}}const Nn=new Map;let Vn=[];const $n=new Set,Un=e=>$n.forEach((t=>t(e))),Hn=()=>Nn.size>0;function qn(e,t){var n;if(t)return!(null==(n=Nn.get(t))||!n.isToastActive(e));let i=!1;return Nn.forEach((t=>{t.isToastActive(e)&&(i=!0)})),i}function Yn(e,t){zn(e)&&(Hn()||Vn.push({content:e,options:t}),Nn.forEach((n=>{n.buildToast(e,t)})))}function Gn(e,t){Nn.forEach((n=>{null!=t&&null!=t&&t.containerId?(null==t?void 0:t.containerId)===n.id&&n.toggle(e,null==t?void 0:t.id):n.toggle(e,null==t?void 0:t.id)}))}function Xn(e){let{delay:t,isRunning:n,closeToast:i,type:r="default",hide:s,className:o,style:l,controlledProgress:c,progress:d,rtl:h,isIn:u,theme:p}=e;const f=s||c&&0===d,m={...l,animationDuration:`${t}ms`,animationPlayState:n?"running":"paused"};c&&(m.transform=`scaleX(${d})`);const g=a("Toastify__progress-bar",c?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated",`Toastify__progress-bar-theme--${p}`,`Toastify__progress-bar--${r}`,{"Toastify__progress-bar--rtl":h}),x=Fn(o)?o({rtl:h,type:r,defaultClassName:g}):a(g,o),y={[c&&d>=1?"onTransitionEnd":"onAnimationEnd"]:c&&d<1?null:()=>{u&&i()}};return Mt.createElement("div",{className:"Toastify__progress-bar--wrp","data-hidden":f},Mt.createElement("div",{className:`Toastify__progress-bar--bg Toastify__progress-bar-theme--${p} Toastify__progress-bar--${r}`}),Mt.createElement("div",{role:"progressbar","aria-hidden":f?"true":"false","aria-label":"notification timer",className:x,style:m,...y}))}let Kn=1;const Jn=()=>""+Kn++;function Qn(e){return e&&(Rn(e.toastId)||Dn(e.toastId))?e.toastId:Jn()}function Zn(e,t){return Yn(e,t),t.toastId}function ei(e,t){return{...t,type:t&&t.type||e,toastId:Qn(t)}}function ti(e){return(t,n)=>Zn(t,ei(e,n))}function ni(e,t){return Zn(e,ei("default",t))}ni.loading=(e,t)=>Zn(e,ei("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...t})),ni.promise=function(e,t,n){let i,{pending:r,error:s,success:o}=t;r&&(i=Rn(r)?ni.loading(r,n):ni.loading(r.render,{...n,...r}));const a={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},l=(e,t,r)=>{if(null==t)return void ni.dismiss(i);const s={type:e,...a,...n,data:r},o=Rn(t)?{render:t}:t;return i?ni.update(i,{...s,...o}):ni(o.render,{...s,...o}),r},c=Fn(e)?e():e;return c.then((e=>l("success",o,e))).catch((e=>l("error",s,e))),c},ni.success=ti("success"),ni.info=ti("info"),ni.error=ti("error"),ni.warning=ti("warning"),ni.warn=ni.warning,ni.dark=(e,t)=>Zn(e,ei("default",{theme:"dark",...t})),ni.dismiss=function(e){!function(e){var t;if(Hn()){if(null==e||Rn(t=e)||Dn(t))Nn.forEach((t=>{t.removeToast(e)}));else if(e&&("containerId"in e||"id"in e)){const t=Nn.get(e.containerId);t?t.removeToast(e.id):Nn.forEach((t=>{t.removeToast(e.id)}))}}else Vn=Vn.filter((t=>null!=e&&t.options.toastId!==e))}(e)},ni.clearWaitingQueue=function(e){void 0===e&&(e={}),Nn.forEach((t=>{!t.props.limit||e.containerId&&t.id!==e.containerId||t.clearQueue()}))},ni.isActive=qn,ni.update=function(e,t){void 0===t&&(t={});const n=((e,t)=>{var n;let{containerId:i}=t;return null==(n=Nn.get(i||1))?void 0:n.toasts.get(e)})(e,t);if(n){const{props:i,content:r}=n,s={delay:100,...i,...t,toastId:t.toastId||e,updateId:Jn()};s.toastId!==e&&(s.staleId=e);const o=s.render||r;delete s.render,Zn(o,s)}},ni.done=e=>{ni.update(e,{progress:1})},ni.onChange=function(e){return $n.add(e),()=>{$n.delete(e)}},ni.play=e=>Gn(!0,e),ni.pause=e=>Gn(!1,e);const ii="undefined"!=typeof window?Ot.useLayoutEffect:Ot.useEffect,ri=e=>{let{theme:t,type:n,isLoading:i,...r}=e;return Mt.createElement("svg",{viewBox:"0 0 24 24",width:"100%",height:"100%",fill:"colored"===t?"currentColor":`var(--toastify-icon-color-${n})`,...r})},si={info:function(e){return Mt.createElement(ri,{...e},Mt.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))},warning:function(e){return Mt.createElement(ri,{...e},Mt.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))},success:function(e){return Mt.createElement(ri,{...e},Mt.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))},error:function(e){return Mt.createElement(ri,{...e},Mt.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))},spinner:function(){return Mt.createElement("div",{className:"Toastify__spinner"})}},oi=e=>{const{isRunning:t,preventExitTransition:n,toastRef:i,eventHandlers:r,playToast:s}=function(e){const[t,n]=Ot.useState(!1),[i,r]=Ot.useState(!1),s=Ot.useRef(null),o=Ot.useRef({start:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,didMove:!1}).current,{autoClose:a,pauseOnHover:l,closeToast:c,onClick:d,closeOnClick:h}=e;var u,p;function f(){n(!0)}function m(){n(!1)}function g(n){const i=s.current;o.canDrag&&i&&(o.didMove=!0,t&&m(),o.delta="x"===e.draggableDirection?n.clientX-o.start:n.clientY-o.start,o.start!==n.clientX&&(o.canCloseOnClick=!1),i.style.transform=`translate3d(${"x"===e.draggableDirection?`${o.delta}px, var(--y)`:`0, calc(${o.delta}px + var(--y))`},0)`,i.style.opacity=""+(1-Math.abs(o.delta/o.removalDistance)))}function x(){document.removeEventListener("pointermove",g),document.removeEventListener("pointerup",x);const t=s.current;if(o.canDrag&&o.didMove&&t){if(o.canDrag=!1,Math.abs(o.delta)>o.removalDistance)return r(!0),e.closeToast(),void e.collapseAll();t.style.transition="transform 0.2s, opacity 0.2s",t.style.removeProperty("transform"),t.style.removeProperty("opacity")}}null==(p=Nn.get((u={id:e.toastId,containerId:e.containerId,fn:n}).containerId||1))||p.setToggle(u.id,u.fn),Ot.useEffect((()=>{if(e.pauseOnFocusLoss)return document.hasFocus()||m(),window.addEventListener("focus",f),window.addEventListener("blur",m),()=>{window.removeEventListener("focus",f),window.removeEventListener("blur",m)}}),[e.pauseOnFocusLoss]);const y={onPointerDown:function(t){if(!0===e.draggable||e.draggable===t.pointerType){o.didMove=!1,document.addEventListener("pointermove",g),document.addEventListener("pointerup",x);const n=s.current;o.canCloseOnClick=!0,o.canDrag=!0,n.style.transition="none","x"===e.draggableDirection?(o.start=t.clientX,o.removalDistance=n.offsetWidth*(e.draggablePercent/100)):(o.start=t.clientY,o.removalDistance=n.offsetHeight*(80===e.draggablePercent?1.5*e.draggablePercent:e.draggablePercent)/100)}},onPointerUp:function(t){const{top:n,bottom:i,left:r,right:o}=s.current.getBoundingClientRect();"touchend"!==t.nativeEvent.type&&e.pauseOnHover&&t.clientX>=r&&t.clientX<=o&&t.clientY>=n&&t.clientY<=i?m():f()}};return a&&l&&(y.onMouseEnter=m,e.stacked||(y.onMouseLeave=f)),h&&(y.onClick=e=>{d&&d(e),o.canCloseOnClick&&c()}),{playToast:f,pauseToast:m,isRunning:t,preventExitTransition:i,toastRef:s,eventHandlers:y}}(e),{closeButton:o,children:l,autoClose:c,onClick:d,type:h,hideProgressBar:u,closeToast:p,transition:f,position:m,className:g,style:x,bodyClassName:y,bodyStyle:v,progressClassName:b,progressStyle:j,updateId:w,role:S,progress:C,rtl:_,toastId:k,deleteToast:E,isIn:P,isLoading:O,closeOnClick:M,theme:A}=e,T=a("Toastify__toast",`Toastify__toast-theme--${A}`,`Toastify__toast--${h}`,{"Toastify__toast--rtl":_},{"Toastify__toast--close-on-click":M}),I=Fn(g)?g({rtl:_,position:m,type:h,defaultClassName:T}):a(T,g),D=function(e){let{theme:t,type:n,isLoading:i,icon:r}=e,s=null;const o={theme:t,type:n};return!1===r||(Fn(r)?s=r({...o,isLoading:i}):Ot.isValidElement(r)?s=Ot.cloneElement(r,o):i?s=si.spinner():n in si&&(s=si[n](o))),s}(e),R=!!C||!c,F={closeToast:p,type:h,theme:A};let L=null;return!1===o||(L=Fn(o)?o(F):Ot.isValidElement(o)?Ot.cloneElement(o,F):function(e){let{closeToast:t,theme:n,ariaLabel:i="close"}=e;return Mt.createElement("button",{className:`Toastify__close-button Toastify__close-button--${n}`,type:"button",onClick:e=>{e.stopPropagation(),t(e)},"aria-label":i},Mt.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},Mt.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}(F)),Mt.createElement(f,{isIn:P,done:E,position:m,preventExitTransition:n,nodeRef:i,playToast:s},Mt.createElement("div",{id:k,onClick:d,"data-in":P,className:I,...r,style:x,ref:i},Mt.createElement("div",{...P&&{role:S},className:Fn(y)?y({type:h}):a("Toastify__toast-body",y),style:v},null!=D&&Mt.createElement("div",{className:a("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!O})},D),Mt.createElement("div",null,l)),L,Mt.createElement(Xn,{...w&&!R?{key:`pb-${w}`}:{},rtl:_,theme:A,delay:c,isRunning:t,isIn:P,closeToast:p,hide:u,type:h,style:j,className:b,controlledProgress:R,progress:C||0})))},ai=function(e,t){return void 0===t&&(t=!1),{enter:`Toastify--animate Toastify__${e}-enter`,exit:`Toastify--animate Toastify__${e}-exit`,appendPosition:t}},li=Bn(ai("bounce",!0));Bn(ai("slide",!0)),Bn(ai("zoom")),Bn(ai("flip"));const ci={position:"top-right",transition:li,autoClose:5e3,closeButton:!0,pauseOnHover:!0,pauseOnFocusLoss:!0,draggable:"touch",draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light"};function di(e){let t={...ci,...e};const n=e.stacked,[i,r]=Ot.useState(!0),s=Ot.useRef(null),{getToastToRender:o,isToastActive:l,count:c}=function(e){const{subscribe:t,getSnapshot:n,setProps:i}=Ot.useRef(function(e){const t=e.containerId||1;return{subscribe(n){const i=function(e,t,n){let i=1,r=0,s=[],o=[],a=[],l=t;const c=new Map,d=new Set,h=()=>{a=Array.from(c.values()),d.forEach((e=>e()))},u=e=>{o=null==e?[]:o.filter((t=>t!==e)),h()},p=e=>{const{toastId:t,onOpen:i,updateId:r,children:s}=e.props,a=null==r;e.staleId&&c.delete(e.staleId),c.set(t,e),o=[...o,e.props.toastId].filter((t=>t!==e.staleId)),h(),n(Wn(e,a?"added":"updated")),a&&Fn(i)&&i(Ot.isValidElement(s)&&s.props)};return{id:e,props:l,observe:e=>(d.add(e),()=>d.delete(e)),toggle:(e,t)=>{c.forEach((n=>{null!=t&&t!==n.props.toastId||Fn(n.toggle)&&n.toggle(e)}))},removeToast:u,toasts:c,clearQueue:()=>{r-=s.length,s=[]},buildToast:(t,o)=>{if((t=>{let{containerId:n,toastId:i,updateId:r}=t;const s=n?n!==e:1!==e,o=c.has(i)&&null==r;return s||o})(o))return;const{toastId:a,updateId:d,data:f,staleId:m,delay:g}=o,x=()=>{u(a)},y=null==d;y&&r++;const v={...l,style:l.toastStyle,key:i++,...Object.fromEntries(Object.entries(o).filter((e=>{let[t,n]=e;return null!=n}))),toastId:a,updateId:d,data:f,closeToast:x,isIn:!1,className:Ln(o.className||l.toastClassName),bodyClassName:Ln(o.bodyClassName||l.bodyClassName),progressClassName:Ln(o.progressClassName||l.progressClassName),autoClose:!o.isLoading&&(b=o.autoClose,j=l.autoClose,!1===b||Dn(b)&&b>0?b:j),deleteToast(){const e=c.get(a),{onClose:t,children:i}=e.props;Fn(t)&&t(Ot.isValidElement(i)&&i.props),n(Wn(e,"removed")),c.delete(a),r--,r<0&&(r=0),s.length>0?p(s.shift()):h()}};var b,j;v.closeButton=l.closeButton,!1===o.closeButton||zn(o.closeButton)?v.closeButton=o.closeButton:!0===o.closeButton&&(v.closeButton=!zn(l.closeButton)||l.closeButton);let w=t;Ot.isValidElement(t)&&!Rn(t.type)?w=Ot.cloneElement(t,{closeToast:x,toastProps:v,data:f}):Fn(t)&&(w=t({closeToast:x,toastProps:v,data:f}));const S={content:w,props:v,staleId:m};l.limit&&l.limit>0&&r>l.limit&&y?s.push(S):Dn(g)?setTimeout((()=>{p(S)}),g):p(S)},setProps(e){l=e},setToggle:(e,t)=>{c.get(e).toggle=t},isToastActive:e=>o.some((t=>t===e)),getSnapshot:()=>a}}(t,e,Un);Nn.set(t,i);const r=i.observe(n);return Vn.forEach((e=>Yn(e.content,e.options))),Vn=[],()=>{r(),Nn.delete(t)}},setProps(e){var n;null==(n=Nn.get(t))||n.setProps(e)},getSnapshot(){var e;return null==(e=Nn.get(t))?void 0:e.getSnapshot()}}}(e)).current;i(e);const r=Ot.useSyncExternalStore(t,n,n);return{getToastToRender:function(t){if(!r)return[];const n=new Map;return e.newestOnTop&&r.reverse(),r.forEach((e=>{const{position:t}=e.props;n.has(t)||n.set(t,[]),n.get(t).push(e)})),Array.from(n,(e=>t(e[0],e[1])))},isToastActive:qn,count:null==r?void 0:r.length}}(t),{className:d,style:h,rtl:u,containerId:p}=t;function f(e){const t=a("Toastify__toast-container",`Toastify__toast-container--${e}`,{"Toastify__toast-container--rtl":u});return Fn(d)?d({position:e,rtl:u,defaultClassName:t}):a(t,Ln(d))}function m(){n&&(r(!0),ni.play())}return ii((()=>{if(n){var e;const n=s.current.querySelectorAll('[data-in="true"]'),r=12,o=null==(e=t.position)?void 0:e.includes("top");let a=0,l=0;Array.from(n).reverse().forEach(((e,t)=>{const n=e;n.classList.add("Toastify__toast--stacked"),t>0&&(n.dataset.collapsed=`${i}`),n.dataset.pos||(n.dataset.pos=o?"top":"bot");const s=a*(i?.2:1)+(i?0:r*t);n.style.setProperty("--y",`${o?s:-1*s}px`),n.style.setProperty("--g",`${r}`),n.style.setProperty("--s",""+(1-(i?l:0))),a+=n.offsetHeight,l+=.025}))}}),[i,c,n]),Mt.createElement("div",{ref:s,className:"Toastify",id:p,onMouseEnter:()=>{n&&(r(!1),ni.pause())},onMouseLeave:m},o(((e,t)=>{const i=t.length?{...h}:{...h,pointerEvents:"none"};return Mt.createElement("div",{className:f(e),style:i,key:`container-${e}`},t.map((e=>{let{content:t,props:i}=e;return Mt.createElement(oi,{...i,stacked:n,collapseAll:m,isIn:l(i.toastId,i.containerId),style:i.style,key:`toast-${i.key}`},t)})))})))}function hi(e,t){return function(){return e.apply(t,arguments)}}const{toString:ui}=Object.prototype,{getPrototypeOf:pi}=Object,fi=(e=>t=>{const n=ui.call(t);return e[n]||(e[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),mi=e=>(e=e.toLowerCase(),t=>fi(t)===e),gi=e=>t=>typeof t===e,{isArray:xi}=Array,yi=gi("undefined");const vi=mi("ArrayBuffer");const bi=gi("string"),ji=gi("function"),wi=gi("number"),Si=e=>null!==e&&"object"==typeof e,Ci=e=>{if("object"!==fi(e))return!1;const t=pi(e);return!(null!==t&&t!==Object.prototype&&null!==Object.getPrototypeOf(t)||Symbol.toStringTag in e||Symbol.iterator in e)},_i=mi("Date"),ki=mi("File"),Ei=mi("Blob"),Pi=mi("FileList"),Oi=mi("URLSearchParams"),[Mi,Ai,Ti,Ii]=["ReadableStream","Request","Response","Headers"].map(mi);function Di(e,t,{allOwnKeys:n=!1}={}){if(null==e)return;let i,r;if("object"!=typeof e&&(e=[e]),xi(e))for(i=0,r=e.length;i<r;i++)t.call(null,e[i],i,e);else{const r=n?Object.getOwnPropertyNames(e):Object.keys(e),s=r.length;let o;for(i=0;i<s;i++)o=r[i],t.call(null,e[o],o,e)}}function Ri(e,t){t=t.toLowerCase();const n=Object.keys(e);let i,r=n.length;for(;r-- >0;)if(i=n[r],t===i.toLowerCase())return i;return null}const Fi="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:global,Li=e=>!yi(e)&&e!==Fi;const zi=(e=>t=>e&&t instanceof e)("undefined"!=typeof Uint8Array&&pi(Uint8Array)),Bi=mi("HTMLFormElement"),Wi=(({hasOwnProperty:e})=>(t,n)=>e.call(t,n))(Object.prototype),Ni=mi("RegExp"),Vi=(e,t)=>{const n=Object.getOwnPropertyDescriptors(e),i={};Di(n,((n,r)=>{let s;!1!==(s=t(n,r,e))&&(i[r]=s||n)})),Object.defineProperties(e,i)};const $i=mi("AsyncFunction"),Ui=(Hi="function"==typeof setImmediate,qi=ji(Fi.postMessage),Hi?setImmediate:qi?(Yi=`axios@${Math.random()}`,Gi=[],Fi.addEventListener("message",(({source:e,data:t})=>{e===Fi&&t===Yi&&Gi.length&&Gi.shift()()}),!1),e=>{Gi.push(e),Fi.postMessage(Yi,"*")}):e=>setTimeout(e));var Hi,qi,Yi,Gi;const Xi="undefined"!=typeof queueMicrotask?queueMicrotask.bind(Fi):"undefined"!=typeof process&&process.nextTick||Ui,Ki={isArray:xi,isArrayBuffer:vi,isBuffer:function(e){return null!==e&&!yi(e)&&null!==e.constructor&&!yi(e.constructor)&&ji(e.constructor.isBuffer)&&e.constructor.isBuffer(e)},isFormData:e=>{let t;return e&&("function"==typeof FormData&&e instanceof FormData||ji(e.append)&&("formdata"===(t=fi(e))||"object"===t&&ji(e.toString)&&"[object FormData]"===e.toString()))},isArrayBufferView:function(e){let t;return t="undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&vi(e.buffer),t},isString:bi,isNumber:wi,isBoolean:e=>!0===e||!1===e,isObject:Si,isPlainObject:Ci,isReadableStream:Mi,isRequest:Ai,isResponse:Ti,isHeaders:Ii,isUndefined:yi,isDate:_i,isFile:ki,isBlob:Ei,isRegExp:Ni,isFunction:ji,isStream:e=>Si(e)&&ji(e.pipe),isURLSearchParams:Oi,isTypedArray:zi,isFileList:Pi,forEach:Di,merge:function e(){const{caseless:t}=Li(this)&&this||{},n={},i=(i,r)=>{const s=t&&Ri(n,r)||r;Ci(n[s])&&Ci(i)?n[s]=e(n[s],i):Ci(i)?n[s]=e({},i):xi(i)?n[s]=i.slice():n[s]=i};for(let r=0,s=arguments.length;r<s;r++)arguments[r]&&Di(arguments[r],i);return n},extend:(e,t,n,{allOwnKeys:i}={})=>(Di(t,((t,i)=>{n&&ji(t)?e[i]=hi(t,n):e[i]=t}),{allOwnKeys:i}),e),trim:e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""),stripBOM:e=>(65279===e.charCodeAt(0)&&(e=e.slice(1)),e),inherits:(e,t,n,i)=>{e.prototype=Object.create(t.prototype,i),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},toFlatObject:(e,t,n,i)=>{let r,s,o;const a={};if(t=t||{},null==e)return t;do{for(r=Object.getOwnPropertyNames(e),s=r.length;s-- >0;)o=r[s],i&&!i(o,e,t)||a[o]||(t[o]=e[o],a[o]=!0);e=!1!==n&&pi(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},kindOf:fi,kindOfTest:mi,endsWith:(e,t,n)=>{e=String(e),(void 0===n||n>e.length)&&(n=e.length),n-=t.length;const i=e.indexOf(t,n);return-1!==i&&i===n},toArray:e=>{if(!e)return null;if(xi(e))return e;let t=e.length;if(!wi(t))return null;const n=new Array(t);for(;t-- >0;)n[t]=e[t];return n},forEachEntry:(e,t)=>{const n=(e&&e[Symbol.iterator]).call(e);let i;for(;(i=n.next())&&!i.done;){const n=i.value;t.call(e,n[0],n[1])}},matchAll:(e,t)=>{let n;const i=[];for(;null!==(n=e.exec(t));)i.push(n);return i},isHTMLForm:Bi,hasOwnProperty:Wi,hasOwnProp:Wi,reduceDescriptors:Vi,freezeMethods:e=>{Vi(e,((t,n)=>{if(ji(e)&&-1!==["arguments","caller","callee"].indexOf(n))return!1;const i=e[n];ji(i)&&(t.enumerable=!1,"writable"in t?t.writable=!1:t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")}))}))},toObjectSet:(e,t)=>{const n={},i=e=>{e.forEach((e=>{n[e]=!0}))};return xi(e)?i(e):i(String(e).split(t)),n},toCamelCase:e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,(function(e,t,n){return t.toUpperCase()+n})),noop:()=>{},toFiniteNumber:(e,t)=>null!=e&&Number.isFinite(e=+e)?e:t,findKey:Ri,global:Fi,isContextDefined:Li,isSpecCompliantForm:function(e){return!!(e&&ji(e.append)&&"FormData"===e[Symbol.toStringTag]&&e[Symbol.iterator])},toJSONObject:e=>{const t=new Array(10),n=(e,i)=>{if(Si(e)){if(t.indexOf(e)>=0)return;if(!("toJSON"in e)){t[i]=e;const r=xi(e)?[]:{};return Di(e,((e,t)=>{const s=n(e,i+1);!yi(s)&&(r[t]=s)})),t[i]=void 0,r}}return e};return n(e,0)},isAsyncFn:$i,isThenable:e=>e&&(Si(e)||ji(e))&&ji(e.then)&&ji(e.catch),setImmediate:Ui,asap:Xi};function Ji(e,t,n,i,r){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),i&&(this.request=i),r&&(this.response=r,this.status=r.status?r.status:null)}Ki.inherits(Ji,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:Ki.toJSONObject(this.config),code:this.code,status:this.status}}});const Qi=Ji.prototype,Zi={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach((e=>{Zi[e]={value:e}})),Object.defineProperties(Ji,Zi),Object.defineProperty(Qi,"isAxiosError",{value:!0}),Ji.from=(e,t,n,i,r,s)=>{const o=Object.create(Qi);return Ki.toFlatObject(e,o,(function(e){return e!==Error.prototype}),(e=>"isAxiosError"!==e)),Ji.call(o,e.message,t,n,i,r),o.cause=e,o.name=e.name,s&&Object.assign(o,s),o};function er(e){return Ki.isPlainObject(e)||Ki.isArray(e)}function tr(e){return Ki.endsWith(e,"[]")?e.slice(0,-2):e}function nr(e,t,n){return e?e.concat(t).map((function(e,t){return e=tr(e),!n&&t?"["+e+"]":e})).join(n?".":""):t}const ir=Ki.toFlatObject(Ki,{},null,(function(e){return/^is[A-Z]/.test(e)}));function rr(e,t,n){if(!Ki.isObject(e))throw new TypeError("target must be an object");t=t||new FormData;const i=(n=Ki.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,(function(e,t){return!Ki.isUndefined(t[e])}))).metaTokens,r=n.visitor||c,s=n.dots,o=n.indexes,a=(n.Blob||"undefined"!=typeof Blob&&Blob)&&Ki.isSpecCompliantForm(t);if(!Ki.isFunction(r))throw new TypeError("visitor must be a function");function l(e){if(null===e)return"";if(Ki.isDate(e))return e.toISOString();if(!a&&Ki.isBlob(e))throw new Ji("Blob is not supported. Use a Buffer instead.");return Ki.isArrayBuffer(e)||Ki.isTypedArray(e)?a&&"function"==typeof Blob?new Blob([e]):Buffer.from(e):e}function c(e,n,r){let a=e;if(e&&!r&&"object"==typeof e)if(Ki.endsWith(n,"{}"))n=i?n:n.slice(0,-2),e=JSON.stringify(e);else if(Ki.isArray(e)&&function(e){return Ki.isArray(e)&&!e.some(er)}(e)||(Ki.isFileList(e)||Ki.endsWith(n,"[]"))&&(a=Ki.toArray(e)))return n=tr(n),a.forEach((function(e,i){!Ki.isUndefined(e)&&null!==e&&t.append(!0===o?nr([n],i,s):null===o?n:n+"[]",l(e))})),!1;return!!er(e)||(t.append(nr(r,n,s),l(e)),!1)}const d=[],h=Object.assign(ir,{defaultVisitor:c,convertValue:l,isVisitable:er});if(!Ki.isObject(e))throw new TypeError("data must be an object");return function e(n,i){if(!Ki.isUndefined(n)){if(-1!==d.indexOf(n))throw Error("Circular reference detected in "+i.join("."));d.push(n),Ki.forEach(n,(function(n,s){!0===(!(Ki.isUndefined(n)||null===n)&&r.call(t,n,Ki.isString(s)?s.trim():s,i,h))&&e(n,i?i.concat(s):[s])})),d.pop()}}(e),t}function sr(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,(function(e){return t[e]}))}function or(e,t){this._pairs=[],e&&rr(e,this,t)}const ar=or.prototype;function lr(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function cr(e,t,n){if(!t)return e;const i=n&&n.encode||lr;Ki.isFunction(n)&&(n={serialize:n});const r=n&&n.serialize;let s;if(s=r?r(t,n):Ki.isURLSearchParams(t)?t.toString():new or(t,n).toString(i),s){const t=e.indexOf("#");-1!==t&&(e=e.slice(0,t)),e+=(-1===e.indexOf("?")?"?":"&")+s}return e}ar.append=function(e,t){this._pairs.push([e,t])},ar.toString=function(e){const t=e?function(t){return e.call(this,t,sr)}:sr;return this._pairs.map((function(e){return t(e[0])+"="+t(e[1])}),"").join("&")};class dr{constructor(){this.handlers=[]}use(e,t,n){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!n&&n.synchronous,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){Ki.forEach(this.handlers,(function(t){null!==t&&e(t)}))}}const hr={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},ur={isBrowser:!0,classes:{URLSearchParams:"undefined"!=typeof URLSearchParams?URLSearchParams:or,FormData:"undefined"!=typeof FormData?FormData:null,Blob:"undefined"!=typeof Blob?Blob:null},protocols:["http","https","file","blob","url","data"]},pr="undefined"!=typeof window&&"undefined"!=typeof document,fr="object"==typeof navigator&&navigator||void 0,mr=pr&&(!fr||["ReactNative","NativeScript","NS"].indexOf(fr.product)<0),gr="undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&"function"==typeof self.importScripts,xr=pr&&window.location.href||"http://localhost",yr={...Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:pr,hasStandardBrowserEnv:mr,hasStandardBrowserWebWorkerEnv:gr,navigator:fr,origin:xr},Symbol.toStringTag,{value:"Module"})),...ur};function vr(e){function t(e,n,i,r){let s=e[r++];if("__proto__"===s)return!0;const o=Number.isFinite(+s),a=r>=e.length;if(s=!s&&Ki.isArray(i)?i.length:s,a)return Ki.hasOwnProp(i,s)?i[s]=[i[s],n]:i[s]=n,!o;i[s]&&Ki.isObject(i[s])||(i[s]=[]);return t(e,n,i[s],r)&&Ki.isArray(i[s])&&(i[s]=function(e){const t={},n=Object.keys(e);let i;const r=n.length;let s;for(i=0;i<r;i++)s=n[i],t[s]=e[s];return t}(i[s])),!o}if(Ki.isFormData(e)&&Ki.isFunction(e.entries)){const n={};return Ki.forEachEntry(e,((e,i)=>{t(function(e){return Ki.matchAll(/\w+|\[(\w*)]/g,e).map((e=>"[]"===e[0]?"":e[1]||e[0]))}(e),i,n,0)})),n}return null}const br={transitional:hr,adapter:["xhr","http","fetch"],transformRequest:[function(e,t){const n=t.getContentType()||"",i=n.indexOf("application/json")>-1,r=Ki.isObject(e);r&&Ki.isHTMLForm(e)&&(e=new FormData(e));if(Ki.isFormData(e))return i?JSON.stringify(vr(e)):e;if(Ki.isArrayBuffer(e)||Ki.isBuffer(e)||Ki.isStream(e)||Ki.isFile(e)||Ki.isBlob(e)||Ki.isReadableStream(e))return e;if(Ki.isArrayBufferView(e))return e.buffer;if(Ki.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let s;if(r){if(n.indexOf("application/x-www-form-urlencoded")>-1)return function(e,t){return rr(e,new yr.classes.URLSearchParams,Object.assign({visitor:function(e,t,n,i){return yr.isNode&&Ki.isBuffer(e)?(this.append(t,e.toString("base64")),!1):i.defaultVisitor.apply(this,arguments)}},t))}(e,this.formSerializer).toString();if((s=Ki.isFileList(e))||n.indexOf("multipart/form-data")>-1){const t=this.env&&this.env.FormData;return rr(s?{"files[]":e}:e,t&&new t,this.formSerializer)}}return r||i?(t.setContentType("application/json",!1),function(e,t,n){if(Ki.isString(e))try{return(t||JSON.parse)(e),Ki.trim(e)}catch(i){if("SyntaxError"!==i.name)throw i}return(n||JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){const t=this.transitional||br.transitional,n=t&&t.forcedJSONParsing,i="json"===this.responseType;if(Ki.isResponse(e)||Ki.isReadableStream(e))return e;if(e&&Ki.isString(e)&&(n&&!this.responseType||i)){const n=!(t&&t.silentJSONParsing)&&i;try{return JSON.parse(e)}catch(r){if(n){if("SyntaxError"===r.name)throw Ji.from(r,Ji.ERR_BAD_RESPONSE,this,null,this.response);throw r}}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:yr.classes.FormData,Blob:yr.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};Ki.forEach(["delete","get","head","post","put","patch"],(e=>{br.headers[e]={}}));const jr=Ki.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),wr=Symbol("internals");function Sr(e){return e&&String(e).trim().toLowerCase()}function Cr(e){return!1===e||null==e?e:Ki.isArray(e)?e.map(Cr):String(e)}function _r(e,t,n,i,r){return Ki.isFunction(i)?i.call(this,t,n):(r&&(t=n),Ki.isString(t)?Ki.isString(i)?-1!==t.indexOf(i):Ki.isRegExp(i)?i.test(t):void 0:void 0)}let kr=class{constructor(e){e&&this.set(e)}set(e,t,n){const i=this;function r(e,t,n){const r=Sr(t);if(!r)throw new Error("header name must be a non-empty string");const s=Ki.findKey(i,r);(!s||void 0===i[s]||!0===n||void 0===n&&!1!==i[s])&&(i[s||t]=Cr(e))}const s=(e,t)=>Ki.forEach(e,((e,n)=>r(e,n,t)));if(Ki.isPlainObject(e)||e instanceof this.constructor)s(e,t);else if(Ki.isString(e)&&(e=e.trim())&&!/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim()))s((e=>{const t={};let n,i,r;return e&&e.split("\n").forEach((function(e){r=e.indexOf(":"),n=e.substring(0,r).trim().toLowerCase(),i=e.substring(r+1).trim(),!n||t[n]&&jr[n]||("set-cookie"===n?t[n]?t[n].push(i):t[n]=[i]:t[n]=t[n]?t[n]+", "+i:i)})),t})(e),t);else if(Ki.isHeaders(e))for(const[o,a]of e.entries())r(a,o,n);else null!=e&&r(t,e,n);return this}get(e,t){if(e=Sr(e)){const n=Ki.findKey(this,e);if(n){const e=this[n];if(!t)return e;if(!0===t)return function(e){const t=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let i;for(;i=n.exec(e);)t[i[1]]=i[2];return t}(e);if(Ki.isFunction(t))return t.call(this,e,n);if(Ki.isRegExp(t))return t.exec(e);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=Sr(e)){const n=Ki.findKey(this,e);return!(!n||void 0===this[n]||t&&!_r(0,this[n],n,t))}return!1}delete(e,t){const n=this;let i=!1;function r(e){if(e=Sr(e)){const r=Ki.findKey(n,e);!r||t&&!_r(0,n[r],r,t)||(delete n[r],i=!0)}}return Ki.isArray(e)?e.forEach(r):r(e),i}clear(e){const t=Object.keys(this);let n=t.length,i=!1;for(;n--;){const r=t[n];e&&!_r(0,this[r],r,e,!0)||(delete this[r],i=!0)}return i}normalize(e){const t=this,n={};return Ki.forEach(this,((i,r)=>{const s=Ki.findKey(n,r);if(s)return t[s]=Cr(i),void delete t[r];const o=e?function(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,((e,t,n)=>t.toUpperCase()+n))}(r):String(r).trim();o!==r&&delete t[r],t[o]=Cr(i),n[o]=!0})),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const t=Object.create(null);return Ki.forEach(this,((n,i)=>{null!=n&&!1!==n&&(t[i]=e&&Ki.isArray(n)?n.join(", "):n)})),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map((([e,t])=>e+": "+t)).join("\n")}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...t){const n=new this(e);return t.forEach((e=>n.set(e))),n}static accessor(e){const t=(this[wr]=this[wr]={accessors:{}}).accessors,n=this.prototype;function i(e){const i=Sr(e);t[i]||(!function(e,t){const n=Ki.toCamelCase(" "+t);["get","set","has"].forEach((i=>{Object.defineProperty(e,i+n,{value:function(e,n,r){return this[i].call(this,t,e,n,r)},configurable:!0})}))}(n,e),t[i]=!0)}return Ki.isArray(e)?e.forEach(i):i(e),this}};function Er(e,t){const n=this||br,i=t||n,r=kr.from(i.headers);let s=i.data;return Ki.forEach(e,(function(e){s=e.call(n,s,r.normalize(),t?t.status:void 0)})),r.normalize(),s}function Pr(e){return!(!e||!e.__CANCEL__)}function Or(e,t,n){Ji.call(this,null==e?"canceled":e,Ji.ERR_CANCELED,t,n),this.name="CanceledError"}function Mr(e,t,n){const i=n.config.validateStatus;n.status&&i&&!i(n.status)?t(new Ji("Request failed with status code "+n.status,[Ji.ERR_BAD_REQUEST,Ji.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n)):e(n)}kr.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]),Ki.reduceDescriptors(kr.prototype,(({value:e},t)=>{let n=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(e){this[n]=e}}})),Ki.freezeMethods(kr),Ki.inherits(Or,Ji,{__CANCEL__:!0});const Ar=(e,t,n=3)=>{let i=0;const r=function(e,t){e=e||10;const n=new Array(e),i=new Array(e);let r,s=0,o=0;return t=void 0!==t?t:1e3,function(a){const l=Date.now(),c=i[o];r||(r=l),n[s]=a,i[s]=l;let d=o,h=0;for(;d!==s;)h+=n[d++],d%=e;if(s=(s+1)%e,s===o&&(o=(o+1)%e),l-r<t)return;const u=c&&l-c;return u?Math.round(1e3*h/u):void 0}}(50,250);return function(e,t){let n,i,r=0,s=1e3/t;const o=(t,s=Date.now())=>{r=s,n=null,i&&(clearTimeout(i),i=null),e.apply(null,t)};return[(...e)=>{const t=Date.now(),a=t-r;a>=s?o(e,t):(n=e,i||(i=setTimeout((()=>{i=null,o(n)}),s-a)))},()=>n&&o(n)]}((n=>{const s=n.loaded,o=n.lengthComputable?n.total:void 0,a=s-i,l=r(a);i=s;e({loaded:s,total:o,progress:o?s/o:void 0,bytes:a,rate:l||void 0,estimated:l&&o&&s<=o?(o-s)/l:void 0,event:n,lengthComputable:null!=o,[t?"download":"upload"]:!0})}),n)},Tr=(e,t)=>{const n=null!=e;return[i=>t[0]({lengthComputable:n,total:e,loaded:i}),t[1]]},Ir=e=>(...t)=>Ki.asap((()=>e(...t))),Dr=yr.hasStandardBrowserEnv?((e,t)=>n=>(n=new URL(n,yr.origin),e.protocol===n.protocol&&e.host===n.host&&(t||e.port===n.port)))(new URL(yr.origin),yr.navigator&&/(msie|trident)/i.test(yr.navigator.userAgent)):()=>!0,Rr=yr.hasStandardBrowserEnv?{write(e,t,n,i,r,s){const o=[e+"="+encodeURIComponent(t)];Ki.isNumber(n)&&o.push("expires="+new Date(n).toGMTString()),Ki.isString(i)&&o.push("path="+i),Ki.isString(r)&&o.push("domain="+r),!0===s&&o.push("secure"),document.cookie=o.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read:()=>null,remove(){}};function Fr(e,t,n){let i=!/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t);return e&&(i||0==n)?function(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}(e,t):t}const Lr=e=>e instanceof kr?{...e}:e;function zr(e,t){t=t||{};const n={};function i(e,t,n,i){return Ki.isPlainObject(e)&&Ki.isPlainObject(t)?Ki.merge.call({caseless:i},e,t):Ki.isPlainObject(t)?Ki.merge({},t):Ki.isArray(t)?t.slice():t}function r(e,t,n,r){return Ki.isUndefined(t)?Ki.isUndefined(e)?void 0:i(void 0,e,0,r):i(e,t,0,r)}function s(e,t){if(!Ki.isUndefined(t))return i(void 0,t)}function o(e,t){return Ki.isUndefined(t)?Ki.isUndefined(e)?void 0:i(void 0,e):i(void 0,t)}function a(n,r,s){return s in t?i(n,r):s in e?i(void 0,n):void 0}const l={url:s,method:s,data:s,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:a,headers:(e,t,n)=>r(Lr(e),Lr(t),0,!0)};return Ki.forEach(Object.keys(Object.assign({},e,t)),(function(i){const s=l[i]||r,o=s(e[i],t[i],i);Ki.isUndefined(o)&&s!==a||(n[i]=o)})),n}const Br=e=>{const t=zr({},e);let n,{data:i,withXSRFToken:r,xsrfHeaderName:s,xsrfCookieName:o,headers:a,auth:l}=t;if(t.headers=a=kr.from(a),t.url=cr(Fr(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),l&&a.set("Authorization","Basic "+btoa((l.username||"")+":"+(l.password?unescape(encodeURIComponent(l.password)):""))),Ki.isFormData(i))if(yr.hasStandardBrowserEnv||yr.hasStandardBrowserWebWorkerEnv)a.setContentType(void 0);else if(!1!==(n=a.getContentType())){const[e,...t]=n?n.split(";").map((e=>e.trim())).filter(Boolean):[];a.setContentType([e||"multipart/form-data",...t].join("; "))}if(yr.hasStandardBrowserEnv&&(r&&Ki.isFunction(r)&&(r=r(t)),r||!1!==r&&Dr(t.url))){const e=s&&o&&Rr.read(o);e&&a.set(s,e)}return t},Wr="undefined"!=typeof XMLHttpRequest&&function(e){return new Promise((function(t,n){const i=Br(e);let r=i.data;const s=kr.from(i.headers).normalize();let o,a,l,c,d,{responseType:h,onUploadProgress:u,onDownloadProgress:p}=i;function f(){c&&c(),d&&d(),i.cancelToken&&i.cancelToken.unsubscribe(o),i.signal&&i.signal.removeEventListener("abort",o)}let m=new XMLHttpRequest;function g(){if(!m)return;const i=kr.from("getAllResponseHeaders"in m&&m.getAllResponseHeaders());Mr((function(e){t(e),f()}),(function(e){n(e),f()}),{data:h&&"text"!==h&&"json"!==h?m.response:m.responseText,status:m.status,statusText:m.statusText,headers:i,config:e,request:m}),m=null}m.open(i.method.toUpperCase(),i.url,!0),m.timeout=i.timeout,"onloadend"in m?m.onloadend=g:m.onreadystatechange=function(){m&&4===m.readyState&&(0!==m.status||m.responseURL&&0===m.responseURL.indexOf("file:"))&&setTimeout(g)},m.onabort=function(){m&&(n(new Ji("Request aborted",Ji.ECONNABORTED,e,m)),m=null)},m.onerror=function(){n(new Ji("Network Error",Ji.ERR_NETWORK,e,m)),m=null},m.ontimeout=function(){let t=i.timeout?"timeout of "+i.timeout+"ms exceeded":"timeout exceeded";const r=i.transitional||hr;i.timeoutErrorMessage&&(t=i.timeoutErrorMessage),n(new Ji(t,r.clarifyTimeoutError?Ji.ETIMEDOUT:Ji.ECONNABORTED,e,m)),m=null},void 0===r&&s.setContentType(null),"setRequestHeader"in m&&Ki.forEach(s.toJSON(),(function(e,t){m.setRequestHeader(t,e)})),Ki.isUndefined(i.withCredentials)||(m.withCredentials=!!i.withCredentials),h&&"json"!==h&&(m.responseType=i.responseType),p&&([l,d]=Ar(p,!0),m.addEventListener("progress",l)),u&&m.upload&&([a,c]=Ar(u),m.upload.addEventListener("progress",a),m.upload.addEventListener("loadend",c)),(i.cancelToken||i.signal)&&(o=t=>{m&&(n(!t||t.type?new Or(null,e,m):t),m.abort(),m=null)},i.cancelToken&&i.cancelToken.subscribe(o),i.signal&&(i.signal.aborted?o():i.signal.addEventListener("abort",o)));const x=function(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}(i.url);x&&-1===yr.protocols.indexOf(x)?n(new Ji("Unsupported protocol "+x+":",Ji.ERR_BAD_REQUEST,e)):m.send(r||null)}))},Nr=(e,t)=>{const{length:n}=e=e?e.filter(Boolean):[];if(t||n){let n,i=new AbortController;const r=function(e){if(!n){n=!0,o();const t=e instanceof Error?e:this.reason;i.abort(t instanceof Ji?t:new Or(t instanceof Error?t.message:t))}};let s=t&&setTimeout((()=>{s=null,r(new Ji(`timeout ${t} of ms exceeded`,Ji.ETIMEDOUT))}),t);const o=()=>{e&&(s&&clearTimeout(s),s=null,e.forEach((e=>{e.unsubscribe?e.unsubscribe(r):e.removeEventListener("abort",r)})),e=null)};e.forEach((e=>e.addEventListener("abort",r)));const{signal:a}=i;return a.unsubscribe=()=>Ki.asap(o),a}},Vr=function*(e,t){let n=e.byteLength;if(n<t)return void(yield e);let i,r=0;for(;r<n;)i=r+t,yield e.slice(r,i),r=i},$r=async function*(e){if(e[Symbol.asyncIterator])return void(yield*e);const t=e.getReader();try{for(;;){const{done:e,value:n}=await t.read();if(e)break;yield n}}finally{await t.cancel()}},Ur=(e,t,n,i)=>{const r=async function*(e,t){for await(const n of $r(e))yield*Vr(n,t)}(e,t);let s,o=0,a=e=>{s||(s=!0,i&&i(e))};return new ReadableStream({async pull(e){try{const{done:t,value:i}=await r.next();if(t)return a(),void e.close();let s=i.byteLength;if(n){let e=o+=s;n(e)}e.enqueue(new Uint8Array(i))}catch(t){throw a(t),t}},cancel:e=>(a(e),r.return())},{highWaterMark:2})},Hr="function"==typeof fetch&&"function"==typeof Request&&"function"==typeof Response,qr=Hr&&"function"==typeof ReadableStream,Yr=Hr&&("function"==typeof TextEncoder?(e=>t=>e.encode(t))(new TextEncoder):async e=>new Uint8Array(await new Response(e).arrayBuffer())),Gr=(e,...t)=>{try{return!!e(...t)}catch(n){return!1}},Xr=qr&&Gr((()=>{let e=!1;const t=new Request(yr.origin,{body:new ReadableStream,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t})),Kr=qr&&Gr((()=>Ki.isReadableStream(new Response("").body))),Jr={stream:Kr&&(e=>e.body)};var Qr;Hr&&(Qr=new Response,["text","arrayBuffer","blob","formData","stream"].forEach((e=>{!Jr[e]&&(Jr[e]=Ki.isFunction(Qr[e])?t=>t[e]():(t,n)=>{throw new Ji(`Response type '${e}' is not supported`,Ji.ERR_NOT_SUPPORT,n)})})));const Zr=async(e,t)=>{const n=Ki.toFiniteNumber(e.getContentLength());return null==n?(async e=>{if(null==e)return 0;if(Ki.isBlob(e))return e.size;if(Ki.isSpecCompliantForm(e)){const t=new Request(yr.origin,{method:"POST",body:e});return(await t.arrayBuffer()).byteLength}return Ki.isArrayBufferView(e)||Ki.isArrayBuffer(e)?e.byteLength:(Ki.isURLSearchParams(e)&&(e+=""),Ki.isString(e)?(await Yr(e)).byteLength:void 0)})(t):n},es={http:null,xhr:Wr,fetch:Hr&&(async e=>{let{url:t,method:n,data:i,signal:r,cancelToken:s,timeout:o,onDownloadProgress:a,onUploadProgress:l,responseType:c,headers:d,withCredentials:h="same-origin",fetchOptions:u}=Br(e);c=c?(c+"").toLowerCase():"text";let p,f=Nr([r,s&&s.toAbortSignal()],o);const m=f&&f.unsubscribe&&(()=>{f.unsubscribe()});let g;try{if(l&&Xr&&"get"!==n&&"head"!==n&&0!==(g=await Zr(d,i))){let e,n=new Request(t,{method:"POST",body:i,duplex:"half"});if(Ki.isFormData(i)&&(e=n.headers.get("content-type"))&&d.setContentType(e),n.body){const[e,t]=Tr(g,Ar(Ir(l)));i=Ur(n.body,65536,e,t)}}Ki.isString(h)||(h=h?"include":"omit");const r="credentials"in Request.prototype;p=new Request(t,{...u,signal:f,method:n.toUpperCase(),headers:d.normalize().toJSON(),body:i,duplex:"half",credentials:r?h:void 0});let s=await fetch(p);const o=Kr&&("stream"===c||"response"===c);if(Kr&&(a||o&&m)){const e={};["status","statusText","headers"].forEach((t=>{e[t]=s[t]}));const t=Ki.toFiniteNumber(s.headers.get("content-length")),[n,i]=a&&Tr(t,Ar(Ir(a),!0))||[];s=new Response(Ur(s.body,65536,n,(()=>{i&&i(),m&&m()})),e)}c=c||"text";let x=await Jr[Ki.findKey(Jr,c)||"text"](s,e);return!o&&m&&m(),await new Promise(((t,n)=>{Mr(t,n,{data:x,headers:kr.from(s.headers),status:s.status,statusText:s.statusText,config:e,request:p})}))}catch(x){if(m&&m(),x&&"TypeError"===x.name&&/fetch/i.test(x.message))throw Object.assign(new Ji("Network Error",Ji.ERR_NETWORK,e,p),{cause:x.cause||x});throw Ji.from(x,x&&x.code,e,p)}})};Ki.forEach(es,((e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch(n){}Object.defineProperty(e,"adapterName",{value:t})}}));const ts=e=>`- ${e}`,ns=e=>Ki.isFunction(e)||null===e||!1===e,is=e=>{e=Ki.isArray(e)?e:[e];const{length:t}=e;let n,i;const r={};for(let s=0;s<t;s++){let t;if(n=e[s],i=n,!ns(n)&&(i=es[(t=String(n)).toLowerCase()],void 0===i))throw new Ji(`Unknown adapter '${t}'`);if(i)break;r[t||"#"+s]=i}if(!i){const e=Object.entries(r).map((([e,t])=>`adapter ${e} `+(!1===t?"is not supported by the environment":"is not available in the build")));throw new Ji("There is no suitable adapter to dispatch the request "+(t?e.length>1?"since :\n"+e.map(ts).join("\n"):" "+ts(e[0]):"as no adapter specified"),"ERR_NOT_SUPPORT")}return i};function rs(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Or(null,e)}function ss(e){rs(e),e.headers=kr.from(e.headers),e.data=Er.call(e,e.transformRequest),-1!==["post","put","patch"].indexOf(e.method)&&e.headers.setContentType("application/x-www-form-urlencoded",!1);return is(e.adapter||br.adapter)(e).then((function(t){return rs(e),t.data=Er.call(e,e.transformResponse,t),t.headers=kr.from(t.headers),t}),(function(t){return Pr(t)||(rs(e),t&&t.response&&(t.response.data=Er.call(e,e.transformResponse,t.response),t.response.headers=kr.from(t.response.headers))),Promise.reject(t)}))}const os="1.8.4",as={};["object","boolean","number","function","string","symbol"].forEach(((e,t)=>{as[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}}));const ls={};as.transitional=function(e,t,n){function i(e,t){return"[Axios v1.8.4] Transitional option '"+e+"'"+t+(n?". "+n:"")}return(n,r,s)=>{if(!1===e)throw new Ji(i(r," has been removed"+(t?" in "+t:"")),Ji.ERR_DEPRECATED);return t&&!ls[r]&&(ls[r]=!0,console.warn(i(r," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(n,r,s)}},as.spelling=function(e){return(t,n)=>(console.warn(`${n} is likely a misspelling of ${e}`),!0)};const cs={assertOptions:function(e,t,n){if("object"!=typeof e)throw new Ji("options must be an object",Ji.ERR_BAD_OPTION_VALUE);const i=Object.keys(e);let r=i.length;for(;r-- >0;){const s=i[r],o=t[s];if(o){const t=e[s],n=void 0===t||o(t,s,e);if(!0!==n)throw new Ji("option "+s+" must be "+n,Ji.ERR_BAD_OPTION_VALUE)}else if(!0!==n)throw new Ji("Unknown option "+s,Ji.ERR_BAD_OPTION)}},validators:as},ds=cs.validators;let hs=class{constructor(e){this.defaults=e,this.interceptors={request:new dr,response:new dr}}async request(e,t){try{return await this._request(e,t)}catch(n){if(n instanceof Error){let e={};Error.captureStackTrace?Error.captureStackTrace(e):e=new Error;const t=e.stack?e.stack.replace(/^.+\n/,""):"";try{n.stack?t&&!String(n.stack).endsWith(t.replace(/^.+\n.+\n/,""))&&(n.stack+="\n"+t):n.stack=t}catch(i){}}throw n}}_request(e,t){"string"==typeof e?(t=t||{}).url=e:t=e||{},t=zr(this.defaults,t);const{transitional:n,paramsSerializer:i,headers:r}=t;void 0!==n&&cs.assertOptions(n,{silentJSONParsing:ds.transitional(ds.boolean),forcedJSONParsing:ds.transitional(ds.boolean),clarifyTimeoutError:ds.transitional(ds.boolean)},!1),null!=i&&(Ki.isFunction(i)?t.paramsSerializer={serialize:i}:cs.assertOptions(i,{encode:ds.function,serialize:ds.function},!0)),void 0!==t.allowAbsoluteUrls||(void 0!==this.defaults.allowAbsoluteUrls?t.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:t.allowAbsoluteUrls=!0),cs.assertOptions(t,{baseUrl:ds.spelling("baseURL"),withXsrfToken:ds.spelling("withXSRFToken")},!0),t.method=(t.method||this.defaults.method||"get").toLowerCase();let s=r&&Ki.merge(r.common,r[t.method]);r&&Ki.forEach(["delete","get","head","post","put","patch","common"],(e=>{delete r[e]})),t.headers=kr.concat(s,r);const o=[];let a=!0;this.interceptors.request.forEach((function(e){"function"==typeof e.runWhen&&!1===e.runWhen(t)||(a=a&&e.synchronous,o.unshift(e.fulfilled,e.rejected))}));const l=[];let c;this.interceptors.response.forEach((function(e){l.push(e.fulfilled,e.rejected)}));let d,h=0;if(!a){const e=[ss.bind(this),void 0];for(e.unshift.apply(e,o),e.push.apply(e,l),d=e.length,c=Promise.resolve(t);h<d;)c=c.then(e[h++],e[h++]);return c}d=o.length;let u=t;for(h=0;h<d;){const e=o[h++],t=o[h++];try{u=e(u)}catch(p){t.call(this,p);break}}try{c=ss.call(this,u)}catch(p){return Promise.reject(p)}for(h=0,d=l.length;h<d;)c=c.then(l[h++],l[h++]);return c}getUri(e){return cr(Fr((e=zr(this.defaults,e)).baseURL,e.url,e.allowAbsoluteUrls),e.params,e.paramsSerializer)}};Ki.forEach(["delete","get","head","options"],(function(e){hs.prototype[e]=function(t,n){return this.request(zr(n||{},{method:e,url:t,data:(n||{}).data}))}})),Ki.forEach(["post","put","patch"],(function(e){function t(t){return function(n,i,r){return this.request(zr(r||{},{method:e,headers:t?{"Content-Type":"multipart/form-data"}:{},url:n,data:i}))}}hs.prototype[e]=t(),hs.prototype[e+"Form"]=t(!0)}));const us={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(us).forEach((([e,t])=>{us[t]=e}));const ps=function e(t){const n=new hs(t),i=hi(hs.prototype.request,n);return Ki.extend(i,hs.prototype,n,{allOwnKeys:!0}),Ki.extend(i,n,null,{allOwnKeys:!0}),i.create=function(n){return e(zr(t,n))},i}(br);ps.Axios=hs,ps.CanceledError=Or,ps.CancelToken=class e{constructor(e){if("function"!=typeof e)throw new TypeError("executor must be a function.");let t;this.promise=new Promise((function(e){t=e}));const n=this;this.promise.then((e=>{if(!n._listeners)return;let t=n._listeners.length;for(;t-- >0;)n._listeners[t](e);n._listeners=null})),this.promise.then=e=>{let t;const i=new Promise((e=>{n.subscribe(e),t=e})).then(e);return i.cancel=function(){n.unsubscribe(t)},i},e((function(e,i,r){n.reason||(n.reason=new Or(e,i,r),t(n.reason))}))}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}toAbortSignal(){const e=new AbortController,t=t=>{e.abort(t)};return this.subscribe(t),e.signal.unsubscribe=()=>this.unsubscribe(t),e.signal}static source(){let t;return{token:new e((function(e){t=e})),cancel:t}}},ps.isCancel=Pr,ps.VERSION=os,ps.toFormData=rr,ps.AxiosError=Ji,ps.Cancel=ps.CanceledError,ps.all=function(e){return Promise.all(e)},ps.spread=function(e){return function(t){return e.apply(null,t)}},ps.isAxiosError=function(e){return Ki.isObject(e)&&!0===e.isAxiosError},ps.mergeConfig=zr,ps.AxiosHeaders=kr,ps.formToJSON=e=>vr(Ki.isHTMLForm(e)?new FormData(e):e),ps.getAdapter=is,ps.HttpStatusCode=us,ps.default=ps;const{Axios:fs,AxiosError:ms,CanceledError:gs,isCancel:xs,CancelToken:ys,VERSION:vs,all:bs,Cancel:js,isAxiosError:ws,spread:Ss,toFormData:Cs,AxiosHeaders:_s,HttpStatusCode:ks,formToJSON:Es,getAdapter:Ps,mergeConfig:Os}=ps,Ms="4173"===window.location.port,As=(...e)=>{console.error("[ERROR]:","See application logs for details")},Ts=e=>{if("object"==typeof e&&null!==e){const t={...e};return["token","password","secret","key","auth"].forEach((e=>{e in t&&(t[e]="[REDACTED]")})),t}return e};{const e=()=>{};console.log=e,console.debug=e}const Is=()=>Ms?"http://localhost:3001":"https://ssksilks.in",Ds=`${Is()}/api`,Rs=Is(),Fs={getSettings:async()=>(await ps.get(`${Ds}/api/settings`)).data,updateSettings:async e=>(await ps.put(`${Ds}/api/settings`,e)).data,async uploadOfferImage(e){const t=new FormData;t.append("image",e);try{console.log("Uploading offer image to:",`${Ds}/settings/offer-image`);const e=await ps.post(`${Ds}/settings/offer-image`,t,{headers:{"Content-Type":"multipart/form-data"}});console.log("Upload response:",e.data);let n=e.data.imagePath;return n.startsWith("/api/")&&(n=n.replace("/api/","/")),n}catch(n){throw console.error("Error uploading image:",n),n}},async getPaymentSettings(){var e;const t=(await ps.get(`${Ds}/api/settings`)).data;if(!(null==(e=null==t?void 0:t.payment)?void 0:e.razorpayKeyId))throw new Error("Razorpay key not found in settings");return t.payment},async getAutomaticOffers(){var e;return(null==(e=(await ps.get(`${Ds}/api/settings`)).data.offers)?void 0:e.filter((e=>e.isAutomatic)))||[]}},Ls=Object.freeze(Object.defineProperty({__proto__:null,settingsApi:Fs},Symbol.toStringTag,{value:"Module"})),zs=(e,t="products",n="placeholder.jpg")=>{if(!e)return`${Rs}/images/${t}/${n}`;if(e.startsWith("http"))return e;const i=e.replace(new RegExp(`^/images/${t}/`),"");return`${Rs}/images/${t}/${i}`},Bs=Ot.createContext(void 0),Ws=()=>{const e=Ot.useContext(Bs);if(void 0===e)throw new Error("useCart must be used within a CartProvider");return e},Ns=({children:e})=>{const[t,n]=Ot.useState([]),[i,r]=Ot.useState(0),[s,a]=Ot.useState(0),[l,c]=Ot.useState(!1),[d,h]=Ot.useState(null),[u,p]=Ot.useState(null),f=t.reduce(((e,t)=>e+t.quantity),0),m=t.reduce(((e,t)=>e+t.price*t.quantity),0);Ot.useEffect((()=>{const e=localStorage.getItem("cart");e&&n(JSON.parse(e))}),[]),Ot.useEffect((()=>{localStorage.setItem("cart",JSON.stringify(t))}),[t]),Ot.useEffect((()=>{if(!u)return;const{type:e,item:t,quantity:n,discount:i}=u;"add"===e&&t?ni.success(o.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[o.jsx("img",{src:zs(t.image),alt:t.name,style:{width:"40px",height:"40px",objectFit:"cover",borderRadius:"4px"}}),o.jsxs("div",{children:[o.jsx("div",{style:{fontWeight:600},children:t.name}),o.jsxs("div",{style:{fontSize:"0.9em",color:"#666"},children:["Quantity: ",t.quantity," | ",t.price.toLocaleString()]})]})]}),{position:"bottom-left",autoClose:3e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0}):"remove"===e&&t?ni.info(o.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[o.jsx("img",{src:zs(t.image),alt:t.name,style:{width:"40px",height:"40px",objectFit:"cover",borderRadius:"4px"}}),o.jsxs("div",{children:[o.jsx("div",{style:{fontWeight:600},children:t.name}),o.jsx("div",{style:{fontSize:"0.9em",color:"#666"},children:"Removed from cart"})]})]}),{position:"bottom-left",autoClose:3e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0}):"update"===e&&t&&void 0!==n?ni.success(o.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[o.jsx("img",{src:zs(t.image),alt:t.name,style:{width:"40px",height:"40px",objectFit:"cover",borderRadius:"4px"}}),o.jsxs("div",{children:[o.jsx("div",{style:{fontWeight:600},children:t.name}),o.jsxs("div",{style:{fontSize:"0.9em",color:"#666"},children:["Quantity updated to ",n]})]})]}),{position:"bottom-left",autoClose:3e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0}):"clear"===e?ni.info("Cart cleared",{position:"bottom-left",autoClose:3e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0}):"discount"===e&&void 0!==i&&ni.success(o.jsx("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:o.jsxs("div",{children:[o.jsx("div",{style:{fontWeight:600},children:"Discount Applied!"}),o.jsxs("div",{style:{fontSize:"0.9em",color:"#666"},children:["You saved ",i.toLocaleString()]})]})}),{position:"bottom-left",autoClose:3e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0}),p(null)}),[u]),Ot.useEffect((()=>{(async()=>{var e;try{if(0===t.length)return h(null),r(0),a(0),void c(!1);const n=await Fs.getAutomaticOffers();if(n&&n.length>0){const i=n.filter((e=>{if(!e.automaticSettings)return!1;const{minOrderValue:n,minItems:i,applicableCategories:r,applicableProducts:s}=e.automaticSettings;if(n&&m<n)return!1;if(i&&f<i)return!1;if(r&&r.length>0){if(!t.some((e=>r.includes(e.categoryId))))return!1}if(s&&s.length>0){if(!t.some((e=>s.includes(e.id))))return!1}return!0}));if(i.length>0){const t=i.reduce(((e,t)=>m*(t.discountPercentage||0)/100>m*(e.discountPercentage||0)/100?t:e));h(t);const n=m*(t.discountPercentage||0)/100,s=(null==(e=t.automaticSettings)?void 0:e.minOrderValue)?Math.min(n,t.automaticSettings.minOrderValue):n;r(s),a(t.discountPercentage||0),c(!0),p({type:"discount",discount:s})}else h(null),r(0),a(0),c(!1)}}catch(n){console.error("Error checking automatic offers:",n),h(null),r(0),a(0),c(!1)}})()}),[t,m,f]);return o.jsx(Bs.Provider,{value:{items:t,totalItems:f,totalPrice:m,discount:i,discountPercentage:s,discountApplied:l,addItem:e=>{n((t=>{const n=t.find((t=>t.id===e.id));if(n){const i=n.quantity+1,r={...n,quantity:i};return p({type:"add",item:r}),t.map((t=>t.id===e.id?r:t))}return p({type:"add",item:e}),[...t,e]}))},removeItem:e=>{n((t=>{const n=t.find((t=>t.id===e));return n&&p({type:"remove",item:n}),t.filter((t=>t.id!==e))}))},clearCart:()=>{n([]),r(0),a(0),c(!1),h(null),p({type:"clear"})},updateQuantity:(e,t)=>{t<1||n((n=>{const i=n.find((t=>t.id===e));if(i){const r={...i,quantity:t};return p({type:"update",item:r,quantity:t}),n.map((t=>t.id===e?r:t))}return n}))},getItemQuantity:e=>{const n=t.find((t=>t.id===e));return(null==n?void 0:n.quantity)||0},applyDiscount:async e=>{var t,n,i;try{if(d&&d.coupon===e){const e=m*(d.discountPercentage||0)/100,n=(null==(t=d.automaticSettings)?void 0:t.minOrderValue)?Math.min(e,d.automaticSettings.minOrderValue):e;return r(n),a(d.discountPercentage||0),c(!0),p({type:"discount",discount:n}),!0}const s=null==(n=(await Fs.getSettings()).offers)?void 0:n.find((t=>{var n;return(null==(n=t.coupon)?void 0:n.toLowerCase())===e.toLowerCase()}));if(s){const e=m*(s.discountPercentage||0)/100,t=(null==(i=s.automaticSettings)?void 0:i.minOrderValue)?Math.min(e,s.automaticSettings.minOrderValue):e;return r(t),a(s.discountPercentage||0),c(!0),p({type:"discount",discount:t}),!0}return!1}catch(s){return console.error("Error applying discount:",s),!1}},activeOffer:d,setActiveOffer:h},children:e})},Vs=Ot.createContext(void 0),$s=({children:e})=>{const[t,n]=Ot.useState(null),[i,r]=Ot.useState(null),[s,a]=Ot.useState(!1);Ot.useEffect((()=>{const e=localStorage.getItem("customerToken"),t=localStorage.getItem("user");if(e&&t)try{const i=JSON.parse(t);n(i),r(e),a(!0)}catch(i){console.error("Error parsing user data:",i),localStorage.removeItem("user"),localStorage.removeItem("customerToken"),a(!1)}}),[]),Ot.useEffect((()=>{t?(localStorage.setItem("user",JSON.stringify(t)),a(!0)):(localStorage.removeItem("user"),a(!1))}),[t]);return o.jsx(Vs.Provider,{value:{user:t,login:e=>{n(e);const t=localStorage.getItem("customerToken");t&&(r(t),a(!0))},logout:()=>{n(null),r(null),a(!1),localStorage.removeItem("customerToken"),localStorage.removeItem("customerId"),localStorage.removeItem("user"),localStorage.removeItem("customerEmail"),localStorage.removeItem("customerPhone")},isAuthenticated:s,setUser:n,setIsAuthenticated:a},children:e})},Us=()=>{const e=Ot.useContext(Vs);if(void 0===e)throw new Error("useAuth must be used within an AuthProvider");return e},Hs=Ot.createContext({});function qs(e){const t=Ot.useRef(null);return null===t.current&&(t.current=e()),t.current}const Ys=Ot.createContext(null),Gs=Ot.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});class Xs extends Ot.Component{getSnapshotBeforeUpdate(e){const t=this.props.childRef.current;if(t&&e.isPresent&&!this.props.isPresent){const e=this.props.sizeRef.current;e.height=t.offsetHeight||0,e.width=t.offsetWidth||0,e.top=t.offsetTop,e.left=t.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function Ks({children:e,isPresent:t}){const n=Ot.useId(),i=Ot.useRef(null),r=Ot.useRef({width:0,height:0,top:0,left:0}),{nonce:s}=Ot.useContext(Gs);return Ot.useInsertionEffect((()=>{const{width:e,height:o,top:a,left:l}=r.current;if(t||!i.current||!e||!o)return;i.current.dataset.motionPopId=n;const c=document.createElement("style");return s&&(c.nonce=s),document.head.appendChild(c),c.sheet&&c.sheet.insertRule(`\n          [data-motion-pop-id="${n}"] {\n            position: absolute !important;\n            width: ${e}px !important;\n            height: ${o}px !important;\n            top: ${a}px !important;\n            left: ${l}px !important;\n          }\n        `),()=>{document.head.removeChild(c)}}),[t]),o.jsx(Xs,{isPresent:t,childRef:i,sizeRef:r,children:Ot.cloneElement(e,{ref:i})})}const Js=({children:e,initial:t,isPresent:n,onExitComplete:i,custom:r,presenceAffectsLayout:s,mode:a})=>{const l=qs(Qs),c=Ot.useId(),d=Ot.useCallback((e=>{l.set(e,!0);for(const t of l.values())if(!t)return;i&&i()}),[l,i]),h=Ot.useMemo((()=>({id:c,initial:t,isPresent:n,custom:r,onExitComplete:d,register:e=>(l.set(e,!1),()=>l.delete(e))})),s?[Math.random(),d]:[n,d]);return Ot.useMemo((()=>{l.forEach(((e,t)=>l.set(t,!1)))}),[n]),Ot.useEffect((()=>{!n&&!l.size&&i&&i()}),[n]),"popLayout"===a&&(e=o.jsx(Ks,{isPresent:n,children:e})),o.jsx(Ys.Provider,{value:h,children:e})};function Qs(){return new Map}function Zs(e=!0){const t=Ot.useContext(Ys);if(null===t)return[!0,null];const{isPresent:n,onExitComplete:i,register:r}=t,s=Ot.useId();Ot.useEffect((()=>{e&&r(s)}),[e]);const o=Ot.useCallback((()=>e&&i&&i(s)),[s,i,e]);return!n&&i?[!1,o]:[!0]}const eo=e=>e.key||"";function to(e){const t=[];return Ot.Children.forEach(e,(e=>{Ot.isValidElement(e)&&t.push(e)})),t}const no="undefined"!=typeof window,io=no?Ot.useLayoutEffect:Ot.useEffect,ro=({children:e,custom:t,initial:n=!0,onExitComplete:i,presenceAffectsLayout:r=!0,mode:s="sync",propagate:a=!1})=>{const[l,c]=Zs(a),d=Ot.useMemo((()=>to(e)),[e]),h=a&&!l?[]:d.map(eo),u=Ot.useRef(!0),p=Ot.useRef(d),f=qs((()=>new Map)),[m,g]=Ot.useState(d),[x,y]=Ot.useState(d);io((()=>{u.current=!1,p.current=d;for(let e=0;e<x.length;e++){const t=eo(x[e]);h.includes(t)?f.delete(t):!0!==f.get(t)&&f.set(t,!1)}}),[x,h.length,h.join("-")]);const v=[];if(d!==m){let e=[...d];for(let t=0;t<x.length;t++){const n=x[t],i=eo(n);h.includes(i)||(e.splice(t,0,n),v.push(n))}return"wait"===s&&v.length&&(e=v),y(to(e)),void g(d)}const{forceRender:b}=Ot.useContext(Hs);return o.jsx(o.Fragment,{children:x.map((e=>{const m=eo(e),g=!(a&&!l)&&(d===x||h.includes(m));return o.jsx(Js,{isPresent:g,initial:!(u.current&&!n)&&void 0,custom:g?void 0:t,presenceAffectsLayout:r,mode:s,onExitComplete:g?void 0:()=>{if(!f.has(m))return;f.set(m,!0);let e=!0;f.forEach((t=>{t||(e=!1)})),e&&(null==b||b(),y(p.current),a&&(null==c||c()),i&&i())},children:e},m)}))})},so=e=>e;let oo=so;function ao(e){let t;return()=>(void 0===t&&(t=e()),t)}const lo=(e,t,n)=>{const i=t-e;return 0===i?1:(n-e)/i},co=e=>1e3*e,ho=e=>e/1e3,uo=!1;const po=["read","resolveKeyframes","update","preRender","render","postRender"];function fo(e,t){let n=!1,i=!0;const r={delta:0,timestamp:0,isProcessing:!1},s=()=>n=!0,o=po.reduce(((e,t)=>(e[t]=function(e){let t=new Set,n=new Set,i=!1,r=!1;const s=new WeakSet;let o={delta:0,timestamp:0,isProcessing:!1};function a(t){s.has(t)&&(l.schedule(t),e()),t(o)}const l={schedule:(e,r=!1,o=!1)=>{const a=o&&i?t:n;return r&&s.add(e),a.has(e)||a.add(e),e},cancel:e=>{n.delete(e),s.delete(e)},process:e=>{o=e,i?r=!0:(i=!0,[t,n]=[n,t],t.forEach(a),t.clear(),i=!1,r&&(r=!1,l.process(e)))}};return l}(s),e)),{}),{read:a,resolveKeyframes:l,update:c,preRender:d,render:h,postRender:u}=o,p=()=>{const s=performance.now();n=!1,r.delta=i?1e3/60:Math.max(Math.min(s-r.timestamp,40),1),r.timestamp=s,r.isProcessing=!0,a.process(r),l.process(r),c.process(r),d.process(r),h.process(r),u.process(r),r.isProcessing=!1,n&&t&&(i=!1,e(p))};return{schedule:po.reduce(((t,s)=>{const a=o[s];return t[s]=(t,s=!1,o=!1)=>(n||(n=!0,i=!0,r.isProcessing||e(p)),a.schedule(t,s,o)),t}),{}),cancel:e=>{for(let t=0;t<po.length;t++)o[po[t]].cancel(e)},state:r,steps:o}}const{schedule:mo,cancel:go,state:xo,steps:yo}=fo("undefined"!=typeof requestAnimationFrame?requestAnimationFrame:so,!0),vo=Ot.createContext({strict:!1}),bo={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},jo={};for(const cI in bo)jo[cI]={isEnabled:e=>bo[cI].some((t=>!!e[t]))};const wo=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function So(e){return e.startsWith("while")||e.startsWith("drag")&&"draggable"!==e||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||wo.has(e)}let Co=e=>!So(e);try{(_o=require("@emotion/is-prop-valid").default)&&(Co=e=>e.startsWith("on")?!So(e):_o(e))}catch(lI){}var _o;function ko(e){if("undefined"==typeof Proxy)return e;const t=new Map;return new Proxy(((...t)=>e(...t)),{get:(n,i)=>"create"===i?e:(t.has(i)||t.set(i,e(i)),t.get(i))})}const Eo=Ot.createContext({});function Po(e){return"string"==typeof e||Array.isArray(e)}function Oo(e){return null!==e&&"object"==typeof e&&"function"==typeof e.start}const Mo=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Ao=["initial",...Mo];function To(e){return Oo(e.animate)||Ao.some((t=>Po(e[t])))}function Io(e){return Boolean(To(e)||e.variants)}function Do(e){const{initial:t,animate:n}=function(e,t){if(To(e)){const{initial:t,animate:n}=e;return{initial:!1===t||Po(t)?t:void 0,animate:Po(n)?n:void 0}}return!1!==e.inherit?t:{}}(e,Ot.useContext(Eo));return Ot.useMemo((()=>({initial:t,animate:n})),[Ro(t),Ro(n)])}function Ro(e){return Array.isArray(e)?e.join(" "):e}const Fo=Symbol.for("motionComponentSymbol");function Lo(e){return e&&"object"==typeof e&&Object.prototype.hasOwnProperty.call(e,"current")}function zo(e,t,n){return Ot.useCallback((i=>{i&&e.onMount&&e.onMount(i),t&&(i?t.mount(i):t.unmount()),n&&("function"==typeof n?n(i):Lo(n)&&(n.current=i))}),[t])}const Bo=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),Wo="data-"+Bo("framerAppearId"),{schedule:No}=fo(queueMicrotask,!1),Vo=Ot.createContext({});function $o(e,t,n,i,r){var s,o;const{visualElement:a}=Ot.useContext(Eo),l=Ot.useContext(vo),c=Ot.useContext(Ys),d=Ot.useContext(Gs).reducedMotion,h=Ot.useRef(null);i=i||l.renderer,!h.current&&i&&(h.current=i(e,{visualState:t,parent:a,props:n,presenceContext:c,blockInitialAnimation:!!c&&!1===c.initial,reducedMotionConfig:d}));const u=h.current,p=Ot.useContext(Vo);!u||u.projection||!r||"html"!==u.type&&"svg"!==u.type||function(e,t,n,i){const{layoutId:r,layout:s,drag:o,dragConstraints:a,layoutScroll:l,layoutRoot:c}=t;e.projection=new n(e.latestValues,t["data-framer-portal-id"]?void 0:Uo(e.parent)),e.projection.setOptions({layoutId:r,layout:s,alwaysMeasureLayout:Boolean(o)||a&&Lo(a),visualElement:e,animationType:"string"==typeof s?s:"both",initialPromotionConfig:i,layoutScroll:l,layoutRoot:c})}(h.current,n,r,p);const f=Ot.useRef(!1);Ot.useInsertionEffect((()=>{u&&f.current&&u.update(n,c)}));const m=n[Wo],g=Ot.useRef(Boolean(m)&&!(null===(s=window.MotionHandoffIsComplete)||void 0===s?void 0:s.call(window,m))&&(null===(o=window.MotionHasOptimisedAnimation)||void 0===o?void 0:o.call(window,m)));return io((()=>{u&&(f.current=!0,window.MotionIsMounted=!0,u.updateFeatures(),No.render(u.render),g.current&&u.animationState&&u.animationState.animateChanges())})),Ot.useEffect((()=>{u&&(!g.current&&u.animationState&&u.animationState.animateChanges(),g.current&&(queueMicrotask((()=>{var e;null===(e=window.MotionHandoffMarkAsComplete)||void 0===e||e.call(window,m)})),g.current=!1))})),u}function Uo(e){if(e)return!1!==e.options.allowProjection?e.projection:Uo(e.parent)}function Ho({preloadedFeatures:e,createVisualElement:t,useRender:n,useVisualState:i,Component:r}){var s,a;function l(e,s){let a;const l={...Ot.useContext(Gs),...e,layoutId:qo(e)},{isStatic:c}=l,d=Do(e),h=i(e,c);if(!c&&no){Ot.useContext(vo).strict;const e=function(e){const{drag:t,layout:n}=jo;if(!t&&!n)return{};const i={...t,...n};return{MeasureLayout:(null==t?void 0:t.isEnabled(e))||(null==n?void 0:n.isEnabled(e))?i.MeasureLayout:void 0,ProjectionNode:i.ProjectionNode}}(l);a=e.MeasureLayout,d.visualElement=$o(r,h,l,t,e.ProjectionNode)}return o.jsxs(Eo.Provider,{value:d,children:[a&&d.visualElement?o.jsx(a,{visualElement:d.visualElement,...l}):null,n(r,e,zo(h,d.visualElement,s),h,c,d.visualElement)]})}e&&function(e){for(const t in e)jo[t]={...jo[t],...e[t]}}(e),l.displayName=`motion.${"string"==typeof r?r:`create(${null!==(a=null!==(s=r.displayName)&&void 0!==s?s:r.name)&&void 0!==a?a:""})`}`;const c=Ot.forwardRef(l);return c[Fo]=r,c}function qo({layoutId:e}){const t=Ot.useContext(Hs).id;return t&&void 0!==e?t+"-"+e:e}const Yo=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Go(e){return"string"==typeof e&&!e.includes("-")&&!!(Yo.indexOf(e)>-1||/[A-Z]/u.test(e))}function Xo(e){const t=[{},{}];return null==e||e.values.forEach(((e,n)=>{t[0][n]=e.get(),t[1][n]=e.getVelocity()})),t}function Ko(e,t,n,i){if("function"==typeof t){const[r,s]=Xo(i);t=t(void 0!==n?n:e.custom,r,s)}if("string"==typeof t&&(t=e.variants&&e.variants[t]),"function"==typeof t){const[r,s]=Xo(i);t=t(void 0!==n?n:e.custom,r,s)}return t}const Jo=e=>Array.isArray(e),Qo=e=>Boolean(e&&e.getVelocity);function Zo(e){const t=Qo(e)?e.get():e;return n=t,Boolean(n&&"object"==typeof n&&n.mix&&n.toValue)?t.toValue():t;var n}const ea=e=>(t,n)=>{const i=Ot.useContext(Eo),r=Ot.useContext(Ys),s=()=>function({scrapeMotionValuesFromProps:e,createRenderState:t,onUpdate:n},i,r,s){const o={latestValues:ta(i,r,s,e),renderState:t()};return n&&(o.onMount=e=>n({props:i,current:e,...o}),o.onUpdate=e=>n(e)),o}(e,t,i,r);return n?s():qs(s)};function ta(e,t,n,i){const r={},s=i(e,{});for(const u in s)r[u]=Zo(s[u]);let{initial:o,animate:a}=e;const l=To(e),c=Io(e);t&&c&&!l&&!1!==e.inherit&&(void 0===o&&(o=t.initial),void 0===a&&(a=t.animate));let d=!!n&&!1===n.initial;d=d||!1===o;const h=d?a:o;if(h&&"boolean"!=typeof h&&!Oo(h)){const t=Array.isArray(h)?h:[h];for(let n=0;n<t.length;n++){const i=Ko(e,t[n]);if(i){const{transitionEnd:e,transition:t,...n}=i;for(const i in n){let e=n[i];if(Array.isArray(e)){e=e[d?e.length-1:0]}null!==e&&(r[i]=e)}for(const i in e)r[i]=e[i]}}}return r}const na=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],ia=new Set(na),ra=e=>t=>"string"==typeof t&&t.startsWith(e),sa=ra("--"),oa=ra("var(--"),aa=e=>!!oa(e)&&la.test(e.split("/*")[0].trim()),la=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,ca=(e,t)=>t&&"number"==typeof e?t.transform(e):e,da=(e,t,n)=>n>t?t:n<e?e:n,ha={test:e=>"number"==typeof e,parse:parseFloat,transform:e=>e},ua={...ha,transform:e=>da(0,1,e)},pa={...ha,default:1},fa=e=>({test:t=>"string"==typeof t&&t.endsWith(e)&&1===t.split(" ").length,parse:parseFloat,transform:t=>`${t}${e}`}),ma=fa("deg"),ga=fa("%"),xa=fa("px"),ya=fa("vh"),va=fa("vw"),ba={...ga,parse:e=>ga.parse(e)/100,transform:e=>ga.transform(100*e)},ja={borderWidth:xa,borderTopWidth:xa,borderRightWidth:xa,borderBottomWidth:xa,borderLeftWidth:xa,borderRadius:xa,radius:xa,borderTopLeftRadius:xa,borderTopRightRadius:xa,borderBottomRightRadius:xa,borderBottomLeftRadius:xa,width:xa,maxWidth:xa,height:xa,maxHeight:xa,top:xa,right:xa,bottom:xa,left:xa,padding:xa,paddingTop:xa,paddingRight:xa,paddingBottom:xa,paddingLeft:xa,margin:xa,marginTop:xa,marginRight:xa,marginBottom:xa,marginLeft:xa,backgroundPositionX:xa,backgroundPositionY:xa},wa={rotate:ma,rotateX:ma,rotateY:ma,rotateZ:ma,scale:pa,scaleX:pa,scaleY:pa,scaleZ:pa,skew:ma,skewX:ma,skewY:ma,distance:xa,translateX:xa,translateY:xa,translateZ:xa,x:xa,y:xa,z:xa,perspective:xa,transformPerspective:xa,opacity:ua,originX:ba,originY:ba,originZ:xa},Sa={...ha,transform:Math.round},Ca={...ja,...wa,zIndex:Sa,size:xa,fillOpacity:ua,strokeOpacity:ua,numOctaves:Sa},_a={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},ka=na.length;function Ea(e,t,n){const{style:i,vars:r,transformOrigin:s}=e;let o=!1,a=!1;for(const l in t){const e=t[l];if(ia.has(l))o=!0;else if(sa(l))r[l]=e;else{const t=ca(e,Ca[l]);l.startsWith("origin")?(a=!0,s[l]=t):i[l]=t}}if(t.transform||(o||n?i.transform=function(e,t,n){let i="",r=!0;for(let s=0;s<ka;s++){const o=na[s],a=e[o];if(void 0===a)continue;let l=!0;if(l="number"==typeof a?a===(o.startsWith("scale")?1:0):0===parseFloat(a),!l||n){const e=ca(a,Ca[o]);l||(r=!1,i+=`${_a[o]||o}(${e}) `),n&&(t[o]=e)}}return i=i.trim(),n?i=n(t,r?"":i):r&&(i="none"),i}(t,e.transform,n):i.transform&&(i.transform="none")),a){const{originX:e="50%",originY:t="50%",originZ:n=0}=s;i.transformOrigin=`${e} ${t} ${n}`}}const Pa={offset:"stroke-dashoffset",array:"stroke-dasharray"},Oa={offset:"strokeDashoffset",array:"strokeDasharray"};function Ma(e,t,n){return"string"==typeof e?e:xa.transform(t+n*e)}function Aa(e,{attrX:t,attrY:n,attrScale:i,originX:r,originY:s,pathLength:o,pathSpacing:a=1,pathOffset:l=0,...c},d,h){if(Ea(e,c,h),d)return void(e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox));e.attrs=e.style,e.style={};const{attrs:u,style:p,dimensions:f}=e;u.transform&&(f&&(p.transform=u.transform),delete u.transform),f&&(void 0!==r||void 0!==s||p.transform)&&(p.transformOrigin=function(e,t,n){return`${Ma(t,e.x,e.width)} ${Ma(n,e.y,e.height)}`}(f,void 0!==r?r:.5,void 0!==s?s:.5)),void 0!==t&&(u.x=t),void 0!==n&&(u.y=n),void 0!==i&&(u.scale=i),void 0!==o&&function(e,t,n=1,i=0,r=!0){e.pathLength=1;const s=r?Pa:Oa;e[s.offset]=xa.transform(-i);const o=xa.transform(t),a=xa.transform(n);e[s.array]=`${o} ${a}`}(u,o,a,l,!1)}const Ta=()=>({style:{},transform:{},transformOrigin:{},vars:{}}),Ia=()=>({style:{},transform:{},transformOrigin:{},vars:{},attrs:{}}),Da=e=>"string"==typeof e&&"svg"===e.toLowerCase();function Ra(e,{style:t,vars:n},i,r){Object.assign(e.style,t,r&&r.getProjectionStyles(i));for(const s in n)e.style.setProperty(s,n[s])}const Fa=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function La(e,t,n,i){Ra(e,t,void 0,i);for(const r in t.attrs)e.setAttribute(Fa.has(r)?r:Bo(r),t.attrs[r])}const za={};function Ba(e,{layout:t,layoutId:n}){return ia.has(e)||e.startsWith("origin")||(t||void 0!==n)&&(!!za[e]||"opacity"===e)}function Wa(e,t,n){var i;const{style:r}=e,s={};for(const o in r)(Qo(r[o])||t.style&&Qo(t.style[o])||Ba(o,e)||void 0!==(null===(i=null==n?void 0:n.getValue(o))||void 0===i?void 0:i.liveStyle))&&(s[o]=r[o]);return s}function Na(e,t,n){const i=Wa(e,t,n);for(const r in e)if(Qo(e[r])||Qo(t[r])){i[-1!==na.indexOf(r)?"attr"+r.charAt(0).toUpperCase()+r.substring(1):r]=e[r]}return i}const Va=["x","y","width","height","cx","cy","r"],$a={useVisualState:ea({scrapeMotionValuesFromProps:Na,createRenderState:Ia,onUpdate:({props:e,prevProps:t,current:n,renderState:i,latestValues:r})=>{if(!n)return;let s=!!e.drag;if(!s)for(const a in r)if(ia.has(a)){s=!0;break}if(!s)return;let o=!t;if(t)for(let a=0;a<Va.length;a++){const n=Va[a];e[n]!==t[n]&&(o=!0)}o&&mo.read((()=>{!function(e,t){try{t.dimensions="function"==typeof e.getBBox?e.getBBox():e.getBoundingClientRect()}catch(n){t.dimensions={x:0,y:0,width:0,height:0}}}(n,i),mo.render((()=>{Aa(i,r,Da(n.tagName),e.transformTemplate),La(n,i)}))}))}})},Ua={useVisualState:ea({scrapeMotionValuesFromProps:Wa,createRenderState:Ta})};function Ha(e,t,n){for(const i in t)Qo(t[i])||Ba(i,n)||(e[i]=t[i])}function qa(e,t){const n={};return Ha(n,e.style||{},e),Object.assign(n,function({transformTemplate:e},t){return Ot.useMemo((()=>{const n={style:{},transform:{},transformOrigin:{},vars:{}};return Ea(n,t,e),Object.assign({},n.vars,n.style)}),[t])}(e,t)),n}function Ya(e,t){const n={},i=qa(e,t);return e.drag&&!1!==e.dragListener&&(n.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=!0===e.drag?"none":"pan-"+("x"===e.drag?"y":"x")),void 0===e.tabIndex&&(e.onTap||e.onTapStart||e.whileTap)&&(n.tabIndex=0),n.style=i,n}function Ga(e,t,n,i){const r=Ot.useMemo((()=>{const n={style:{},transform:{},transformOrigin:{},vars:{},attrs:{}};return Aa(n,t,Da(i),e.transformTemplate),{...n.attrs,style:{...n.style}}}),[t]);if(e.style){const t={};Ha(t,e.style,e),r.style={...t,...r.style}}return r}function Xa(e=!1){return(t,n,i,{latestValues:r},s)=>{const o=(Go(t)?Ga:Ya)(n,r,s,t),a=function(e,t,n){const i={};for(const r in e)"values"===r&&"object"==typeof e.values||(Co(r)||!0===n&&So(r)||!t&&!So(r)||e.draggable&&r.startsWith("onDrag"))&&(i[r]=e[r]);return i}(n,"string"==typeof t,e),l=t!==Ot.Fragment?{...a,...o,ref:i}:{},{children:c}=n,d=Ot.useMemo((()=>Qo(c)?c.get():c),[c]);return Ot.createElement(t,{...l,children:d})}}function Ka(e,t){return function(n,{forwardMotionProps:i}={forwardMotionProps:!1}){return Ho({...Go(n)?$a:Ua,preloadedFeatures:e,useRender:Xa(i),createVisualElement:t,Component:n})}}function Ja(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let i=0;i<n;i++)if(t[i]!==e[i])return!1;return!0}function Qa(e,t,n){const i=e.getProps();return Ko(i,t,void 0!==n?n:i.custom,e)}const Za=ao((()=>void 0!==window.ScrollTimeline));class el{constructor(e){this.stop=()=>this.runAll("stop"),this.animations=e.filter(Boolean)}get finished(){return Promise.all(this.animations.map((e=>"finished"in e?e.finished:e)))}getAll(e){return this.animations[0][e]}setAll(e,t){for(let n=0;n<this.animations.length;n++)this.animations[n][e]=t}attachTimeline(e,t){const n=this.animations.map((n=>Za()&&n.attachTimeline?n.attachTimeline(e):"function"==typeof t?t(n):void 0));return()=>{n.forEach(((e,t)=>{e&&e(),this.animations[t].stop()}))}}get time(){return this.getAll("time")}set time(e){this.setAll("time",e)}get speed(){return this.getAll("speed")}set speed(e){this.setAll("speed",e)}get startTime(){return this.getAll("startTime")}get duration(){let e=0;for(let t=0;t<this.animations.length;t++)e=Math.max(e,this.animations[t].duration);return e}runAll(e){this.animations.forEach((t=>t[e]()))}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class tl extends el{then(e,t){return Promise.all(this.animations).then(e).catch(t)}}function nl(e,t){return e?e[t]||e.default||e:void 0}const il=2e4;function rl(e){let t=0;let n=e.next(t);for(;!n.done&&t<il;)t+=50,n=e.next(t);return t>=il?1/0:t}function sl(e){return"function"==typeof e}function ol(e,t){e.timeline=t,e.onfinish=null}const al=e=>Array.isArray(e)&&"number"==typeof e[0],ll={linearEasing:void 0};function cl(e,t){const n=ao(e);return()=>{var e;return null!==(e=ll[t])&&void 0!==e?e:n()}}const dl=cl((()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch(e){return!1}return!0}),"linearEasing"),hl=(e,t,n=10)=>{let i="";const r=Math.max(Math.round(t/n),2);for(let s=0;s<r;s++)i+=e(lo(0,r-1,s))+", ";return`linear(${i.substring(0,i.length-2)})`};function ul(e){return Boolean("function"==typeof e&&dl()||!e||"string"==typeof e&&(e in fl||dl())||al(e)||Array.isArray(e)&&e.every(ul))}const pl=([e,t,n,i])=>`cubic-bezier(${e}, ${t}, ${n}, ${i})`,fl={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:pl([0,.65,.55,1]),circOut:pl([.55,0,1,.45]),backIn:pl([.31,.01,.66,-.59]),backOut:pl([.33,1.53,.69,.99])};function ml(e,t){return e?"function"==typeof e&&dl()?hl(e,t):al(e)?pl(e):Array.isArray(e)?e.map((e=>ml(e,t)||fl.easeOut)):fl[e]:void 0}const gl={x:!1,y:!1};function xl(){return gl.x||gl.y}function yl(e,t){const n=function(e){if(e instanceof Element)return[e];if("string"==typeof e){const t=document.querySelectorAll(e);return t?Array.from(t):[]}return Array.from(e)}(e),i=new AbortController;return[n,{passive:!0,...t,signal:i.signal},()=>i.abort()]}function vl(e){return t=>{"touch"===t.pointerType||xl()||e(t)}}const bl=(e,t)=>!!t&&(e===t||bl(e,t.parentElement)),jl=e=>"mouse"===e.pointerType?"number"!=typeof e.button||e.button<=0:!1!==e.isPrimary,wl=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);const Sl=new WeakSet;function Cl(e){return t=>{"Enter"===t.key&&e(t)}}function _l(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}function kl(e){return jl(e)&&!xl()}function El(e,t,n={}){const[i,r,s]=yl(e,n),o=e=>{const i=e.currentTarget;if(!kl(e)||Sl.has(i))return;Sl.add(i);const s=t(e),o=(e,t)=>{window.removeEventListener("pointerup",a),window.removeEventListener("pointercancel",l),kl(e)&&Sl.has(i)&&(Sl.delete(i),"function"==typeof s&&s(e,{success:t}))},a=e=>{o(e,n.useGlobalTarget||bl(i,e.target))},l=e=>{o(e,!1)};window.addEventListener("pointerup",a,r),window.addEventListener("pointercancel",l,r)};return i.forEach((e=>{(function(e){return wl.has(e.tagName)||-1!==e.tabIndex})(e)||null!==e.getAttribute("tabindex")||(e.tabIndex=0);(n.useGlobalTarget?window:e).addEventListener("pointerdown",o,r),e.addEventListener("focus",(e=>((e,t)=>{const n=e.currentTarget;if(!n)return;const i=Cl((()=>{if(Sl.has(n))return;_l(n,"down");const e=Cl((()=>{_l(n,"up")}));n.addEventListener("keyup",e,t),n.addEventListener("blur",(()=>_l(n,"cancel")),t)}));n.addEventListener("keydown",i,t),n.addEventListener("blur",(()=>n.removeEventListener("keydown",i)),t)})(e,r)),r)})),s}const Pl=new Set(["width","height","top","left","right","bottom",...na]);let Ol;function Ml(){Ol=void 0}const Al={now:()=>(void 0===Ol&&Al.set(xo.isProcessing||uo?xo.timestamp:performance.now()),Ol),set:e=>{Ol=e,queueMicrotask(Ml)}};function Tl(e,t){-1===e.indexOf(t)&&e.push(t)}function Il(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}class Dl{constructor(){this.subscriptions=[]}add(e){return Tl(this.subscriptions,e),()=>Il(this.subscriptions,e)}notify(e,t,n){const i=this.subscriptions.length;if(i)if(1===i)this.subscriptions[0](e,t,n);else for(let r=0;r<i;r++){const i=this.subscriptions[r];i&&i(e,t,n)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}function Rl(e,t){return t?e*(1e3/t):0}class Fl{constructor(e,t={}){this.version="11.18.2",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(e,t=!0)=>{const n=Al.now();this.updatedAt!==n&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(e),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),t&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(e),this.owner=t.owner}setCurrent(e){var t;this.current=e,this.updatedAt=Al.now(),null===this.canTrackVelocity&&void 0!==e&&(this.canTrackVelocity=(t=this.current,!isNaN(parseFloat(t))))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,t){this.events[e]||(this.events[e]=new Dl);const n=this.events[e].add(t);return"change"===e?()=>{n(),mo.read((()=>{this.events.change.getSize()||this.stop()}))}:n}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,t){this.passiveEffect=e,this.stopPassiveEffect=t}set(e,t=!0){t&&this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e,t)}setWithVelocity(e,t,n){this.set(t),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-n}jump(e,t=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,t&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=Al.now();if(!this.canTrackVelocity||void 0===this.prevFrameValue||e-this.updatedAt>30)return 0;const t=Math.min(this.updatedAt-this.prevUpdatedAt,30);return Rl(parseFloat(this.current)-parseFloat(this.prevFrameValue),t)}start(e){return this.stop(),new Promise((t=>{this.hasAnimated=!0,this.animation=e(t),this.events.animationStart&&this.events.animationStart.notify()})).then((()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()}))}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Ll(e,t){return new Fl(e,t)}function zl(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,Ll(n))}function Bl(e,t){const n=e.getValue("willChange");if(i=n,Boolean(Qo(i)&&i.add))return n.add(t);var i}function Wl(e){return e.props[Wo]}const Nl=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e;function Vl(e,t,n,i){if(e===t&&n===i)return so;const r=t=>function(e,t,n,i,r){let s,o,a=0;do{o=t+(n-t)/2,s=Nl(o,i,r)-e,s>0?n=o:t=o}while(Math.abs(s)>1e-7&&++a<12);return o}(t,0,1,e,n);return e=>0===e||1===e?e:Nl(r(e),t,i)}const $l=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,Ul=e=>t=>1-e(1-t),Hl=Vl(.33,1.53,.69,.99),ql=Ul(Hl),Yl=$l(ql),Gl=e=>(e*=2)<1?.5*ql(e):.5*(2-Math.pow(2,-10*(e-1))),Xl=e=>1-Math.sin(Math.acos(e)),Kl=Ul(Xl),Jl=$l(Xl),Ql=e=>/^0[^.\s]+$/u.test(e);const Zl=e=>Math.round(1e5*e)/1e5,ec=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;const tc=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,nc=(e,t)=>n=>Boolean("string"==typeof n&&tc.test(n)&&n.startsWith(e)||t&&!function(e){return null==e}(n)&&Object.prototype.hasOwnProperty.call(n,t)),ic=(e,t,n)=>i=>{if("string"!=typeof i)return i;const[r,s,o,a]=i.match(ec);return{[e]:parseFloat(r),[t]:parseFloat(s),[n]:parseFloat(o),alpha:void 0!==a?parseFloat(a):1}},rc={...ha,transform:e=>Math.round((e=>da(0,255,e))(e))},sc={test:nc("rgb","red"),parse:ic("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:i=1})=>"rgba("+rc.transform(e)+", "+rc.transform(t)+", "+rc.transform(n)+", "+Zl(ua.transform(i))+")"};const oc={test:nc("#"),parse:function(e){let t="",n="",i="",r="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),i=e.substring(5,7),r=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),i=e.substring(3,4),r=e.substring(4,5),t+=t,n+=n,i+=i,r+=r),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(i,16),alpha:r?parseInt(r,16)/255:1}},transform:sc.transform},ac={test:nc("hsl","hue"),parse:ic("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:i=1})=>"hsla("+Math.round(e)+", "+ga.transform(Zl(t))+", "+ga.transform(Zl(n))+", "+Zl(ua.transform(i))+")"},lc={test:e=>sc.test(e)||oc.test(e)||ac.test(e),parse:e=>sc.test(e)?sc.parse(e):ac.test(e)?ac.parse(e):oc.parse(e),transform:e=>"string"==typeof e?e:e.hasOwnProperty("red")?sc.transform(e):ac.transform(e)},cc=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;const dc="number",hc="color",uc=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function pc(e){const t=e.toString(),n=[],i={color:[],number:[],var:[]},r=[];let s=0;const o=t.replace(uc,(e=>(lc.test(e)?(i.color.push(s),r.push(hc),n.push(lc.parse(e))):e.startsWith("var(")?(i.var.push(s),r.push("var"),n.push(e)):(i.number.push(s),r.push(dc),n.push(parseFloat(e))),++s,"${}"))).split("${}");return{values:n,split:o,indexes:i,types:r}}function fc(e){return pc(e).values}function mc(e){const{split:t,types:n}=pc(e),i=t.length;return e=>{let r="";for(let s=0;s<i;s++)if(r+=t[s],void 0!==e[s]){const t=n[s];r+=t===dc?Zl(e[s]):t===hc?lc.transform(e[s]):e[s]}return r}}const gc=e=>"number"==typeof e?0:e;const xc={test:function(e){var t,n;return isNaN(e)&&"string"==typeof e&&((null===(t=e.match(ec))||void 0===t?void 0:t.length)||0)+((null===(n=e.match(cc))||void 0===n?void 0:n.length)||0)>0},parse:fc,createTransformer:mc,getAnimatableNone:function(e){const t=fc(e);return mc(e)(t.map(gc))}},yc=new Set(["brightness","contrast","saturate","opacity"]);function vc(e){const[t,n]=e.slice(0,-1).split("(");if("drop-shadow"===t)return e;const[i]=n.match(ec)||[];if(!i)return e;const r=n.replace(i,"");let s=yc.has(t)?1:0;return i!==n&&(s*=100),t+"("+s+r+")"}const bc=/\b([a-z-]*)\(.*?\)/gu,jc={...xc,getAnimatableNone:e=>{const t=e.match(bc);return t?t.map(vc).join(" "):e}},wc={...Ca,color:lc,backgroundColor:lc,outlineColor:lc,fill:lc,stroke:lc,borderColor:lc,borderTopColor:lc,borderRightColor:lc,borderBottomColor:lc,borderLeftColor:lc,filter:jc,WebkitFilter:jc},Sc=e=>wc[e];function Cc(e,t){let n=Sc(e);return n!==jc&&(n=xc),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const _c=new Set(["auto","none","0"]);const kc=e=>e===ha||e===xa,Ec=(e,t)=>parseFloat(e.split(", ")[t]),Pc=(e,t)=>(n,{transform:i})=>{if("none"===i||!i)return 0;const r=i.match(/^matrix3d\((.+)\)$/u);if(r)return Ec(r[1],t);{const t=i.match(/^matrix\((.+)\)$/u);return t?Ec(t[1],e):0}},Oc=new Set(["x","y","z"]),Mc=na.filter((e=>!Oc.has(e)));const Ac={width:({x:e},{paddingLeft:t="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:Pc(4,13),y:Pc(5,14)};Ac.translateX=Ac.x,Ac.translateY=Ac.y;const Tc=new Set;let Ic=!1,Dc=!1;function Rc(){if(Dc){const e=Array.from(Tc).filter((e=>e.needsMeasurement)),t=new Set(e.map((e=>e.element))),n=new Map;t.forEach((e=>{const t=function(e){const t=[];return Mc.forEach((n=>{const i=e.getValue(n);void 0!==i&&(t.push([n,i.get()]),i.set(n.startsWith("scale")?1:0))})),t}(e);t.length&&(n.set(e,t),e.render())})),e.forEach((e=>e.measureInitialState())),t.forEach((e=>{e.render();const t=n.get(e);t&&t.forEach((([t,n])=>{var i;null===(i=e.getValue(t))||void 0===i||i.set(n)}))})),e.forEach((e=>e.measureEndState())),e.forEach((e=>{void 0!==e.suspendedScrollY&&window.scrollTo(0,e.suspendedScrollY)}))}Dc=!1,Ic=!1,Tc.forEach((e=>e.complete())),Tc.clear()}function Fc(){Tc.forEach((e=>{e.readKeyframes(),e.needsMeasurement&&(Dc=!0)}))}class Lc{constructor(e,t,n,i,r,s=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...e],this.onComplete=t,this.name=n,this.motionValue=i,this.element=r,this.isAsync=s}scheduleResolve(){this.isScheduled=!0,this.isAsync?(Tc.add(this),Ic||(Ic=!0,mo.read(Fc),mo.resolveKeyframes(Rc))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:t,element:n,motionValue:i}=this;for(let r=0;r<e.length;r++)if(null===e[r])if(0===r){const r=null==i?void 0:i.get(),s=e[e.length-1];if(void 0!==r)e[0]=r;else if(n&&t){const i=n.readValue(t,s);null!=i&&(e[0]=i)}void 0===e[0]&&(e[0]=s),i&&void 0===r&&i.set(e[0])}else e[r]=e[r-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),Tc.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,Tc.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const zc=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e),Bc=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function Wc(e,t,n=1){const[i,r]=function(e){const t=Bc.exec(e);if(!t)return[,];const[,n,i,r]=t;return[`--${null!=n?n:i}`,r]}(e);if(!i)return;const s=window.getComputedStyle(t).getPropertyValue(i);if(s){const e=s.trim();return zc(e)?parseFloat(e):e}return aa(r)?Wc(r,t,n+1):r}const Nc=e=>t=>t.test(e),Vc=[ha,xa,ga,ma,va,ya,{test:e=>"auto"===e,parse:e=>e}],$c=e=>Vc.find(Nc(e));class Uc extends Lc{constructor(e,t,n,i,r){super(e,t,n,i,r,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:t,name:n}=this;if(!t||!t.current)return;super.readKeyframes();for(let a=0;a<e.length;a++){let n=e[a];if("string"==typeof n&&(n=n.trim(),aa(n))){const i=Wc(n,t.current);void 0!==i&&(e[a]=i),a===e.length-1&&(this.finalKeyframe=n)}}if(this.resolveNoneKeyframes(),!Pl.has(n)||2!==e.length)return;const[i,r]=e,s=$c(i),o=$c(r);if(s!==o)if(kc(s)&&kc(o))for(let a=0;a<e.length;a++){const t=e[a];"string"==typeof t&&(e[a]=parseFloat(t))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:t}=this,n=[];for(let r=0;r<e.length;r++)("number"==typeof(i=e[r])?0===i:null===i||"none"===i||"0"===i||Ql(i))&&n.push(r);var i;n.length&&function(e,t,n){let i,r=0;for(;r<e.length&&!i;){const t=e[r];"string"==typeof t&&!_c.has(t)&&pc(t).values.length&&(i=e[r]),r++}if(i&&n)for(const s of t)e[s]=Cc(n,i)}(e,n,t)}measureInitialState(){const{element:e,unresolvedKeyframes:t,name:n}=this;if(!e||!e.current)return;"height"===n&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Ac[n](e.measureViewportBox(),window.getComputedStyle(e.current)),t[0]=this.measuredOrigin;const i=t[t.length-1];void 0!==i&&e.getValue(n,i).jump(i,!1)}measureEndState(){var e;const{element:t,name:n,unresolvedKeyframes:i}=this;if(!t||!t.current)return;const r=t.getValue(n);r&&r.jump(this.measuredOrigin,!1);const s=i.length-1,o=i[s];i[s]=Ac[n](t.measureViewportBox(),window.getComputedStyle(t.current)),null!==o&&void 0===this.finalKeyframe&&(this.finalKeyframe=o),(null===(e=this.removedTransforms)||void 0===e?void 0:e.length)&&this.removedTransforms.forEach((([e,n])=>{t.getValue(e).set(n)})),this.resolveNoneKeyframes()}}const Hc=(e,t)=>"zIndex"!==t&&(!("number"!=typeof e&&!Array.isArray(e))||!("string"!=typeof e||!xc.test(e)&&"0"!==e||e.startsWith("url(")));const qc=e=>null!==e;function Yc(e,{repeat:t,repeatType:n="loop"},i){const r=e.filter(qc),s=t&&"loop"!==n&&t%2==1?0:r.length-1;return s&&void 0!==i?i:r[s]}class Gc{constructor({autoplay:e=!0,delay:t=0,type:n="keyframes",repeat:i=0,repeatDelay:r=0,repeatType:s="loop",...o}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=Al.now(),this.options={autoplay:e,delay:t,type:n,repeat:i,repeatDelay:r,repeatType:s,...o},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt&&this.resolvedAt-this.createdAt>40?this.resolvedAt:this.createdAt}get resolved(){return this._resolved||this.hasAttemptedResolve||(Fc(),Rc()),this._resolved}onKeyframesResolved(e,t){this.resolvedAt=Al.now(),this.hasAttemptedResolve=!0;const{name:n,type:i,velocity:r,delay:s,onComplete:o,onUpdate:a,isGenerator:l}=this.options;if(!l&&!function(e,t,n,i){const r=e[0];if(null===r)return!1;if("display"===t||"visibility"===t)return!0;const s=e[e.length-1],o=Hc(r,t),a=Hc(s,t);return!(!o||!a)&&(function(e){const t=e[0];if(1===e.length)return!0;for(let n=0;n<e.length;n++)if(e[n]!==t)return!0}(e)||("spring"===n||sl(n))&&i)}(e,n,i,r)){if(!s)return a&&a(Yc(e,this.options,t)),o&&o(),void this.resolveFinishedPromise();this.options.duration=0}const c=this.initPlayback(e,t);!1!==c&&(this._resolved={keyframes:e,finalKeyframe:t,...c},this.onPostResolved())}onPostResolved(){}then(e,t){return this.currentFinishedPromise.then(e,t)}flatten(){this.options.type="keyframes",this.options.ease="linear"}updateFinishedPromise(){this.currentFinishedPromise=new Promise((e=>{this.resolveFinishedPromise=e}))}}const Xc=(e,t,n)=>e+(t-e)*n;function Kc(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function Jc(e,t){return n=>n>0?t:e}const Qc=(e,t,n)=>{const i=e*e,r=n*(t*t-i)+i;return r<0?0:Math.sqrt(r)},Zc=[oc,sc,ac];function ed(e){const t=(n=e,Zc.find((e=>e.test(n))));var n;if(!Boolean(t))return!1;let i=t.parse(e);return t===ac&&(i=function({hue:e,saturation:t,lightness:n,alpha:i}){e/=360,n/=100;let r=0,s=0,o=0;if(t/=100){const i=n<.5?n*(1+t):n+t-n*t,a=2*n-i;r=Kc(a,i,e+1/3),s=Kc(a,i,e),o=Kc(a,i,e-1/3)}else r=s=o=n;return{red:Math.round(255*r),green:Math.round(255*s),blue:Math.round(255*o),alpha:i}}(i)),i}const td=(e,t)=>{const n=ed(e),i=ed(t);if(!n||!i)return Jc(e,t);const r={...n};return e=>(r.red=Qc(n.red,i.red,e),r.green=Qc(n.green,i.green,e),r.blue=Qc(n.blue,i.blue,e),r.alpha=Xc(n.alpha,i.alpha,e),sc.transform(r))},nd=(e,t)=>n=>t(e(n)),id=(...e)=>e.reduce(nd),rd=new Set(["none","hidden"]);function sd(e,t){return n=>Xc(e,t,n)}function od(e){return"number"==typeof e?sd:"string"==typeof e?aa(e)?Jc:lc.test(e)?td:cd:Array.isArray(e)?ad:"object"==typeof e?lc.test(e)?td:ld:Jc}function ad(e,t){const n=[...e],i=n.length,r=e.map(((e,n)=>od(e)(e,t[n])));return e=>{for(let t=0;t<i;t++)n[t]=r[t](e);return n}}function ld(e,t){const n={...e,...t},i={};for(const r in n)void 0!==e[r]&&void 0!==t[r]&&(i[r]=od(e[r])(e[r],t[r]));return e=>{for(const t in i)n[t]=i[t](e);return n}}const cd=(e,t)=>{const n=xc.createTransformer(t),i=pc(e),r=pc(t);return i.indexes.var.length===r.indexes.var.length&&i.indexes.color.length===r.indexes.color.length&&i.indexes.number.length>=r.indexes.number.length?rd.has(e)&&!r.values.length||rd.has(t)&&!i.values.length?function(e,t){return rd.has(e)?n=>n<=0?e:t:n=>n>=1?t:e}(e,t):id(ad(function(e,t){var n;const i=[],r={color:0,var:0,number:0};for(let s=0;s<t.values.length;s++){const o=t.types[s],a=e.indexes[o][r[o]],l=null!==(n=e.values[a])&&void 0!==n?n:0;i[s]=l,r[o]++}return i}(i,r),r.values),n):Jc(e,t)};function dd(e,t,n){if("number"==typeof e&&"number"==typeof t&&"number"==typeof n)return Xc(e,t,n);return od(e)(e,t)}function hd(e,t,n){const i=Math.max(t-5,0);return Rl(n-e(i),t-i)}const ud=100,pd=10,fd=1,md=0,gd=800,xd=.3,yd=.3,vd={granular:.01,default:2},bd={granular:.005,default:.5},jd=.01,wd=10,Sd=.05,Cd=1;function _d({duration:e=gd,bounce:t=xd,velocity:n=md,mass:i=fd}){let r,s,o=1-t;o=da(Sd,Cd,o),e=da(jd,wd,ho(e)),o<1?(r=t=>{const i=t*o,r=i*e;return.001-(i-n)/Ed(t,o)*Math.exp(-r)},s=t=>{const i=t*o*e,s=i*n+n,a=Math.pow(o,2)*Math.pow(t,2)*e,l=Math.exp(-i),c=Ed(Math.pow(t,2),o);return(.001-r(t)>0?-1:1)*((s-a)*l)/c}):(r=t=>Math.exp(-t*e)*((t-n)*e+1)-.001,s=t=>Math.exp(-t*e)*(e*e*(n-t)));const a=function(e,t,n){let i=n;for(let r=1;r<kd;r++)i-=e(i)/t(i);return i}(r,s,5/e);if(e=co(e),isNaN(a))return{stiffness:ud,damping:pd,duration:e};{const t=Math.pow(a,2)*i;return{stiffness:t,damping:2*o*Math.sqrt(i*t),duration:e}}}const kd=12;function Ed(e,t){return e*Math.sqrt(1-t*t)}const Pd=["duration","bounce"],Od=["stiffness","damping","mass"];function Md(e,t){return t.some((t=>void 0!==e[t]))}function Ad(e=yd,t=xd){const n="object"!=typeof e?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:i,restDelta:r}=n;const s=n.keyframes[0],o=n.keyframes[n.keyframes.length-1],a={done:!1,value:s},{stiffness:l,damping:c,mass:d,duration:h,velocity:u,isResolvedFromDuration:p}=function(e){let t={velocity:md,stiffness:ud,damping:pd,mass:fd,isResolvedFromDuration:!1,...e};if(!Md(e,Od)&&Md(e,Pd))if(e.visualDuration){const n=e.visualDuration,i=2*Math.PI/(1.2*n),r=i*i,s=2*da(.05,1,1-(e.bounce||0))*Math.sqrt(r);t={...t,mass:fd,stiffness:r,damping:s}}else{const n=_d(e);t={...t,...n,mass:fd},t.isResolvedFromDuration=!0}return t}({...n,velocity:-ho(n.velocity||0)}),f=u||0,m=c/(2*Math.sqrt(l*d)),g=o-s,x=ho(Math.sqrt(l/d)),y=Math.abs(g)<5;let v;if(i||(i=y?vd.granular:vd.default),r||(r=y?bd.granular:bd.default),m<1){const e=Ed(x,m);v=t=>{const n=Math.exp(-m*x*t);return o-n*((f+m*x*g)/e*Math.sin(e*t)+g*Math.cos(e*t))}}else if(1===m)v=e=>o-Math.exp(-x*e)*(g+(f+x*g)*e);else{const e=x*Math.sqrt(m*m-1);v=t=>{const n=Math.exp(-m*x*t),i=Math.min(e*t,300);return o-n*((f+m*x*g)*Math.sinh(i)+e*g*Math.cosh(i))/e}}const b={calculatedDuration:p&&h||null,next:e=>{const t=v(e);if(p)a.done=e>=h;else{let n=0;m<1&&(n=0===e?co(f):hd(v,e,t));const s=Math.abs(n)<=i,l=Math.abs(o-t)<=r;a.done=s&&l}return a.value=a.done?o:t,a},toString:()=>{const e=Math.min(rl(b),il),t=hl((t=>b.next(e*t).value),e,30);return e+"ms "+t}};return b}function Td({keyframes:e,velocity:t=0,power:n=.8,timeConstant:i=325,bounceDamping:r=10,bounceStiffness:s=500,modifyTarget:o,min:a,max:l,restDelta:c=.5,restSpeed:d}){const h=e[0],u={done:!1,value:h},p=e=>void 0===a?l:void 0===l||Math.abs(a-e)<Math.abs(l-e)?a:l;let f=n*t;const m=h+f,g=void 0===o?m:o(m);g!==m&&(f=g-h);const x=e=>-f*Math.exp(-e/i),y=e=>g+x(e),v=e=>{const t=x(e),n=y(e);u.done=Math.abs(t)<=c,u.value=u.done?g:n};let b,j;const w=e=>{var t;(t=u.value,void 0!==a&&t<a||void 0!==l&&t>l)&&(b=e,j=Ad({keyframes:[u.value,p(u.value)],velocity:hd(y,e,u.value),damping:r,stiffness:s,restDelta:c,restSpeed:d}))};return w(0),{calculatedDuration:null,next:e=>{let t=!1;return j||void 0!==b||(t=!0,v(e),w(e)),void 0!==b&&e>=b?j.next(e-b):(!t&&v(e),u)}}}const Id=Vl(.42,0,1,1),Dd=Vl(0,0,.58,1),Rd=Vl(.42,0,.58,1),Fd={linear:so,easeIn:Id,easeInOut:Rd,easeOut:Dd,circIn:Xl,circInOut:Jl,circOut:Kl,backIn:ql,backInOut:Yl,backOut:Hl,anticipate:Gl},Ld=e=>{if(al(e)){oo(4===e.length);const[t,n,i,r]=e;return Vl(t,n,i,r)}return"string"==typeof e?Fd[e]:e};function zd(e,t,{clamp:n=!0,ease:i,mixer:r}={}){const s=e.length;if(oo(s===t.length),1===s)return()=>t[0];if(2===s&&t[0]===t[1])return()=>t[1];const o=e[0]===e[1];e[0]>e[s-1]&&(e=[...e].reverse(),t=[...t].reverse());const a=function(e,t,n){const i=[],r=n||dd,s=e.length-1;for(let o=0;o<s;o++){let n=r(e[o],e[o+1]);if(t){const e=Array.isArray(t)?t[o]||so:t;n=id(e,n)}i.push(n)}return i}(t,i,r),l=a.length,c=n=>{if(o&&n<e[0])return t[0];let i=0;if(l>1)for(;i<e.length-2&&!(n<e[i+1]);i++);const r=lo(e[i],e[i+1],n);return a[i](r)};return n?t=>c(da(e[0],e[s-1],t)):c}function Bd(e){const t=[0];return function(e,t){const n=e[e.length-1];for(let i=1;i<=t;i++){const r=lo(0,t,i);e.push(Xc(n,1,r))}}(t,e.length-1),t}function Wd({duration:e=300,keyframes:t,times:n,ease:i="easeInOut"}){const r=(e=>Array.isArray(e)&&"number"!=typeof e[0])(i)?i.map(Ld):Ld(i),s={done:!1,value:t[0]},o=function(e,t){return e.map((e=>e*t))}(n&&n.length===t.length?n:Bd(t),e),a=zd(o,t,{ease:Array.isArray(r)?r:(l=t,c=r,l.map((()=>c||Rd)).splice(0,l.length-1))});var l,c;return{calculatedDuration:e,next:t=>(s.value=a(t),s.done=t>=e,s)}}const Nd=e=>{const t=({timestamp:t})=>e(t);return{start:()=>mo.update(t,!0),stop:()=>go(t),now:()=>xo.isProcessing?xo.timestamp:Al.now()}},Vd={decay:Td,inertia:Td,tween:Wd,keyframes:Wd,spring:Ad},$d=e=>e/100;class Ud extends Gc{constructor(e){super(e),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,"idle"===this.state)return;this.teardown();const{onStop:e}=this.options;e&&e()};const{name:t,motionValue:n,element:i,keyframes:r}=this.options,s=(null==i?void 0:i.KeyframeResolver)||Lc;this.resolver=new s(r,((e,t)=>this.onKeyframesResolved(e,t)),t,n,i),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(e){const{type:t="keyframes",repeat:n=0,repeatDelay:i=0,repeatType:r,velocity:s=0}=this.options,o=sl(t)?t:Vd[t]||Wd;let a,l;o!==Wd&&"number"!=typeof e[0]&&(a=id($d,dd(e[0],e[1])),e=[0,100]);const c=o({...this.options,keyframes:e});"mirror"===r&&(l=o({...this.options,keyframes:[...e].reverse(),velocity:-s})),null===c.calculatedDuration&&(c.calculatedDuration=rl(c));const{calculatedDuration:d}=c,h=d+i;return{generator:c,mirroredGenerator:l,mapPercentToKeyframes:a,calculatedDuration:d,resolvedDuration:h,totalDuration:h*(n+1)-i}}onPostResolved(){const{autoplay:e=!0}=this.options;this.play(),"paused"!==this.pendingPlayState&&e?this.state=this.pendingPlayState:this.pause()}tick(e,t=!1){const{resolved:n}=this;if(!n){const{keyframes:e}=this.options;return{done:!0,value:e[e.length-1]}}const{finalKeyframe:i,generator:r,mirroredGenerator:s,mapPercentToKeyframes:o,keyframes:a,calculatedDuration:l,totalDuration:c,resolvedDuration:d}=n;if(null===this.startTime)return r.next(0);const{delay:h,repeat:u,repeatType:p,repeatDelay:f,onUpdate:m}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-c/this.speed,this.startTime)),t?this.currentTime=e:null!==this.holdTime?this.currentTime=this.holdTime:this.currentTime=Math.round(e-this.startTime)*this.speed;const g=this.currentTime-h*(this.speed>=0?1:-1),x=this.speed>=0?g<0:g>c;this.currentTime=Math.max(g,0),"finished"===this.state&&null===this.holdTime&&(this.currentTime=c);let y=this.currentTime,v=r;if(u){const e=Math.min(this.currentTime,c)/d;let t=Math.floor(e),n=e%1;!n&&e>=1&&(n=1),1===n&&t--,t=Math.min(t,u+1);Boolean(t%2)&&("reverse"===p?(n=1-n,f&&(n-=f/d)):"mirror"===p&&(v=s)),y=da(0,1,n)*d}const b=x?{done:!1,value:a[0]}:v.next(y);o&&(b.value=o(b.value));let{done:j}=b;x||null===l||(j=this.speed>=0?this.currentTime>=c:this.currentTime<=0);const w=null===this.holdTime&&("finished"===this.state||"running"===this.state&&j);return w&&void 0!==i&&(b.value=Yc(a,this.options,i)),m&&m(b.value),w&&this.finish(),b}get duration(){const{resolved:e}=this;return e?ho(e.calculatedDuration):0}get time(){return ho(this.currentTime)}set time(e){e=co(e),this.currentTime=e,null!==this.holdTime||0===this.speed?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.speed)}get speed(){return this.playbackSpeed}set speed(e){const t=this.playbackSpeed!==e;this.playbackSpeed=e,t&&(this.time=ho(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved)return void(this.pendingPlayState="running");if(this.isStopped)return;const{driver:e=Nd,onPlay:t,startTime:n}=this.options;this.driver||(this.driver=e((e=>this.tick(e)))),t&&t();const i=this.driver.now();null!==this.holdTime?this.startTime=i-this.holdTime:this.startTime?"finished"===this.state&&(this.startTime=i):this.startTime=null!=n?n:this.calcStartTime(),"finished"===this.state&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var e;this._resolved?(this.state="paused",this.holdTime=null!==(e=this.currentTime)&&void 0!==e?e:0):this.pendingPlayState="paused"}complete(){"running"!==this.state&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:e}=this.options;e&&e()}cancel(){null!==this.cancelTime&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}}const Hd=new Set(["opacity","clipPath","filter","transform"]);function qd(e,t,n,{delay:i=0,duration:r=300,repeat:s=0,repeatType:o="loop",ease:a="easeInOut",times:l}={}){const c={[t]:n};l&&(c.offset=l);const d=ml(a,r);return Array.isArray(d)&&(c.easing=d),e.animate(c,{delay:i,duration:r,easing:Array.isArray(d)?"linear":d,fill:"both",iterations:s+1,direction:"reverse"===o?"alternate":"normal"})}const Yd=ao((()=>Object.hasOwnProperty.call(Element.prototype,"animate")));const Gd={anticipate:Gl,backInOut:Yl,circInOut:Jl};class Xd extends Gc{constructor(e){super(e);const{name:t,motionValue:n,element:i,keyframes:r}=this.options;this.resolver=new Uc(r,((e,t)=>this.onKeyframesResolved(e,t)),t,n,i),this.resolver.scheduleResolve()}initPlayback(e,t){let{duration:n=300,times:i,ease:r,type:s,motionValue:o,name:a,startTime:l}=this.options;if(!o.owner||!o.owner.current)return!1;var c;if("string"==typeof r&&dl()&&r in Gd&&(r=Gd[r]),sl((c=this.options).type)||"spring"===c.type||!ul(c.ease)){const{onComplete:t,onUpdate:o,motionValue:a,element:l,...c}=this.options,d=function(e,t){const n=new Ud({...t,keyframes:e,repeat:0,delay:0,isGenerator:!0});let i={done:!1,value:e[0]};const r=[];let s=0;for(;!i.done&&s<2e4;)i=n.sample(s),r.push(i.value),s+=10;return{times:void 0,keyframes:r,duration:s-10,ease:"linear"}}(e,c);1===(e=d.keyframes).length&&(e[1]=e[0]),n=d.duration,i=d.times,r=d.ease,s="keyframes"}const d=qd(o.owner.current,a,e,{...this.options,duration:n,times:i,ease:r});return d.startTime=null!=l?l:this.calcStartTime(),this.pendingTimeline?(ol(d,this.pendingTimeline),this.pendingTimeline=void 0):d.onfinish=()=>{const{onComplete:n}=this.options;o.set(Yc(e,this.options,t)),n&&n(),this.cancel(),this.resolveFinishedPromise()},{animation:d,duration:n,times:i,type:s,ease:r,keyframes:e}}get duration(){const{resolved:e}=this;if(!e)return 0;const{duration:t}=e;return ho(t)}get time(){const{resolved:e}=this;if(!e)return 0;const{animation:t}=e;return ho(t.currentTime||0)}set time(e){const{resolved:t}=this;if(!t)return;const{animation:n}=t;n.currentTime=co(e)}get speed(){const{resolved:e}=this;if(!e)return 1;const{animation:t}=e;return t.playbackRate}set speed(e){const{resolved:t}=this;if(!t)return;const{animation:n}=t;n.playbackRate=e}get state(){const{resolved:e}=this;if(!e)return"idle";const{animation:t}=e;return t.playState}get startTime(){const{resolved:e}=this;if(!e)return null;const{animation:t}=e;return t.startTime}attachTimeline(e){if(this._resolved){const{resolved:t}=this;if(!t)return so;const{animation:n}=t;ol(n,e)}else this.pendingTimeline=e;return so}play(){if(this.isStopped)return;const{resolved:e}=this;if(!e)return;const{animation:t}=e;"finished"===t.playState&&this.updateFinishedPromise(),t.play()}pause(){const{resolved:e}=this;if(!e)return;const{animation:t}=e;t.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,"idle"===this.state)return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:e}=this;if(!e)return;const{animation:t,keyframes:n,duration:i,type:r,ease:s,times:o}=e;if("idle"===t.playState||"finished"===t.playState)return;if(this.time){const{motionValue:e,onUpdate:t,onComplete:a,element:l,...c}=this.options,d=new Ud({...c,keyframes:n,duration:i,type:r,ease:s,times:o,isGenerator:!0}),h=co(this.time);e.setWithVelocity(d.sample(h-10).value,d.sample(h).value,10)}const{onStop:a}=this.options;a&&a(),this.cancel()}complete(){const{resolved:e}=this;e&&e.animation.finish()}cancel(){const{resolved:e}=this;e&&e.animation.cancel()}static supports(e){const{motionValue:t,name:n,repeatDelay:i,repeatType:r,damping:s,type:o}=e;if(!(t&&t.owner&&t.owner.current instanceof HTMLElement))return!1;const{onUpdate:a,transformTemplate:l}=t.owner.getProps();return Yd()&&n&&Hd.has(n)&&!a&&!l&&!i&&"mirror"!==r&&0!==s&&"inertia"!==o}}const Kd={type:"spring",stiffness:500,damping:25,restSpeed:10},Jd={type:"keyframes",duration:.8},Qd={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},Zd=(e,{keyframes:t})=>t.length>2?Jd:ia.has(e)?e.startsWith("scale")?{type:"spring",stiffness:550,damping:0===t[1]?2*Math.sqrt(550):30,restSpeed:10}:Kd:Qd;const eh=(e,t,n,i={},r,s)=>o=>{const a=nl(i,e)||{},l=a.delay||i.delay||0;let{elapsed:c=0}=i;c-=co(l);let d={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:t.getVelocity(),...a,delay:-c,onUpdate:e=>{t.set(e),a.onUpdate&&a.onUpdate(e)},onComplete:()=>{o(),a.onComplete&&a.onComplete()},name:e,motionValue:t,element:s?void 0:r};(function({when:e,delay:t,delayChildren:n,staggerChildren:i,staggerDirection:r,repeat:s,repeatType:o,repeatDelay:a,from:l,elapsed:c,...d}){return!!Object.keys(d).length})(a)||(d={...d,...Zd(e,d)}),d.duration&&(d.duration=co(d.duration)),d.repeatDelay&&(d.repeatDelay=co(d.repeatDelay)),void 0!==d.from&&(d.keyframes[0]=d.from);let h=!1;if((!1===d.type||0===d.duration&&!d.repeatDelay)&&(d.duration=0,0===d.delay&&(h=!0)),h&&!s&&void 0!==t.get()){const e=Yc(d.keyframes,a);if(void 0!==e)return mo.update((()=>{d.onUpdate(e),d.onComplete()})),new tl([])}return!s&&Xd.supports(d)?new Xd(d):new Ud(d)};function th({protectedKeys:e,needsAnimating:t},n){const i=e.hasOwnProperty(n)&&!0!==t[n];return t[n]=!1,i}function nh(e,t,{delay:n=0,transitionOverride:i,type:r}={}){var s;let{transition:o=e.getDefaultTransition(),transitionEnd:a,...l}=t;i&&(o=i);const c=[],d=r&&e.animationState&&e.animationState.getState()[r];for(const h in l){const t=e.getValue(h,null!==(s=e.latestValues[h])&&void 0!==s?s:null),i=l[h];if(void 0===i||d&&th(d,h))continue;const r={delay:n,...nl(o||{},h)};let a=!1;if(window.MotionHandoffAnimation){const t=Wl(e);if(t){const e=window.MotionHandoffAnimation(t,h,mo);null!==e&&(r.startTime=e,a=!0)}}Bl(e,h),t.start(eh(h,t,i,e.shouldReduceMotion&&Pl.has(h)?{type:!1}:r,e,a));const u=t.animation;u&&c.push(u)}return a&&Promise.all(c).then((()=>{mo.update((()=>{a&&function(e,t){const n=Qa(e,t);let{transitionEnd:i={},transition:r={},...s}=n||{};s={...s,...i};for(const a in s)zl(e,a,(o=s[a],Jo(o)?o[o.length-1]||0:o));var o}(e,a)}))})),c}function ih(e,t,n={}){var i;const r=Qa(e,t,"exit"===n.type?null===(i=e.presenceContext)||void 0===i?void 0:i.custom:void 0);let{transition:s=e.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(s=n.transitionOverride);const o=r?()=>Promise.all(nh(e,r,n)):()=>Promise.resolve(),a=e.variantChildren&&e.variantChildren.size?(i=0)=>{const{delayChildren:r=0,staggerChildren:o,staggerDirection:a}=s;return function(e,t,n=0,i=0,r=1,s){const o=[],a=(e.variantChildren.size-1)*i,l=1===r?(e=0)=>e*i:(e=0)=>a-e*i;return Array.from(e.variantChildren).sort(rh).forEach(((e,i)=>{e.notify("AnimationStart",t),o.push(ih(e,t,{...s,delay:n+l(i)}).then((()=>e.notify("AnimationComplete",t))))})),Promise.all(o)}(e,t,r+i,o,a,n)}:()=>Promise.resolve(),{when:l}=s;if(l){const[e,t]="beforeChildren"===l?[o,a]:[a,o];return e().then((()=>t()))}return Promise.all([o(),a(n.delay)])}function rh(e,t){return e.sortNodePosition(t)}const sh=Ao.length;function oh(e){if(!e)return;if(!e.isControllingVariants){const t=e.parent&&oh(e.parent)||{};return void 0!==e.props.initial&&(t.initial=e.props.initial),t}const t={};for(let n=0;n<sh;n++){const i=Ao[n],r=e.props[i];(Po(r)||!1===r)&&(t[i]=r)}return t}const ah=[...Mo].reverse(),lh=Mo.length;function ch(e){return t=>Promise.all(t.map((({animation:t,options:n})=>function(e,t,n={}){let i;if(e.notify("AnimationStart",t),Array.isArray(t)){const r=t.map((t=>ih(e,t,n)));i=Promise.all(r)}else if("string"==typeof t)i=ih(e,t,n);else{const r="function"==typeof t?Qa(e,t,n.custom):t;i=Promise.all(nh(e,r,n))}return i.then((()=>{e.notify("AnimationComplete",t)}))}(e,t,n))))}function dh(e){let t=ch(e),n=ph(),i=!0;const r=t=>(n,i)=>{var r;const s=Qa(e,i,"exit"===t?null===(r=e.presenceContext)||void 0===r?void 0:r.custom:void 0);if(s){const{transition:e,transitionEnd:t,...i}=s;n={...n,...i,...t}}return n};function s(s){const{props:o}=e,a=oh(e.parent)||{},l=[],c=new Set;let d={},h=1/0;for(let t=0;t<lh;t++){const u=ah[t],p=n[u],f=void 0!==o[u]?o[u]:a[u],m=Po(f),g=u===s?p.isActive:null;!1===g&&(h=t);let x=f===a[u]&&f!==o[u]&&m;if(x&&i&&e.manuallyAnimateOnMount&&(x=!1),p.protectedKeys={...d},!p.isActive&&null===g||!f&&!p.prevProp||Oo(f)||"boolean"==typeof f)continue;const y=hh(p.prevProp,f);let v=y||u===s&&p.isActive&&!x&&m||t>h&&m,b=!1;const j=Array.isArray(f)?f:[f];let w=j.reduce(r(u),{});!1===g&&(w={});const{prevResolvedValues:S={}}=p,C={...S,...w},_=t=>{v=!0,c.has(t)&&(b=!0,c.delete(t)),p.needsAnimating[t]=!0;const n=e.getValue(t);n&&(n.liveStyle=!1)};for(const e in C){const t=w[e],n=S[e];if(d.hasOwnProperty(e))continue;let i=!1;i=Jo(t)&&Jo(n)?!Ja(t,n):t!==n,i?null!=t?_(e):c.add(e):void 0!==t&&c.has(e)?_(e):p.protectedKeys[e]=!0}p.prevProp=f,p.prevResolvedValues=w,p.isActive&&(d={...d,...w}),i&&e.blockInitialAnimation&&(v=!1);v&&(!(x&&y)||b)&&l.push(...j.map((e=>({animation:e,options:{type:u}}))))}if(c.size){const t={};c.forEach((n=>{const i=e.getBaseTarget(n),r=e.getValue(n);r&&(r.liveStyle=!0),t[n]=null!=i?i:null})),l.push({animation:t})}let u=Boolean(l.length);return!i||!1!==o.initial&&o.initial!==o.animate||e.manuallyAnimateOnMount||(u=!1),i=!1,u?t(l):Promise.resolve()}return{animateChanges:s,setActive:function(t,i){var r;if(n[t].isActive===i)return Promise.resolve();null===(r=e.variantChildren)||void 0===r||r.forEach((e=>{var n;return null===(n=e.animationState)||void 0===n?void 0:n.setActive(t,i)})),n[t].isActive=i;const o=s(t);for(const e in n)n[e].protectedKeys={};return o},setAnimateFunction:function(n){t=n(e)},getState:()=>n,reset:()=>{n=ph(),i=!0}}}function hh(e,t){return"string"==typeof t?t!==e:!!Array.isArray(t)&&!Ja(t,e)}function uh(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function ph(){return{animate:uh(!0),whileInView:uh(),whileHover:uh(),whileTap:uh(),whileDrag:uh(),whileFocus:uh(),exit:uh()}}class fh{constructor(e){this.isMounted=!1,this.node=e}update(){}}let mh=0;const gh={animation:{Feature:class extends fh{constructor(e){super(e),e.animationState||(e.animationState=dh(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();Oo(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:t}=this.node.prevProps||{};e!==t&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),null===(e=this.unmountControls)||void 0===e||e.call(this)}}},exit:{Feature:class extends fh{constructor(){super(...arguments),this.id=mh++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:t}=this.node.presenceContext,{isPresent:n}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===n)return;const i=this.node.animationState.setActive("exit",!e);t&&!e&&i.then((()=>t(this.id)))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}}};function xh(e,t,n,i={passive:!0}){return e.addEventListener(t,n,i),()=>e.removeEventListener(t,n)}function yh(e){return{point:{x:e.pageX,y:e.pageY}}}function vh(e,t,n,i){return xh(e,t,(e=>t=>jl(t)&&e(t,yh(t)))(n),i)}const bh=(e,t)=>Math.abs(e-t);class jh{constructor(e,t,{transformPagePoint:n,contextWindow:i,dragSnapToOrigin:r=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!this.lastMoveEvent||!this.lastMoveEventInfo)return;const e=Ch(this.lastMoveEventInfo,this.history),t=null!==this.startEvent,n=function(e,t){const n=bh(e.x,t.x),i=bh(e.y,t.y);return Math.sqrt(n**2+i**2)}(e.offset,{x:0,y:0})>=3;if(!t&&!n)return;const{point:i}=e,{timestamp:r}=xo;this.history.push({...i,timestamp:r});const{onStart:s,onMove:o}=this.handlers;t||(s&&s(this.lastMoveEvent,e),this.startEvent=this.lastMoveEvent),o&&o(this.lastMoveEvent,e)},this.handlePointerMove=(e,t)=>{this.lastMoveEvent=e,this.lastMoveEventInfo=wh(t,this.transformPagePoint),mo.update(this.updatePoint,!0)},this.handlePointerUp=(e,t)=>{this.end();const{onEnd:n,onSessionEnd:i,resumeAnimation:r}=this.handlers;if(this.dragSnapToOrigin&&r&&r(),!this.lastMoveEvent||!this.lastMoveEventInfo)return;const s=Ch("pointercancel"===e.type?this.lastMoveEventInfo:wh(t,this.transformPagePoint),this.history);this.startEvent&&n&&n(e,s),i&&i(e,s)},!jl(e))return;this.dragSnapToOrigin=r,this.handlers=t,this.transformPagePoint=n,this.contextWindow=i||window;const s=wh(yh(e),this.transformPagePoint),{point:o}=s,{timestamp:a}=xo;this.history=[{...o,timestamp:a}];const{onSessionStart:l}=t;l&&l(e,Ch(s,this.history)),this.removeListeners=id(vh(this.contextWindow,"pointermove",this.handlePointerMove),vh(this.contextWindow,"pointerup",this.handlePointerUp),vh(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),go(this.updatePoint)}}function wh(e,t){return t?{point:t(e.point)}:e}function Sh(e,t){return{x:e.x-t.x,y:e.y-t.y}}function Ch({point:e},t){return{point:e,delta:Sh(e,kh(t)),offset:Sh(e,_h(t)),velocity:Eh(t,.1)}}function _h(e){return e[0]}function kh(e){return e[e.length-1]}function Eh(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,i=null;const r=kh(e);for(;n>=0&&(i=e[n],!(r.timestamp-i.timestamp>co(t)));)n--;if(!i)return{x:0,y:0};const s=ho(r.timestamp-i.timestamp);if(0===s)return{x:0,y:0};const o={x:(r.x-i.x)/s,y:(r.y-i.y)/s};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function Ph(e){return e.max-e.min}function Oh(e,t,n,i=.5){e.origin=i,e.originPoint=Xc(t.min,t.max,e.origin),e.scale=Ph(n)/Ph(t),e.translate=Xc(n.min,n.max,e.origin)-e.originPoint,(e.scale>=.9999&&e.scale<=1.0001||isNaN(e.scale))&&(e.scale=1),(e.translate>=-.01&&e.translate<=.01||isNaN(e.translate))&&(e.translate=0)}function Mh(e,t,n,i){Oh(e.x,t.x,n.x,i?i.originX:void 0),Oh(e.y,t.y,n.y,i?i.originY:void 0)}function Ah(e,t,n){e.min=n.min+t.min,e.max=e.min+Ph(t)}function Th(e,t,n){e.min=t.min-n.min,e.max=e.min+Ph(t)}function Ih(e,t,n){Th(e.x,t.x,n.x),Th(e.y,t.y,n.y)}function Dh(e,t,n){return{min:void 0!==t?e.min+t:void 0,max:void 0!==n?e.max+n-(e.max-e.min):void 0}}function Rh(e,t){let n=t.min-e.min,i=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,i]=[i,n]),{min:n,max:i}}const Fh=.35;function Lh(e,t,n){return{min:zh(e,t),max:zh(e,n)}}function zh(e,t){return"number"==typeof e?e:e[t]||0}const Bh=()=>({x:{min:0,max:0},y:{min:0,max:0}});function Wh(e){return[e("x"),e("y")]}function Nh({top:e,left:t,right:n,bottom:i}){return{x:{min:t,max:n},y:{min:e,max:i}}}function Vh(e){return void 0===e||1===e}function $h({scale:e,scaleX:t,scaleY:n}){return!Vh(e)||!Vh(t)||!Vh(n)}function Uh(e){return $h(e)||Hh(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function Hh(e){return qh(e.x)||qh(e.y)}function qh(e){return e&&"0%"!==e}function Yh(e,t,n){return n+t*(e-n)}function Gh(e,t,n,i,r){return void 0!==r&&(e=Yh(e,r,i)),Yh(e,n,i)+t}function Xh(e,t=0,n=1,i,r){e.min=Gh(e.min,t,n,i,r),e.max=Gh(e.max,t,n,i,r)}function Kh(e,{x:t,y:n}){Xh(e.x,t.translate,t.scale,t.originPoint),Xh(e.y,n.translate,n.scale,n.originPoint)}const Jh=.999999999999,Qh=1.0000000000001;function Zh(e,t){e.min=e.min+t,e.max=e.max+t}function eu(e,t,n,i,r=.5){Xh(e,t,n,Xc(e.min,e.max,r),i)}function tu(e,t){eu(e.x,t.x,t.scaleX,t.scale,t.originX),eu(e.y,t.y,t.scaleY,t.scale,t.originY)}function nu(e,t){return Nh(function(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),i=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:i.y,right:i.x}}(e.getBoundingClientRect(),t))}const iu=({current:e})=>e?e.ownerDocument.defaultView:null,ru=new WeakMap;class su{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic={x:{min:0,max:0},y:{min:0,max:0}},this.visualElement=e}start(e,{snapToCursor:t=!1}={}){const{presenceContext:n}=this.visualElement;if(n&&!1===n.isPresent)return;const{dragSnapToOrigin:i}=this.getProps();this.panSession=new jh(e,{onSessionStart:e=>{const{dragSnapToOrigin:n}=this.getProps();n?this.pauseAnimation():this.stopAnimation(),t&&this.snapToCursor(yh(e).point)},onStart:(e,t)=>{const{drag:n,dragPropagation:i,onDragStart:r}=this.getProps();if(n&&!i&&(this.openDragLock&&this.openDragLock(),this.openDragLock="x"===(s=n)||"y"===s?gl[s]?null:(gl[s]=!0,()=>{gl[s]=!1}):gl.x||gl.y?null:(gl.x=gl.y=!0,()=>{gl.x=gl.y=!1}),!this.openDragLock))return;var s;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Wh((e=>{let t=this.getAxisMotionValue(e).get()||0;if(ga.test(t)){const{projection:n}=this.visualElement;if(n&&n.layout){const i=n.layout.layoutBox[e];if(i){t=Ph(i)*(parseFloat(t)/100)}}}this.originPoint[e]=t})),r&&mo.postRender((()=>r(e,t))),Bl(this.visualElement,"transform");const{animationState:o}=this.visualElement;o&&o.setActive("whileDrag",!0)},onMove:(e,t)=>{const{dragPropagation:n,dragDirectionLock:i,onDirectionLock:r,onDrag:s}=this.getProps();if(!n&&!this.openDragLock)return;const{offset:o}=t;if(i&&null===this.currentDirection)return this.currentDirection=function(e,t=10){let n=null;Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x");return n}(o),void(null!==this.currentDirection&&r&&r(this.currentDirection));this.updateAxis("x",t.point,o),this.updateAxis("y",t.point,o),this.visualElement.render(),s&&s(e,t)},onSessionEnd:(e,t)=>this.stop(e,t),resumeAnimation:()=>Wh((e=>{var t;return"paused"===this.getAnimationState(e)&&(null===(t=this.getAxisMotionValue(e).animation)||void 0===t?void 0:t.play())}))},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:i,contextWindow:iu(this.visualElement)})}stop(e,t){const n=this.isDragging;if(this.cancel(),!n)return;const{velocity:i}=t;this.startAnimation(i);const{onDragEnd:r}=this.getProps();r&&mo.postRender((()=>r(e,t)))}cancel(){this.isDragging=!1;const{projection:e,animationState:t}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:n}=this.getProps();!n&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),t&&t.setActive("whileDrag",!1)}updateAxis(e,t,n){const{drag:i}=this.getProps();if(!n||!ou(e,i,this.currentDirection))return;const r=this.getAxisMotionValue(e);let s=this.originPoint[e]+n[e];this.constraints&&this.constraints[e]&&(s=function(e,{min:t,max:n},i){return void 0!==t&&e<t?e=i?Xc(t,e,i.min):Math.max(e,t):void 0!==n&&e>n&&(e=i?Xc(n,e,i.max):Math.min(e,n)),e}(s,this.constraints[e],this.elastic[e])),r.set(s)}resolveConstraints(){var e;const{dragConstraints:t,dragElastic:n}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):null===(e=this.visualElement.projection)||void 0===e?void 0:e.layout,r=this.constraints;t&&Lo(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):this.constraints=!(!t||!i)&&function(e,{top:t,left:n,bottom:i,right:r}){return{x:Dh(e.x,n,r),y:Dh(e.y,t,i)}}(i.layoutBox,t),this.elastic=function(e=Fh){return!1===e?e=0:!0===e&&(e=Fh),{x:Lh(e,"left","right"),y:Lh(e,"top","bottom")}}(n),r!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&Wh((e=>{!1!==this.constraints&&this.getAxisMotionValue(e)&&(this.constraints[e]=function(e,t){const n={};return void 0!==t.min&&(n.min=t.min-e.min),void 0!==t.max&&(n.max=t.max-e.min),n}(i.layoutBox[e],this.constraints[e]))}))}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:t}=this.getProps();if(!e||!Lo(e))return!1;const n=e.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const r=function(e,t,n){const i=nu(e,n),{scroll:r}=t;return r&&(Zh(i.x,r.offset.x),Zh(i.y,r.offset.y)),i}(n,i.root,this.visualElement.getTransformPagePoint());let s=function(e,t){return{x:Rh(e.x,t.x),y:Rh(e.y,t.y)}}(i.layout.layoutBox,r);if(t){const e=t(function({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}(s));this.hasMutatedConstraints=!!e,e&&(s=Nh(e))}return s}startAnimation(e){const{drag:t,dragMomentum:n,dragElastic:i,dragTransition:r,dragSnapToOrigin:s,onDragTransitionEnd:o}=this.getProps(),a=this.constraints||{},l=Wh((o=>{if(!ou(o,t,this.currentDirection))return;let l=a&&a[o]||{};s&&(l={min:0,max:0});const c=i?200:1e6,d=i?40:1e7,h={type:"inertia",velocity:n?e[o]:0,bounceStiffness:c,bounceDamping:d,timeConstant:750,restDelta:1,restSpeed:10,...r,...l};return this.startAxisValueAnimation(o,h)}));return Promise.all(l).then(o)}startAxisValueAnimation(e,t){const n=this.getAxisMotionValue(e);return Bl(this.visualElement,e),n.start(eh(e,n,0,t,this.visualElement,!1))}stopAnimation(){Wh((e=>this.getAxisMotionValue(e).stop()))}pauseAnimation(){Wh((e=>{var t;return null===(t=this.getAxisMotionValue(e).animation)||void 0===t?void 0:t.pause()}))}getAnimationState(e){var t;return null===(t=this.getAxisMotionValue(e).animation)||void 0===t?void 0:t.state}getAxisMotionValue(e){const t=`_drag${e.toUpperCase()}`,n=this.visualElement.getProps(),i=n[t];return i||this.visualElement.getValue(e,(n.initial?n.initial[e]:void 0)||0)}snapToCursor(e){Wh((t=>{const{drag:n}=this.getProps();if(!ou(t,n,this.currentDirection))return;const{projection:i}=this.visualElement,r=this.getAxisMotionValue(t);if(i&&i.layout){const{min:n,max:s}=i.layout.layoutBox[t];r.set(e[t]-Xc(n,s,.5))}}))}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:t}=this.getProps(),{projection:n}=this.visualElement;if(!Lo(t)||!n||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};Wh((e=>{const t=this.getAxisMotionValue(e);if(t&&!1!==this.constraints){const n=t.get();i[e]=function(e,t){let n=.5;const i=Ph(e),r=Ph(t);return r>i?n=lo(t.min,t.max-i,e.min):i>r&&(n=lo(e.min,e.max-r,t.min)),da(0,1,n)}({min:n,max:n},this.constraints[e])}}));const{transformTemplate:r}=this.visualElement.getProps();this.visualElement.current.style.transform=r?r({},""):"none",n.root&&n.root.updateScroll(),n.updateLayout(),this.resolveConstraints(),Wh((t=>{if(!ou(t,e,null))return;const n=this.getAxisMotionValue(t),{min:r,max:s}=this.constraints[t];n.set(Xc(r,s,i[t]))}))}addListeners(){if(!this.visualElement.current)return;ru.set(this.visualElement,this);const e=vh(this.visualElement.current,"pointerdown",(e=>{const{drag:t,dragListener:n=!0}=this.getProps();t&&n&&this.start(e)})),t=()=>{const{dragConstraints:e}=this.getProps();Lo(e)&&e.current&&(this.constraints=this.resolveRefConstraints())},{projection:n}=this.visualElement,i=n.addEventListener("measure",t);n&&!n.layout&&(n.root&&n.root.updateScroll(),n.updateLayout()),mo.read(t);const r=xh(window,"resize",(()=>this.scalePositionWithinConstraints())),s=n.addEventListener("didUpdate",(({delta:e,hasLayoutChanged:t})=>{this.isDragging&&t&&(Wh((t=>{const n=this.getAxisMotionValue(t);n&&(this.originPoint[t]+=e[t].translate,n.set(n.get()+e[t].translate))})),this.visualElement.render())}));return()=>{r(),e(),i(),s&&s()}}getProps(){const e=this.visualElement.getProps(),{drag:t=!1,dragDirectionLock:n=!1,dragPropagation:i=!1,dragConstraints:r=!1,dragElastic:s=Fh,dragMomentum:o=!0}=e;return{...e,drag:t,dragDirectionLock:n,dragPropagation:i,dragConstraints:r,dragElastic:s,dragMomentum:o}}}function ou(e,t,n){return!(!0!==t&&t!==e||null!==n&&n!==e)}const au=e=>(t,n)=>{e&&mo.postRender((()=>e(t,n)))};const lu={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function cu(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const du={correct:(e,t)=>{if(!t.target)return e;if("string"==typeof e){if(!xa.test(e))return e;e=parseFloat(e)}return`${cu(e,t.target.x)}% ${cu(e,t.target.y)}%`}},hu={correct:(e,{treeScale:t,projectionDelta:n})=>{const i=e,r=xc.parse(e);if(r.length>5)return i;const s=xc.createTransformer(e),o="number"!=typeof r[0]?1:0,a=n.x.scale*t.x,l=n.y.scale*t.y;r[0+o]/=a,r[1+o]/=l;const c=Xc(a,l,.5);return"number"==typeof r[2+o]&&(r[2+o]/=c),"number"==typeof r[3+o]&&(r[3+o]/=c),s(r)}};class uu extends Ot.Component{componentDidMount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:n,layoutId:i}=this.props,{projection:r}=e;var s;s=fu,Object.assign(za,s),r&&(t.group&&t.group.add(r),n&&n.register&&i&&n.register(r),r.root.didUpdate(),r.addEventListener("animationComplete",(()=>{this.safeToRemove()})),r.setOptions({...r.options,onExitComplete:()=>this.safeToRemove()})),lu.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:t,visualElement:n,drag:i,isPresent:r}=this.props,s=n.projection;return s?(s.isPresent=r,i||e.layoutDependency!==t||void 0===t?s.willUpdate():this.safeToRemove(),e.isPresent!==r&&(r?s.promote():s.relegate()||mo.postRender((()=>{const e=s.getStack();e&&e.members.length||this.safeToRemove()}))),null):null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),No.postRender((()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()})))}componentWillUnmount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:n}=this.props,{projection:i}=e;i&&(i.scheduleCheckAfterUnmount(),t&&t.group&&t.group.remove(i),n&&n.deregister&&n.deregister(i))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function pu(e){const[t,n]=Zs(),i=Ot.useContext(Hs);return o.jsx(uu,{...e,layoutGroup:i,switchLayoutGroup:Ot.useContext(Vo),isPresent:t,safeToRemove:n})}const fu={borderRadius:{...du,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:du,borderTopRightRadius:du,borderBottomLeftRadius:du,borderBottomRightRadius:du,boxShadow:hu};const mu=(e,t)=>e.depth-t.depth;class gu{constructor(){this.children=[],this.isDirty=!1}add(e){Tl(this.children,e),this.isDirty=!0}remove(e){Il(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(mu),this.isDirty=!1,this.children.forEach(e)}}const xu=["TopLeft","TopRight","BottomLeft","BottomRight"],yu=xu.length,vu=e=>"string"==typeof e?parseFloat(e):e,bu=e=>"number"==typeof e||xa.test(e);function ju(e,t){return void 0!==e[t]?e[t]:e.borderRadius}const wu=Cu(0,.5,Kl),Su=Cu(.5,.95,so);function Cu(e,t,n){return i=>i<e?0:i>t?1:n(lo(e,t,i))}function _u(e,t){e.min=t.min,e.max=t.max}function ku(e,t){_u(e.x,t.x),_u(e.y,t.y)}function Eu(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function Pu(e,t,n,i,r){return e=Yh(e-=t,1/n,i),void 0!==r&&(e=Yh(e,1/r,i)),e}function Ou(e,t,[n,i,r],s,o){!function(e,t=0,n=1,i=.5,r,s=e,o=e){ga.test(t)&&(t=parseFloat(t),t=Xc(o.min,o.max,t/100)-o.min);if("number"!=typeof t)return;let a=Xc(s.min,s.max,i);e===s&&(a-=t),e.min=Pu(e.min,t,n,a,r),e.max=Pu(e.max,t,n,a,r)}(e,t[n],t[i],t[r],t.scale,s,o)}const Mu=["x","scaleX","originX"],Au=["y","scaleY","originY"];function Tu(e,t,n,i){Ou(e.x,t,Mu,n?n.x:void 0,i?i.x:void 0),Ou(e.y,t,Au,n?n.y:void 0,i?i.y:void 0)}function Iu(e){return 0===e.translate&&1===e.scale}function Du(e){return Iu(e.x)&&Iu(e.y)}function Ru(e,t){return e.min===t.min&&e.max===t.max}function Fu(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function Lu(e,t){return Fu(e.x,t.x)&&Fu(e.y,t.y)}function zu(e){return Ph(e.x)/Ph(e.y)}function Bu(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class Wu{constructor(){this.members=[]}add(e){Tl(this.members,e),e.scheduleRender()}remove(e){if(Il(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const e=this.members[this.members.length-1];e&&this.promote(e)}}relegate(e){const t=this.members.findIndex((t=>e===t));if(0===t)return!1;let n;for(let i=t;i>=0;i--){const e=this.members[i];if(!1!==e.isPresent){n=e;break}}return!!n&&(this.promote(n),!0)}promote(e,t){const n=this.lead;if(e!==n&&(this.prevLead=n,this.lead=e,e.show(),n)){n.instance&&n.scheduleRender(),e.scheduleRender(),e.resumeFrom=n,t&&(e.resumeFrom.preserveOpacity=!0),n.snapshot&&(e.snapshot=n.snapshot,e.snapshot.latestValues=n.animationValues||n.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:i}=e.options;!1===i&&n.hide()}}exitAnimationComplete(){this.members.forEach((e=>{const{options:t,resumingFrom:n}=e;t.onExitComplete&&t.onExitComplete(),n&&n.options.onExitComplete&&n.options.onExitComplete()}))}scheduleRender(){this.members.forEach((e=>{e.instance&&e.scheduleRender(!1)}))}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}const Nu={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},Vu="undefined"!=typeof window&&void 0!==window.MotionDebug,$u=["","X","Y","Z"],Uu={visibility:"hidden"};let Hu=0;function qu(e,t,n,i){const{latestValues:r}=t;r[e]&&(n[e]=r[e],t.setStaticValue(e,0),i&&(i[e]=0))}function Yu(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const n=Wl(t);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:t,layoutId:i}=e.options;window.MotionCancelOptimisedAnimation(n,"transform",mo,!(t||i))}const{parent:i}=e;i&&!i.hasCheckedOptimisedAppear&&Yu(i)}function Gu({attachResizeListener:e,defaultParent:t,measureScroll:n,checkIsScrollRoot:i,resetTransform:r}){return class{constructor(e={},n=(null==t?void 0:t())){this.id=Hu++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,Vu&&(Nu.totalNodes=Nu.resolvedTargetDeltas=Nu.recalculatedProjection=0),this.nodes.forEach(Ju),this.nodes.forEach(rp),this.nodes.forEach(sp),this.nodes.forEach(Qu),Vu&&window.MotionDebug.record(Nu)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=e,this.root=n?n.root||n:this,this.path=n?[...n.path,n]:[],this.parent=n,this.depth=n?n.depth+1:0;for(let t=0;t<this.path.length;t++)this.path[t].shouldResetTransform=!0;this.root===this&&(this.nodes=new gu)}addEventListener(e,t){return this.eventHandlers.has(e)||this.eventHandlers.set(e,new Dl),this.eventHandlers.get(e).add(t)}notifyListeners(e,...t){const n=this.eventHandlers.get(e);n&&n.notify(...t)}hasListeners(e){return this.eventHandlers.has(e)}mount(t,n=this.root.hasTreeAnimated){if(this.instance)return;var i;this.isSVG=(i=t)instanceof SVGElement&&"svg"!==i.tagName,this.instance=t;const{layoutId:r,layout:s,visualElement:o}=this.options;if(o&&!o.current&&o.mount(t),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),n&&(s||r)&&(this.isLayoutDirty=!0),e){let n;const i=()=>this.root.updateBlockedByResize=!1;e(t,(()=>{this.root.updateBlockedByResize=!0,n&&n(),n=function(e,t){const n=Al.now(),i=({timestamp:r})=>{const s=r-n;s>=t&&(go(i),e(s-t))};return mo.read(i,!0),()=>go(i)}(i,250),lu.hasAnimatedSinceResize&&(lu.hasAnimatedSinceResize=!1,this.nodes.forEach(ip))}))}r&&this.root.registerSharedNode(r,this),!1!==this.options.animate&&o&&(r||s)&&this.addEventListener("didUpdate",(({delta:e,hasLayoutChanged:t,hasRelativeTargetChanged:n,layout:i})=>{if(this.isTreeAnimationBlocked())return this.target=void 0,void(this.relativeTarget=void 0);const r=this.options.transition||o.getDefaultTransition()||hp,{onLayoutAnimationStart:s,onLayoutAnimationComplete:a}=o.getProps(),l=!this.targetLayout||!Lu(this.targetLayout,i)||n,c=!t&&n;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||c||t&&(l||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(e,c);const t={...nl(r,"layout"),onPlay:s,onComplete:a};(o.shouldReduceMotion||this.options.layoutRoot)&&(t.delay=0,t.type=!1),this.startAnimation(t)}else t||ip(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=i}))}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const e=this.getStack();e&&e.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,go(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(op),this.animationId++)}getTransformTemplate(){const{visualElement:e}=this.options;return e&&e.getProps().transformTemplate}willUpdate(e=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked())return void(this.options.onExitComplete&&this.options.onExitComplete());if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&Yu(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let r=0;r<this.path.length;r++){const e=this.path[r];e.shouldResetTransform=!0,e.updateScroll("snapshot"),e.options.layoutRoot&&e.willUpdate(!1)}const{layoutId:t,layout:n}=this.options;if(void 0===t&&!n)return;const i=this.getTransformTemplate();this.prevTransformTemplateValue=i?i(this.latestValues,""):void 0,this.updateSnapshot(),e&&this.notifyListeners("willUpdate")}update(){this.updateScheduled=!1;if(this.isUpdateBlocked())return this.unblockUpdate(),this.clearAllSnapshots(),void this.nodes.forEach(ep);this.isUpdating||this.nodes.forEach(tp),this.isUpdating=!1,this.nodes.forEach(np),this.nodes.forEach(Xu),this.nodes.forEach(Ku),this.clearAllSnapshots();const e=Al.now();xo.delta=da(0,1e3/60,e-xo.timestamp),xo.timestamp=e,xo.isProcessing=!0,yo.update.process(xo),yo.preRender.process(xo),yo.render.process(xo),xo.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,No.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(Zu),this.sharedNodes.forEach(ap)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,mo.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){mo.postRender((()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()}))}updateSnapshot(){!this.snapshot&&this.instance&&(this.snapshot=this.measure())}updateLayout(){if(!this.instance)return;if(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead()||this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let n=0;n<this.path.length;n++){this.path[n].updateScroll()}const e=this.layout;this.layout=this.measure(!1),this.layoutCorrected={x:{min:0,max:0},y:{min:0,max:0}},this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:t}=this.options;t&&t.notify("LayoutMeasure",this.layout.layoutBox,e?e.layoutBox:void 0)}updateScroll(e="measure"){let t=Boolean(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===e&&(t=!1),t){const t=i(this.instance);this.scroll={animationId:this.root.animationId,phase:e,isRoot:t,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:t}}}resetTransform(){if(!r)return;const e=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,t=this.projectionDelta&&!Du(this.projectionDelta),n=this.getTransformTemplate(),i=n?n(this.latestValues,""):void 0,s=i!==this.prevTransformTemplateValue;e&&(t||Uh(this.latestValues)||s)&&(r(this.instance,i),this.shouldResetTransform=!1,this.scheduleRender())}measure(e=!0){const t=this.measurePageBox();let n=this.removeElementScroll(t);var i;return e&&(n=this.removeTransform(n)),fp((i=n).x),fp(i.y),{animationId:this.root.animationId,measuredBox:t,layoutBox:n,latestValues:{},source:this.id}}measurePageBox(){var e;const{visualElement:t}=this.options;if(!t)return{x:{min:0,max:0},y:{min:0,max:0}};const n=t.measureViewportBox();if(!((null===(e=this.scroll)||void 0===e?void 0:e.wasRoot)||this.path.some(gp))){const{scroll:e}=this.root;e&&(Zh(n.x,e.offset.x),Zh(n.y,e.offset.y))}return n}removeElementScroll(e){var t;const n={x:{min:0,max:0},y:{min:0,max:0}};if(ku(n,e),null===(t=this.scroll)||void 0===t?void 0:t.wasRoot)return n;for(let i=0;i<this.path.length;i++){const t=this.path[i],{scroll:r,options:s}=t;t!==this.root&&r&&s.layoutScroll&&(r.wasRoot&&ku(n,e),Zh(n.x,r.offset.x),Zh(n.y,r.offset.y))}return n}applyTransform(e,t=!1){const n={x:{min:0,max:0},y:{min:0,max:0}};ku(n,e);for(let i=0;i<this.path.length;i++){const e=this.path[i];!t&&e.options.layoutScroll&&e.scroll&&e!==e.root&&tu(n,{x:-e.scroll.offset.x,y:-e.scroll.offset.y}),Uh(e.latestValues)&&tu(n,e.latestValues)}return Uh(this.latestValues)&&tu(n,this.latestValues),n}removeTransform(e){const t={x:{min:0,max:0},y:{min:0,max:0}};ku(t,e);for(let n=0;n<this.path.length;n++){const e=this.path[n];if(!e.instance)continue;if(!Uh(e.latestValues))continue;$h(e.latestValues)&&e.updateSnapshot();const i={x:{min:0,max:0},y:{min:0,max:0}};ku(i,e.measurePageBox()),Tu(t,e.latestValues,e.snapshot?e.snapshot.layoutBox:void 0,i)}return Uh(this.latestValues)&&Tu(t,this.latestValues),t}setTargetDelta(e){this.targetDelta=e,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(e){this.options={...this.options,...e,crossfade:void 0===e.crossfade||e.crossfade}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==xo.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(e=!1){var t;const n=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=n.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=n.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=n.isSharedProjectionDirty);const i=Boolean(this.resumingFrom)||this!==n;if(!(e||i&&this.isSharedProjectionDirty||this.isProjectionDirty||(null===(t=this.parent)||void 0===t?void 0:t.isProjectionDirty)||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:r,layoutId:s}=this.options;if(this.layout&&(r||s)){if(this.resolvedRelativeTargetAt=xo.timestamp,!this.targetDelta&&!this.relativeTarget){const e=this.getClosestProjectingParent();e&&e.layout&&1!==this.animationProgress?(this.relativeParent=e,this.forceRelativeParentToResolveTarget(),this.relativeTarget={x:{min:0,max:0},y:{min:0,max:0}},this.relativeTargetOrigin={x:{min:0,max:0},y:{min:0,max:0}},Ih(this.relativeTargetOrigin,this.layout.layoutBox,e.layout.layoutBox),ku(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(this.relativeTarget||this.targetDelta){var o,a,l;if(this.target||(this.target={x:{min:0,max:0},y:{min:0,max:0}},this.targetWithTransforms={x:{min:0,max:0},y:{min:0,max:0}}),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),o=this.target,a=this.relativeTarget,l=this.relativeParent.target,Ah(o.x,a.x,l.x),Ah(o.y,a.y,l.y)):this.targetDelta?(Boolean(this.resumingFrom)?this.target=this.applyTransform(this.layout.layoutBox):ku(this.target,this.layout.layoutBox),Kh(this.target,this.targetDelta)):ku(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const e=this.getClosestProjectingParent();e&&Boolean(e.resumingFrom)===Boolean(this.resumingFrom)&&!e.options.layoutScroll&&e.target&&1!==this.animationProgress?(this.relativeParent=e,this.forceRelativeParentToResolveTarget(),this.relativeTarget={x:{min:0,max:0},y:{min:0,max:0}},this.relativeTargetOrigin={x:{min:0,max:0},y:{min:0,max:0}},Ih(this.relativeTargetOrigin,this.target,e.target),ku(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}Vu&&Nu.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(this.parent&&!$h(this.parent.latestValues)&&!Hh(this.parent.latestValues))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return Boolean((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var e;const t=this.getLead(),n=Boolean(this.resumingFrom)||this!==t;let i=!0;if((this.isProjectionDirty||(null===(e=this.parent)||void 0===e?void 0:e.isProjectionDirty))&&(i=!1),n&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(i=!1),this.resolvedRelativeTargetAt===xo.timestamp&&(i=!1),i)return;const{layout:r,layoutId:s}=this.options;if(this.isTreeAnimating=Boolean(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!r&&!s)return;ku(this.layoutCorrected,this.layout.layoutBox);const o=this.treeScale.x,a=this.treeScale.y;!function(e,t,n,i=!1){const r=n.length;if(!r)return;let s,o;t.x=t.y=1;for(let a=0;a<r;a++){s=n[a],o=s.projectionDelta;const{visualElement:r}=s.options;r&&r.props.style&&"contents"===r.props.style.display||(i&&s.options.layoutScroll&&s.scroll&&s!==s.root&&tu(e,{x:-s.scroll.offset.x,y:-s.scroll.offset.y}),o&&(t.x*=o.x.scale,t.y*=o.y.scale,Kh(e,o)),i&&Uh(s.latestValues)&&tu(e,s.latestValues))}t.x<Qh&&t.x>Jh&&(t.x=1),t.y<Qh&&t.y>Jh&&(t.y=1)}(this.layoutCorrected,this.treeScale,this.path,n),!t.layout||t.target||1===this.treeScale.x&&1===this.treeScale.y||(t.target=t.layout.layoutBox,t.targetWithTransforms={x:{min:0,max:0},y:{min:0,max:0}});const{target:l}=t;l?(this.projectionDelta&&this.prevProjectionDelta?(Eu(this.prevProjectionDelta.x,this.projectionDelta.x),Eu(this.prevProjectionDelta.y,this.projectionDelta.y)):this.createProjectionDeltas(),Mh(this.projectionDelta,this.layoutCorrected,l,this.latestValues),this.treeScale.x===o&&this.treeScale.y===a&&Bu(this.projectionDelta.x,this.prevProjectionDelta.x)&&Bu(this.projectionDelta.y,this.prevProjectionDelta.y)||(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",l)),Vu&&Nu.recalculatedProjection++):this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender())}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(e=!0){var t;if(null===(t=this.options.visualElement)||void 0===t||t.scheduleRender(),e){const e=this.getStack();e&&e.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}},this.projectionDelta={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}},this.projectionDeltaWithTransform={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}}}setAnimationOrigin(e,t=!1){const n=this.snapshot,i=n?n.latestValues:{},r={...this.latestValues},s={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}};this.relativeParent&&this.relativeParent.options.layoutRoot||(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!t;const o={x:{min:0,max:0},y:{min:0,max:0}},a=(n?n.source:void 0)!==(this.layout?this.layout.source:void 0),l=this.getStack(),c=!l||l.members.length<=1,d=Boolean(a&&!c&&!0===this.options.crossfade&&!this.path.some(dp));let h;this.animationProgress=0,this.mixTargetDelta=t=>{const n=t/1e3;var l,u,p,f,m,g;lp(s.x,e.x,n),lp(s.y,e.y,n),this.setTargetDelta(s),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Ih(o,this.layout.layoutBox,this.relativeParent.layout.layoutBox),p=this.relativeTarget,f=this.relativeTargetOrigin,m=o,g=n,cp(p.x,f.x,m.x,g),cp(p.y,f.y,m.y,g),h&&(l=this.relativeTarget,u=h,Ru(l.x,u.x)&&Ru(l.y,u.y))&&(this.isProjectionDirty=!1),h||(h={x:{min:0,max:0},y:{min:0,max:0}}),ku(h,this.relativeTarget)),a&&(this.animationValues=r,function(e,t,n,i,r,s){r?(e.opacity=Xc(0,void 0!==n.opacity?n.opacity:1,wu(i)),e.opacityExit=Xc(void 0!==t.opacity?t.opacity:1,0,Su(i))):s&&(e.opacity=Xc(void 0!==t.opacity?t.opacity:1,void 0!==n.opacity?n.opacity:1,i));for(let o=0;o<yu;o++){const r=`border${xu[o]}Radius`;let s=ju(t,r),a=ju(n,r);void 0===s&&void 0===a||(s||(s=0),a||(a=0),0===s||0===a||bu(s)===bu(a)?(e[r]=Math.max(Xc(vu(s),vu(a),i),0),(ga.test(a)||ga.test(s))&&(e[r]+="%")):e[r]=a)}(t.rotate||n.rotate)&&(e.rotate=Xc(t.rotate||0,n.rotate||0,i))}(r,i,this.latestValues,n,d,c)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=n},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(e){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(go(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=mo.update((()=>{lu.hasAnimatedSinceResize=!0,this.currentAnimation=function(e,t,n){const i=Qo(e)?e:Ll(e);return i.start(eh("",i,t,n)),i.animation}(0,1e3,{...e,onUpdate:t=>{this.mixTargetDelta(t),e.onUpdate&&e.onUpdate(t)},onComplete:()=>{e.onComplete&&e.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0}))}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const e=this.getStack();e&&e.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(1e3),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const e=this.getLead();let{targetWithTransforms:t,target:n,layout:i,latestValues:r}=e;if(t&&n&&i){if(this!==e&&this.layout&&i&&mp(this.options.animationType,this.layout.layoutBox,i.layoutBox)){n=this.target||{x:{min:0,max:0},y:{min:0,max:0}};const t=Ph(this.layout.layoutBox.x);n.x.min=e.target.x.min,n.x.max=n.x.min+t;const i=Ph(this.layout.layoutBox.y);n.y.min=e.target.y.min,n.y.max=n.y.min+i}ku(t,n),tu(t,r),Mh(this.projectionDeltaWithTransform,this.layoutCorrected,t,r)}}registerSharedNode(e,t){this.sharedNodes.has(e)||this.sharedNodes.set(e,new Wu);this.sharedNodes.get(e).add(t);const n=t.options.initialPromotionConfig;t.promote({transition:n?n.transition:void 0,preserveFollowOpacity:n&&n.shouldPreserveFollowOpacity?n.shouldPreserveFollowOpacity(t):void 0})}isLead(){const e=this.getStack();return!e||e.lead===this}getLead(){var e;const{layoutId:t}=this.options;return t&&(null===(e=this.getStack())||void 0===e?void 0:e.lead)||this}getPrevLead(){var e;const{layoutId:t}=this.options;return t?null===(e=this.getStack())||void 0===e?void 0:e.prevLead:void 0}getStack(){const{layoutId:e}=this.options;if(e)return this.root.sharedNodes.get(e)}promote({needsReset:e,transition:t,preserveFollowOpacity:n}={}){const i=this.getStack();i&&i.promote(this,n),e&&(this.projectionDelta=void 0,this.needsReset=!0),t&&this.setOptions({transition:t})}relegate(){const e=this.getStack();return!!e&&e.relegate(this)}resetSkewAndRotation(){const{visualElement:e}=this.options;if(!e)return;let t=!1;const{latestValues:n}=e;if((n.z||n.rotate||n.rotateX||n.rotateY||n.rotateZ||n.skewX||n.skewY)&&(t=!0),!t)return;const i={};n.z&&qu("z",e,i,this.animationValues);for(let r=0;r<$u.length;r++)qu(`rotate${$u[r]}`,e,i,this.animationValues),qu(`skew${$u[r]}`,e,i,this.animationValues);e.render();for(const r in i)e.setStaticValue(r,i[r]),this.animationValues&&(this.animationValues[r]=i[r]);e.scheduleRender()}getProjectionStyles(e){var t,n;if(!this.instance||this.isSVG)return;if(!this.isVisible)return Uu;const i={visibility:""},r=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,i.opacity="",i.pointerEvents=Zo(null==e?void 0:e.pointerEvents)||"",i.transform=r?r(this.latestValues,""):"none",i;const s=this.getLead();if(!this.projectionDelta||!this.layout||!s.target){const t={};return this.options.layoutId&&(t.opacity=void 0!==this.latestValues.opacity?this.latestValues.opacity:1,t.pointerEvents=Zo(null==e?void 0:e.pointerEvents)||""),this.hasProjected&&!Uh(this.latestValues)&&(t.transform=r?r({},""):"none",this.hasProjected=!1),t}const o=s.animationValues||s.latestValues;this.applyTransformsToTarget(),i.transform=function(e,t,n){let i="";const r=e.x.translate/t.x,s=e.y.translate/t.y,o=(null==n?void 0:n.z)||0;if((r||s||o)&&(i=`translate3d(${r}px, ${s}px, ${o}px) `),1===t.x&&1===t.y||(i+=`scale(${1/t.x}, ${1/t.y}) `),n){const{transformPerspective:e,rotate:t,rotateX:r,rotateY:s,skewX:o,skewY:a}=n;e&&(i=`perspective(${e}px) ${i}`),t&&(i+=`rotate(${t}deg) `),r&&(i+=`rotateX(${r}deg) `),s&&(i+=`rotateY(${s}deg) `),o&&(i+=`skewX(${o}deg) `),a&&(i+=`skewY(${a}deg) `)}const a=e.x.scale*t.x,l=e.y.scale*t.y;return 1===a&&1===l||(i+=`scale(${a}, ${l})`),i||"none"}(this.projectionDeltaWithTransform,this.treeScale,o),r&&(i.transform=r(o,i.transform));const{x:a,y:l}=this.projectionDelta;i.transformOrigin=`${100*a.origin}% ${100*l.origin}% 0`,s.animationValues?i.opacity=s===this?null!==(n=null!==(t=o.opacity)&&void 0!==t?t:this.latestValues.opacity)&&void 0!==n?n:1:this.preserveOpacity?this.latestValues.opacity:o.opacityExit:i.opacity=s===this?void 0!==o.opacity?o.opacity:"":void 0!==o.opacityExit?o.opacityExit:0;for(const c in za){if(void 0===o[c])continue;const{correct:e,applyTo:t}=za[c],n="none"===i.transform?o[c]:e(o[c],s);if(t){const e=t.length;for(let r=0;r<e;r++)i[t[r]]=n}else i[c]=n}return this.options.layoutId&&(i.pointerEvents=s===this?Zo(null==e?void 0:e.pointerEvents)||"":"none"),i}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach((e=>{var t;return null===(t=e.currentAnimation)||void 0===t?void 0:t.stop()})),this.root.nodes.forEach(ep),this.root.sharedNodes.clear()}}}function Xu(e){e.updateLayout()}function Ku(e){var t;const n=(null===(t=e.resumeFrom)||void 0===t?void 0:t.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&n&&e.hasListeners("didUpdate")){const{layoutBox:t,measuredBox:i}=e.layout,{animationType:r}=e.options,s=n.source!==e.layout.source;"size"===r?Wh((e=>{const i=s?n.measuredBox[e]:n.layoutBox[e],r=Ph(i);i.min=t[e].min,i.max=i.min+r})):mp(r,n.layoutBox,t)&&Wh((i=>{const r=s?n.measuredBox[i]:n.layoutBox[i],o=Ph(t[i]);r.max=r.min+o,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[i].max=e.relativeTarget[i].min+o)}));const o={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}};Mh(o,t,n.layoutBox);const a={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}};s?Mh(a,e.applyTransform(i,!0),n.measuredBox):Mh(a,t,n.layoutBox);const l=!Du(o);let c=!1;if(!e.resumeFrom){const i=e.getClosestProjectingParent();if(i&&!i.resumeFrom){const{snapshot:r,layout:s}=i;if(r&&s){const o={x:{min:0,max:0},y:{min:0,max:0}};Ih(o,n.layoutBox,r.layoutBox);const a={x:{min:0,max:0},y:{min:0,max:0}};Ih(a,t,s.layoutBox),Lu(o,a)||(c=!0),i.options.layoutRoot&&(e.relativeTarget=a,e.relativeTargetOrigin=o,e.relativeParent=i)}}}e.notifyListeners("didUpdate",{layout:t,snapshot:n,delta:a,layoutDelta:o,hasLayoutChanged:l,hasRelativeTargetChanged:c})}else if(e.isLead()){const{onExitComplete:t}=e.options;t&&t()}e.options.transition=void 0}function Ju(e){Vu&&Nu.totalNodes++,e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=Boolean(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function Qu(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function Zu(e){e.clearSnapshot()}function ep(e){e.clearMeasurements()}function tp(e){e.isLayoutDirty=!1}function np(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function ip(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function rp(e){e.resolveTargetDelta()}function sp(e){e.calcProjection()}function op(e){e.resetSkewAndRotation()}function ap(e){e.removeLeadSnapshot()}function lp(e,t,n){e.translate=Xc(t.translate,0,n),e.scale=Xc(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function cp(e,t,n,i){e.min=Xc(t.min,n.min,i),e.max=Xc(t.max,n.max,i)}function dp(e){return e.animationValues&&void 0!==e.animationValues.opacityExit}const hp={duration:.45,ease:[.4,0,.1,1]},up=e=>"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),pp=up("applewebkit/")&&!up("chrome/")?Math.round:so;function fp(e){e.min=pp(e.min),e.max=pp(e.max)}function mp(e,t,n){return"position"===e||"preserve-aspect"===e&&(i=zu(t),r=zu(n),s=.2,!(Math.abs(i-r)<=s));var i,r,s}function gp(e){var t;return e!==e.root&&(null===(t=e.scroll)||void 0===t?void 0:t.wasRoot)}const xp=Gu({attachResizeListener:(e,t)=>xh(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),yp={current:void 0},vp=Gu({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!yp.current){const e=new xp({});e.mount(window),e.setOptions({layoutScroll:!0}),yp.current=e}return yp.current},resetTransform:(e,t)=>{e.style.transform=void 0!==t?t:"none"},checkIsScrollRoot:e=>Boolean("fixed"===window.getComputedStyle(e).position)}),bp={pan:{Feature:class extends fh{constructor(){super(...arguments),this.removePointerDownListener=so}onPointerDown(e){this.session=new jh(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:iu(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:t,onPan:n,onPanEnd:i}=this.node.getProps();return{onSessionStart:au(e),onStart:au(t),onMove:n,onEnd:(e,t)=>{delete this.session,i&&mo.postRender((()=>i(e,t)))}}}mount(){this.removePointerDownListener=vh(this.node.current,"pointerdown",(e=>this.onPointerDown(e)))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}},drag:{Feature:class extends fh{constructor(e){super(e),this.removeGroupControls=so,this.removeListeners=so,this.controls=new su(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||so}unmount(){this.removeGroupControls(),this.removeListeners()}},ProjectionNode:vp,MeasureLayout:pu}};function jp(e,t,n){const{props:i}=e;e.animationState&&i.whileHover&&e.animationState.setActive("whileHover","Start"===n);const r=i["onHover"+n];r&&mo.postRender((()=>r(t,yh(t))))}function wp(e,t,n){const{props:i}=e;e.animationState&&i.whileTap&&e.animationState.setActive("whileTap","Start"===n);const r=i["onTap"+("End"===n?"":n)];r&&mo.postRender((()=>r(t,yh(t))))}const Sp=new WeakMap,Cp=new WeakMap,_p=e=>{const t=Sp.get(e.target);t&&t(e)},kp=e=>{e.forEach(_p)};function Ep(e,t,n){const i=function({root:e,...t}){const n=e||document;Cp.has(n)||Cp.set(n,{});const i=Cp.get(n),r=JSON.stringify(t);return i[r]||(i[r]=new IntersectionObserver(kp,{root:e,...t})),i[r]}(t);return Sp.set(e,n),i.observe(e),()=>{Sp.delete(e),i.unobserve(e)}}const Pp={some:0,all:1};const Op={inView:{Feature:class extends fh{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:t,margin:n,amount:i="some",once:r}=e,s={root:t?t.current:void 0,rootMargin:n,threshold:"number"==typeof i?i:Pp[i]};return Ep(this.node.current,s,(e=>{const{isIntersecting:t}=e;if(this.isInView===t)return;if(this.isInView=t,r&&!t&&this.hasEnteredView)return;t&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",t);const{onViewportEnter:n,onViewportLeave:i}=this.node.getProps(),s=t?n:i;s&&s(e)}))}mount(){this.startObserver()}update(){if("undefined"==typeof IntersectionObserver)return;const{props:e,prevProps:t}=this.node,n=["amount","margin","root"].some(function({viewport:e={}},{viewport:t={}}={}){return n=>e[n]!==t[n]}(e,t));n&&this.startObserver()}unmount(){}}},tap:{Feature:class extends fh{mount(){const{current:e}=this.node;e&&(this.unmount=El(e,(e=>(wp(this.node,e,"Start"),(e,{success:t})=>wp(this.node,e,t?"End":"Cancel"))),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}},focus:{Feature:class extends fh{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch(t){e=!0}e&&this.node.animationState&&(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){this.isActive&&this.node.animationState&&(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=id(xh(this.node.current,"focus",(()=>this.onFocus())),xh(this.node.current,"blur",(()=>this.onBlur())))}unmount(){}}},hover:{Feature:class extends fh{mount(){const{current:e}=this.node;e&&(this.unmount=function(e,t,n={}){const[i,r,s]=yl(e,n),o=vl((e=>{const{target:n}=e,i=t(e);if("function"!=typeof i||!n)return;const s=vl((e=>{i(e),n.removeEventListener("pointerleave",s)}));n.addEventListener("pointerleave",s,r)}));return i.forEach((e=>{e.addEventListener("pointerenter",o,r)})),s}(e,(e=>(jp(this.node,e,"Start"),e=>jp(this.node,e,"End")))))}unmount(){}}}},Mp={layout:{ProjectionNode:vp,MeasureLayout:pu}},Ap={current:null},Tp={current:!1};const Ip=[...Vc,lc,xc],Dp=new WeakMap;const Rp=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class Fp{scrapeMotionValuesFromProps(e,t,n){return{}}constructor({parent:e,props:t,presenceContext:n,reducedMotionConfig:i,blockInitialAnimation:r,visualState:s},o={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Lc,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const e=Al.now();this.renderScheduledAt<e&&(this.renderScheduledAt=e,mo.render(this.render,!1,!0))};const{latestValues:a,renderState:l,onUpdate:c}=s;this.onUpdate=c,this.latestValues=a,this.baseTarget={...a},this.initialValues=t.initial?{...a}:{},this.renderState=l,this.parent=e,this.props=t,this.presenceContext=n,this.depth=e?e.depth+1:0,this.reducedMotionConfig=i,this.options=o,this.blockInitialAnimation=Boolean(r),this.isControllingVariants=To(t),this.isVariantNode=Io(t),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=Boolean(e&&e.current);const{willChange:d,...h}=this.scrapeMotionValuesFromProps(t,{},this);for(const u in h){const e=h[u];void 0!==a[u]&&Qo(e)&&e.set(a[u],!1)}}mount(e){this.current=e,Dp.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach(((e,t)=>this.bindToMotionValue(t,e))),Tp.current||function(){if(Tp.current=!0,no)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>Ap.current=e.matches;e.addListener(t),t()}else Ap.current=!1}(),this.shouldReduceMotion="never"!==this.reducedMotionConfig&&("always"===this.reducedMotionConfig||Ap.current),this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){Dp.delete(this.current),this.projection&&this.projection.unmount(),go(this.notifyUpdate),go(this.render),this.valueSubscriptions.forEach((e=>e())),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const t=this.features[e];t&&(t.unmount(),t.isMounted=!1)}this.current=null}bindToMotionValue(e,t){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const n=ia.has(e),i=t.on("change",(t=>{this.latestValues[e]=t,this.props.onUpdate&&mo.preRender(this.notifyUpdate),n&&this.projection&&(this.projection.isTransformDirty=!0)})),r=t.on("renderRequest",this.scheduleRender);let s;window.MotionCheckAppearSync&&(s=window.MotionCheckAppearSync(this,e,t)),this.valueSubscriptions.set(e,(()=>{i(),r(),s&&s(),t.owner&&t.stop()}))}sortNodePosition(e){return this.current&&this.sortInstanceNodePosition&&this.type===e.type?this.sortInstanceNodePosition(this.current,e.current):0}updateFeatures(){let e="animation";for(e in jo){const t=jo[e];if(!t)continue;const{isEnabled:n,Feature:i}=t;if(!this.features[e]&&i&&n(this.props)&&(this.features[e]=new i(this)),this.features[e]){const t=this.features[e];t.isMounted?t.update():(t.mount(),t.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):{x:{min:0,max:0},y:{min:0,max:0}}}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,t){this.latestValues[e]=t}update(e,t){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=t;for(let n=0;n<Rp.length;n++){const t=Rp[n];this.propEventSubscriptions[t]&&(this.propEventSubscriptions[t](),delete this.propEventSubscriptions[t]);const i=e["on"+t];i&&(this.propEventSubscriptions[t]=this.on(t,i))}this.prevMotionValues=function(e,t,n){for(const i in t){const r=t[i],s=n[i];if(Qo(r))e.addValue(i,r);else if(Qo(s))e.addValue(i,Ll(r,{owner:e}));else if(s!==r)if(e.hasValue(i)){const t=e.getValue(i);!0===t.liveStyle?t.jump(r):t.hasAnimated||t.set(r)}else{const t=e.getStaticValue(i);e.addValue(i,Ll(void 0!==t?t:r,{owner:e}))}}for(const i in n)void 0===t[i]&&e.removeValue(i);return t}(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const t=this.getClosestVariantNode();if(t)return t.variantChildren&&t.variantChildren.add(e),()=>t.variantChildren.delete(e)}addValue(e,t){const n=this.values.get(e);t!==n&&(n&&this.removeValue(e),this.bindToMotionValue(e,t),this.values.set(e,t),this.latestValues[e]=t.get())}removeValue(e){this.values.delete(e);const t=this.valueSubscriptions.get(e);t&&(t(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,t){if(this.props.values&&this.props.values[e])return this.props.values[e];let n=this.values.get(e);return void 0===n&&void 0!==t&&(n=Ll(null===t?void 0:t,{owner:this}),this.addValue(e,n)),n}readValue(e,t){var n;let i=void 0===this.latestValues[e]&&this.current?null!==(n=this.getBaseTargetFromProps(this.props,e))&&void 0!==n?n:this.readValueFromInstance(this.current,e,this.options):this.latestValues[e];var r;return null!=i&&("string"==typeof i&&(zc(i)||Ql(i))?i=parseFloat(i):(r=i,!Ip.find(Nc(r))&&xc.test(t)&&(i=Cc(e,t))),this.setBaseTarget(e,Qo(i)?i.get():i)),Qo(i)?i.get():i}setBaseTarget(e,t){this.baseTarget[e]=t}getBaseTarget(e){var t;const{initial:n}=this.props;let i;if("string"==typeof n||"object"==typeof n){const r=Ko(this.props,n,null===(t=this.presenceContext)||void 0===t?void 0:t.custom);r&&(i=r[e])}if(n&&void 0!==i)return i;const r=this.getBaseTargetFromProps(this.props,e);return void 0===r||Qo(r)?void 0!==this.initialValues[e]&&void 0===i?void 0:this.baseTarget[e]:r}on(e,t){return this.events[e]||(this.events[e]=new Dl),this.events[e].add(t)}notify(e,...t){this.events[e]&&this.events[e].notify(...t)}}class Lp extends Fp{constructor(){super(...arguments),this.KeyframeResolver=Uc}sortInstanceNodePosition(e,t){return 2&e.compareDocumentPosition(t)?1:-1}getBaseTargetFromProps(e,t){return e.style?e.style[t]:void 0}removeValueFromRenderState(e,{vars:t,style:n}){delete t[e],delete n[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Qo(e)&&(this.childSubscription=e.on("change",(e=>{this.current&&(this.current.textContent=`${e}`)})))}}class zp extends Lp{constructor(){super(...arguments),this.type="html",this.renderInstance=Ra}readValueFromInstance(e,t){if(ia.has(t)){const e=Sc(t);return e&&e.default||0}{const i=(n=e,window.getComputedStyle(n)),r=(sa(t)?i.getPropertyValue(t):i[t])||0;return"string"==typeof r?r.trim():r}var n}measureInstanceViewportBox(e,{transformPagePoint:t}){return nu(e,t)}build(e,t,n){Ea(e,t,n.transformTemplate)}scrapeMotionValuesFromProps(e,t,n){return Wa(e,t,n)}}class Bp extends Lp{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Bh}getBaseTargetFromProps(e,t){return e[t]}readValueFromInstance(e,t){if(ia.has(t)){const e=Sc(t);return e&&e.default||0}return t=Fa.has(t)?t:Bo(t),e.getAttribute(t)}scrapeMotionValuesFromProps(e,t,n){return Na(e,t,n)}build(e,t,n){Aa(e,t,this.isSVGTag,n.transformTemplate)}renderInstance(e,t,n,i){La(e,t,0,i)}mount(e){this.isSVGTag=Da(e.tagName),super.mount(e)}}const Wp=ko(Ka({...gh,...Op,...bp,...Mp},((e,t)=>Go(e)?new Bp(t):new zp(t,{allowProjection:e!==Ot.Fragment})))),Np={SAREES:{"By Occasion":["Summer Sarees","Wedding Sarees","Engagement Sarees","Reception Sarees","Haldi Sarees","Festive Sarees","Party Wear Sarees"],"By Type":["Floral Sarees","Pastel Sarees","Sequins Sarees","Stonework Sarees","Printed Sarees","Heavy Sarees"],"By Material":["Silk Sarees","Organza Sarees","Satin sarees","Banarasi Sarees","Net Sarees","Crepe Sarees"],Explore:["New Arrivals","Best Sellers","Featured Products","Special Offers"]},"All Products":{}},Vp=()=>{const e=At(),t=l(),n=c(t.breakpoints.down("md")),[i,r]=Ot.useState(null),[s,a]=Ot.useState(""),[P,O]=Ot.useState(!1),{totalItems:M}=Ws(),{isAuthenticated:A,user:T,logout:I}=Us(),[D,R]=Ot.useState(null),[F,L]=Ot.useState(null),[z,B]=Ot.useState(""),[W,N]=Ot.useState([]),[V,$]=Ot.useState(!1),[U,H]=Ot.useState(!1);Ot.useRef(null),Ot.useEffect((()=>{const e=()=>{localStorage.getItem("customerToken")};return e(),window.addEventListener("storage",e),()=>window.removeEventListener("storage",e)}),[]);const q=()=>{r(null),a(""),L(null)},Y=t=>{if("All Products"===t)return e("/products"),void q();if("New Arrivals"===t)e("/products?filter=new");else if("Best Sellers"===t)e("/products?filter=bestsellers");else if("Featured Products"===t)e("/products?filter=featured");else if("Special Offers"===t)e("/products?filter=offers");else if(t.includes("Sarees")){const n={"Silk Sarees":"1","Cotton Sarees":"2","Banarasi Sarees":"3","Chiffon Sarees":"4","Georgette Sarees":"5","Kanjivaram Sarees":"6","Organza Sarees":"7","Tussar Sarees":"8","Crepe Sarees":"9","Net Sarees":"10"},i=n[t];if(i)e(`/category/${i}`);else{const i=Object.keys(n).find((e=>t.toLowerCase().includes(e.toLowerCase())));e(i?`/category/${n[i]}`:"/products")}}q()},G=()=>{O(!P)},X=()=>{I(),q(),e("/")},K=()=>{q(),e("/customer/orders")},J=()=>o.jsxs(b,{anchor:"right",open:P,onClose:G,PaperProps:{sx:{width:"80%",maxWidth:300,backgroundColor:"#fff"}},children:[o.jsx(p,{sx:{p:2,display:"flex",justifyContent:"flex-end"},children:o.jsx(f,{onClick:G,sx:{color:"#333"},children:o.jsx(en,{})})}),o.jsx(C,{}),o.jsxs(_,{children:[Object.entries(Np).map((([t,n])=>o.jsxs(Mt.Fragment,{children:[o.jsxs(k,{component:"button",onClick:()=>{"All Products"===t?(e("/products"),O(!1)):a(s===t?"":t)},sx:{backgroundColor:s===t?"rgba(227, 28, 121, 0.08)":"transparent","&:hover":{backgroundColor:"rgba(227, 28, 121, 0.12)"}},children:[o.jsx(E,{primary:t,primaryTypographyProps:{sx:{fontWeight:600,color:s===t?"#E31C79":"#333",fontFamily:"Montserrat, sans-serif"}}}),"All Products"!==t&&o.jsx(gn,{sx:{transform:s===t?"rotate(90deg)":"none",transition:"transform 0.2s ease",color:s===t?"#E31C79":"#666"}})]}),"All Products"!==t&&s===t&&o.jsx(_,{sx:{pl:4,bgcolor:"transparent"},children:Object.entries(n).map((([e,t])=>o.jsxs(Mt.Fragment,{children:[o.jsx(k,{children:o.jsx(E,{primary:e,primaryTypographyProps:{sx:{fontWeight:500,color:"#E31C79",fontSize:"0.9rem",fontFamily:"Montserrat, sans-serif"}}})}),t.map((e=>o.jsx(k,{component:"button",onClick:()=>{Y(e),setTimeout((()=>{O(!1)}),300)},sx:{"&:hover":{backgroundColor:"rgba(227, 28, 121, 0.08)"}},children:o.jsx(E,{primary:e,primaryTypographyProps:{sx:{color:"#666",fontSize:"0.9rem",fontFamily:"Montserrat, sans-serif","&:hover":{color:"#E31C79"}}}})},e)))]},e)))})]},t))),A&&o.jsxs(o.Fragment,{children:[o.jsx(C,{}),o.jsx(k,{component:"button",onClick:K,sx:{"&:hover":{backgroundColor:"rgba(227, 28, 121, 0.08)"}},children:o.jsx(E,{primary:"Customer Panel",primaryTypographyProps:{sx:{fontWeight:500,color:"#333",fontSize:"0.9rem",fontFamily:"Montserrat, sans-serif"}}})}),o.jsx(k,{component:"button",onClick:X,sx:{"&:hover":{backgroundColor:"rgba(227, 28, 121, 0.08)"}},children:o.jsx(E,{primary:"Logout",primaryTypographyProps:{sx:{fontWeight:500,color:"#333",fontSize:"0.9rem",fontFamily:"Montserrat, sans-serif"}}})})]})]})]});return o.jsx(Wp.div,{initial:{y:-100},animate:{y:0},transition:{duration:.5,ease:"easeOut"},children:o.jsxs(d,{position:"fixed",sx:{backgroundColor:"white",boxShadow:"0 2px 4px rgba(0,0,0,0.1)",borderBottom:"1px solid #eee",height:"80px"},children:[o.jsx(h,{maxWidth:!1,children:o.jsxs(u,{sx:{justifyContent:"space-between",height:"100%",minHeight:"80px !important",py:0},children:[o.jsx(Wp.div,{whileHover:{scale:1.05},transition:{type:"spring",stiffness:400,damping:10},children:o.jsx(p,{component:"img",src:`${Rs}/images/logo.png`,alt:"Sree Sathyabhama Silks",sx:{height:50,width:"auto",cursor:"pointer"},onClick:()=>e("/")})}),n?o.jsxs(p,{sx:{display:"flex",alignItems:"center",gap:2},children:[o.jsx(Wp.div,{whileHover:{scale:1.1},whileTap:{scale:.95},children:o.jsx(f,{edge:"start",color:"inherit","aria-label":"cart",onClick:()=>e("/cart"),sx:{color:"#E31C79",transition:"all 0.3s ease"},children:o.jsx(m,{badgeContent:M,color:"error",sx:{"& .MuiBadge-badge":{transition:"all 0.3s ease"}},children:o.jsx(Xt,{sx:{width:24,height:24}})})})}),o.jsx(Wp.div,{whileHover:{scale:1.1},whileTap:{scale:.95},children:o.jsx(f,{edge:"end",color:"inherit","aria-label":"menu",onClick:G,sx:{color:"#333",ml:1,transition:"all 0.3s ease"},children:o.jsx(en,{sx:{width:24,height:24}})})})]}):o.jsx(p,{sx:{display:"flex",gap:2,position:"relative",flex:1,justifyContent:"center",alignItems:"center"},children:Object.keys(Np).map((t=>o.jsx(Wp.div,{whileHover:{y:-2},transition:{type:"spring",stiffness:400,damping:10},children:o.jsx(g,{color:"inherit",onMouseEnter:e=>{var n,i;"All Products"!==t&&(n=e,"profile"!==(i=t)&&(r(n.currentTarget),a(i)))},onClick:()=>{"All Products"===t&&e("/products")},sx:{color:"#333",fontFamily:"Montserrat, sans-serif",fontSize:"14px",fontWeight:500,px:2,transition:"all 0.3s ease","&:hover":{color:"#E31C79",bgcolor:"transparent"}},endIcon:"All Products"!==t?o.jsx(p,{sx:{display:"inline-flex",alignItems:"center",justifyContent:"center"},children:o.jsx(Wp.div,{animate:{rotate:Boolean(i)&&s===t?180:0},transition:{duration:.3},style:{display:"flex",alignItems:"center",justifyContent:"center",transformOrigin:"center",width:24,height:24},children:o.jsx(hn,{sx:{display:"block",width:"100%",height:"100%"}})})}):null,children:t})},t)))}),!n&&o.jsxs(p,{sx:{display:"flex",gap:1,ml:2},children:[o.jsx(Wp.div,{whileHover:{scale:1.1},whileTap:{scale:.95},children:o.jsx(f,{edge:"start",color:"inherit","aria-label":"cart",onClick:()=>e("/cart"),sx:{color:"#E31C79",transition:"all 0.3s ease"},children:o.jsx(m,{badgeContent:M,color:"error",sx:{"& .MuiBadge-badge":{transition:"all 0.3s ease"}},children:o.jsx(Xt,{sx:{width:24,height:24}})})})}),o.jsx(Wp.div,{whileHover:{scale:1.1},whileTap:{scale:.95},children:o.jsx(f,{onClick:e=>{R(e.currentTarget),a("profile")},size:"small",sx:{backgroundColor:A?"#E31C79":"transparent",color:A?"white":"#333",width:40,height:40,borderRadius:"50%",transition:"all 0.3s ease","&:hover":{backgroundColor:A?"#FF4D4D":"rgba(0,0,0,0.04)"}},children:A&&T?(e=>e.split(" ")[0][0].toUpperCase())(T.name):o.jsx(on,{sx:{fontSize:20}})})}),o.jsx(j,{anchorEl:D,open:Boolean(D),onClose:()=>R(null),PaperProps:{elevation:0,sx:{overflow:"visible",filter:"drop-shadow(0px 2px 8px rgba(0,0,0,0.32))"}},transformOrigin:{horizontal:"right",vertical:"bottom"},anchorOrigin:{horizontal:"right",vertical:"top"},children:A?[o.jsxs(w,{onClick:K,children:[o.jsx(S,{children:o.jsx(on,{fontSize:"small"})}),"Customer Panel"]},"customer-panel"),o.jsxs(w,{onClick:X,children:[o.jsx(S,{children:o.jsx(jn,{fontSize:"small"})}),"Logout"]},"logout")]:[o.jsxs(w,{onClick:()=>e("/login"),children:[o.jsx(S,{children:o.jsx(kn,{fontSize:"small"})}),"Login"]},"login"),o.jsxs(w,{onClick:()=>e("/register"),children:[o.jsx(S,{children:o.jsx(An,{fontSize:"small"})}),"Register"]},"register")]})]})]})}),!n&&s&&"profile"!==s&&o.jsx(Wp.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.3},children:o.jsx(x,{in:Boolean(i),timeout:300,children:o.jsx(p,{sx:{position:"absolute",width:"100%",bgcolor:"white",boxShadow:"0 4px 6px rgba(0,0,0,0.1)",zIndex:1e3,py:3,mt:0,borderTop:"1px solid #eee"},onMouseEnter:()=>r(i),onMouseLeave:q,children:o.jsx(h,{maxWidth:!1,children:o.jsx(y,{container:!0,spacing:4,children:Object.entries(Np[s]||{}).map((([e,t])=>o.jsxs(y,{item:!0,xs:3,children:[o.jsx(v,{variant:"subtitle1",sx:{fontWeight:600,mb:2,color:"#333",fontFamily:"Montserrat, sans-serif"},children:e}),t.map((e=>o.jsx(Wp.div,{whileHover:{x:5},transition:{type:"spring",stiffness:400,damping:10},children:o.jsx(v,{sx:{py:.5,fontSize:"14px",color:"#666",cursor:"pointer",fontFamily:"Montserrat, sans-serif",transition:"all 0.3s ease","&:hover":{color:"#E31C79"}},onClick:()=>Y(e),children:e})},e)))]},e)))})})})})}),n&&o.jsx(b,{anchor:"right",open:P,onClose:G,PaperProps:{sx:{width:"80%",maxWidth:360,transition:"transform 0.3s ease-in-out"}},children:o.jsx(J,{})})]})})};var $p={},Up=s;Object.defineProperty($p,"__esModule",{value:!0});var Hp=$p.default=void 0,qp=Up(Yt()),Yp=o;Hp=$p.default=(0,qp.default)((0,Yp.jsx)("path",{d:"m12 4-1.41 1.41L16.17 11H4v2h12.17l-5.58 5.59L12 20l8-8z"}),"ArrowForward");var Gp={},Xp=s;Object.defineProperty(Gp,"__esModule",{value:!0});var Kp=Gp.default=void 0,Jp=Xp(Yt()),Qp=o;Kp=Gp.default=(0,Jp.default)((0,Qp.jsx)("path",{d:"M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20z"}),"ArrowBack");const Zp=[{image:"Banners-01.png",title:"Wedding Collection",subtitle:"Discover Exquisite Bridal Wear"},{image:"Banners-02.png",title:"Festive Collection",subtitle:"Celebrate in Style"},{image:"Banners-03.png",title:"Designer Collection",subtitle:"Exclusive Designer Pieces"}],ef=({isVisible:e})=>{const[t,n]=Ot.useState(0);Ot.useEffect((()=>{const e=setInterval((()=>{n((e=>(e+1)%Zp.length))}),5e3);return()=>clearInterval(e)}),[]);return o.jsx(P,{in:!0,timeout:1500,children:o.jsxs(p,{sx:{position:"relative",width:"100%",height:{xs:"300px",md:"600px"},overflow:"hidden",opacity:e?1:0,transform:e?"translateY(0)":"translateY(20px)",transition:"all 1s cubic-bezier(0.4, 0, 0.2, 1)","& img":{transition:"transform 0.8s cubic-bezier(0.4, 0, 0.2, 1)","&:hover":{transform:"scale(1.05)"}}},children:[o.jsx(p,{sx:{position:"absolute",width:"100%",height:"100%",transition:"transform 0.5s ease",transform:`translateX(-${100*t}%)`},children:Zp.map(((e,t)=>o.jsxs(p,{sx:{position:"absolute",left:100*t+"%",width:"100%",height:"100%"},children:[o.jsx(p,{component:"img",src:`${Rs}/images/${e.image}`,alt:e.title,sx:{width:"100%",height:"100%",objectFit:"cover"}}),o.jsxs(p,{sx:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",textAlign:"center",color:"white",textShadow:"2px 2px 4px rgba(0,0,0,0.5)"},children:[o.jsx(v,{variant:"h3",sx:{fontFamily:"Playfair Display, serif",mb:2},children:e.title}),o.jsx(v,{variant:"h6",sx:{fontFamily:"Montserrat, sans-serif"},children:e.subtitle})]})]},t)))}),o.jsx(f,{onClick:()=>{n((e=>(e-1+Zp.length)%Zp.length))},sx:{position:"absolute",left:20,top:"50%",transform:"translateY(-50%)",bgcolor:"rgba(255,255,255,0.8)","&:hover":{bgcolor:"white"}},children:o.jsx(Kp,{})}),o.jsx(f,{onClick:()=>{n((e=>(e+1)%Zp.length))},sx:{position:"absolute",right:20,top:"50%",transform:"translateY(-50%)",bgcolor:"rgba(255,255,255,0.8)","&:hover":{bgcolor:"white"}},children:o.jsx(Hp,{})}),o.jsx(p,{sx:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",textAlign:"center",color:"white",textShadow:"2px 2px 4px rgba(0,0,0,0.5)",zIndex:2}})]})})},tf=(e,t="products",n="placeholder.jpg")=>{if(!e)return`${Rs}/images/${t}/${n}`;if(e.startsWith("http"))return e;const i=/\.(mp4|webm)$/i.test(e)?"videos":"images",r=e.replace(new RegExp(`^/[^/]+/${t}/`),"");return`${Rs}/${i}/${t}/${r}`},nf=({product:e,onAddToCart:t,showAddToCart:n=!0})=>{const i=At(),{addItem:r}=Ws(),[s,a]=Ot.useState(!1);return o.jsx(Wp.div,{whileHover:{y:-10},transition:{type:"spring",stiffness:400,damping:10},children:o.jsxs(O,{sx:{height:"100%",display:"flex",flexDirection:"column",transition:"all 0.4s cubic-bezier(0.4, 0, 0.2, 1)","&:hover":{boxShadow:"0 20px 40px rgba(0,0,0,0.1)"},borderRadius:2,overflow:"hidden",cursor:"pointer",position:"relative"},onClick:()=>{i(`/product/${e.id}`)},onMouseEnter:()=>a(!0),onMouseLeave:()=>a(!1),children:[o.jsxs(p,{sx:{position:"relative",overflow:"hidden"},children:[o.jsx(ro,{children:e.trending&&o.jsx(Wp.div,{initial:{x:100},animate:{x:0},exit:{x:100},transition:{type:"spring",stiffness:400,damping:20},style:{position:"absolute",top:8,right:8,zIndex:1},children:o.jsx(M,{label:"Trending",color:"primary",size:"small",sx:{bgcolor:"rgba(227, 28, 121, 0.9)",color:"white",fontWeight:600,"& .MuiChip-label":{px:1},transition:"all 0.3s ease","&:hover":{transform:"scale(1.05)",bgcolor:"rgba(227, 28, 121, 1)"}}})})}),o.jsx(ro,{children:e.featured&&o.jsx(Wp.div,{initial:{x:100},animate:{x:0},exit:{x:100},transition:{type:"spring",stiffness:400,damping:20,delay:.1},style:{position:"absolute",top:8,right:e.trending?100:8,zIndex:1},children:o.jsx(M,{label:"Featured",color:"error",size:"small",sx:{bgcolor:"rgba(244, 67, 54, 0.9)",color:"white",fontWeight:600,"& .MuiChip-label":{px:1},transition:"all 0.3s ease","&:hover":{transform:"scale(1.05)",bgcolor:"rgba(244, 67, 54, 1)"}}})})}),o.jsx(Wp.div,{animate:{x:s?"-50%":"0%"},transition:{duration:.6,ease:"easeInOut"},style:{display:"flex",width:"200%"},children:(()=>{const t=[...e.images,...e.videos||[]],n=t[0],i=t[1]||t[0],r=!!n&&/\.(mp4|webm)$/i.test(n),s=!!i&&/\.(mp4|webm)$/i.test(i);return o.jsxs(o.Fragment,{children:[n?r?o.jsx(p,{component:"video",src:tf(n),alt:e.name,sx:{width:"50%",height:400,objectFit:"cover",backgroundColor:"#f5f5f5",transition:"transform 0.3s ease","&:hover":{transform:"scale(1.05)"}},muted:!0,loop:!0,playsInline:!0}):o.jsx(A,{component:"img",image:tf(n),alt:e.name,sx:{width:"50%",height:400,objectFit:"cover",backgroundColor:"#f5f5f5",transition:"transform 0.3s ease","&:hover":{transform:"scale(1.05)"}}}):o.jsx(p,{sx:{width:"50%",height:400,display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:"#f5f5f5"},children:o.jsx(v,{color:"text.secondary",children:"No media available"})}),i?s?o.jsx(p,{component:"video",src:tf(i),alt:`${e.name} - alternate view`,sx:{width:"50%",height:400,objectFit:"cover",backgroundColor:"#f5f5f5",transition:"transform 0.3s ease","&:hover":{transform:"scale(1.05)"}},muted:!0,loop:!0,playsInline:!0}):o.jsx(A,{component:"img",image:tf(i),alt:`${e.name} - alternate view`,sx:{width:"50%",height:400,objectFit:"cover",backgroundColor:"#f5f5f5",transition:"transform 0.3s ease","&:hover":{transform:"scale(1.05)"}}}):o.jsx(p,{sx:{width:"50%",height:400,display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:"#f5f5f5"},children:o.jsx(v,{color:"text.secondary",children:"No media available"})})]})})()})]}),o.jsxs(T,{sx:{flexGrow:1,p:2,textAlign:"center"},children:[o.jsx(Wp.div,{whileHover:{scale:1.02},transition:{type:"spring",stiffness:400,damping:10},children:o.jsx(v,{variant:"h6",gutterBottom:!0,sx:{fontFamily:"Playfair Display, serif",fontSize:"1.1rem",fontWeight:600,textAlign:"center",transition:"color 0.3s ease","&:hover":{color:"#E31C79"},mb:.5},children:e.name})}),e.description&&o.jsx(v,{variant:"body2",color:"text.secondary",sx:{mb:1,fontFamily:"Montserrat, sans-serif",fontSize:"0.85rem",lineHeight:1.4,textAlign:"center",display:"-webkit-box",WebkitLineClamp:2,WebkitBoxOrient:"vertical",overflow:"hidden",height:"2.4rem"},children:e.description}),o.jsxs(p,{sx:{display:"flex",alignItems:"center",justifyContent:"center",mb:.5,gap:1},children:[o.jsx(Wp.div,{whileHover:{scale:1.1},children:o.jsx(I,{value:Number(e.rating),precision:.5,readOnly:!0,size:"small",sx:{"& .MuiRating-icon":{color:"#E31C79",width:"20px",height:"20px",margin:"0 2px",transition:"transform 0.3s ease"},"& .MuiRating-decimal":{color:"#E31C79"},"& .MuiRating-iconFilled":{color:"#E31C79"},"& .MuiRating-iconEmpty":{color:"rgba(227, 28, 121, 0.3)"}}})}),o.jsxs(v,{variant:"body2",sx:{color:"#666",fontFamily:"Montserrat, sans-serif",fontSize:"0.85rem"},children:["(",Number(e.rating).toFixed(1),")"]})]}),o.jsx(Wp.div,{whileHover:{scale:1.05},transition:{type:"spring",stiffness:400,damping:10},children:o.jsxs(v,{variant:"h6",sx:{mb:1,fontFamily:"Roboto, sans-serif",fontWeight:700,color:"#E31C79",textAlign:"center"},children:["",e.price.toLocaleString()]})}),o.jsx(Wp.div,{whileHover:{scale:1.02},whileTap:{scale:.98},children:o.jsxs(p,{onClick:n=>{if(n.stopPropagation(),t)t(e);else{const t={id:e.id,name:e.name,price:e.price,images:e.images,image:tf(e.images[0]),categoryId:e.categoryId,sku:e.sku,stock:e.stock,quantity:1,featured:e.featured,trending:e.trending,description:e.description,rating:e.rating,specifications:e.specifications};r(t)}},sx:{bgcolor:"#E31C79",color:"white",width:"100%",py:1,px:2,borderRadius:1,display:"flex",alignItems:"center",justifyContent:"center",gap:1,cursor:"pointer",transition:"all 0.3s ease","&:hover":{bgcolor:"#C71066",transform:"translateY(-2px)"}},children:[o.jsx(D,{fontSize:"small"}),o.jsx(v,{sx:{fontFamily:"Montserrat, sans-serif",fontWeight:600,fontSize:"0.9rem"},children:"Add to Cart"})]})})]})]})})};var rf={},sf=s;Object.defineProperty(rf,"__esModule",{value:!0});var of=rf.default=void 0,af=sf(Yt()),lf=o;of=rf.default=(0,af.default)((0,lf.jsx)("path",{d:"M15.41 7.41 14 6l-6 6 6 6 1.41-1.41L10.83 12z"}),"ChevronLeft");var cf={},df=s;Object.defineProperty(cf,"__esModule",{value:!0});var hf=cf.default=void 0,uf=df(Yt()),pf=o;hf=cf.default=(0,uf.default)((0,pf.jsx)("path",{d:"M10 6 8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"}),"ChevronRight");const ff=({products:e,onAddToCart:t})=>{const n=l(),i=c(n.breakpoints.down("sm")),[r,s]=Ot.useState(0),a=i?1:4,d=Math.ceil(e.length/a),h=r*a,u=e.slice(h,h+a);return o.jsxs(p,{sx:{py:4,position:"relative",overflow:"hidden"},children:[o.jsx(Wp.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0,margin:"-100px"},transition:{duration:.6},children:o.jsx(v,{variant:"h4",align:"center",gutterBottom:!0,sx:{fontFamily:"Playfair Display, serif",mb:1,background:"linear-gradient(45deg, #E31C79 30%, #FF4D4D 90%)",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent",transition:"all 0.3s ease"},children:"Featured Products"})}),o.jsx(Wp.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0,margin:"-100px"},transition:{duration:.6,delay:.2},children:o.jsx(v,{variant:"subtitle1",align:"center",sx:{mb:4,color:"#666",fontFamily:"Montserrat, sans-serif",transition:"all 0.3s ease"},children:"Discover our handpicked collection"})}),o.jsxs(p,{sx:{position:"relative",px:{xs:4,sm:6}},children:[o.jsx(Wp.div,{initial:{opacity:0,x:20},whileInView:{opacity:1,x:0},viewport:{once:!0,margin:"-100px"},transition:{duration:.5},children:o.jsx(y,{container:!0,spacing:3,children:u.map(((e,n)=>o.jsx(y,{item:!0,xs:6,sm:6,md:3,children:o.jsx(Wp.div,{initial:{opacity:0,y:50},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.5,delay:.1*n},children:o.jsx(nf,{product:e,onAddToCart:()=>t(e)})})},e.id)))})}),d>1&&o.jsxs(o.Fragment,{children:[o.jsx(f,{onClick:()=>{s((e=>(e-1+d)%d))},sx:{position:"absolute",left:0,top:"50%",transform:"translateY(-50%)",bgcolor:"white",boxShadow:"0 2px 8px rgba(0,0,0,0.1)","&:hover":{bgcolor:"#E31C79",color:"white"},transition:"all 0.3s ease",zIndex:2},children:o.jsx(of,{})}),o.jsx(f,{onClick:()=>{s((e=>(e+1)%d))},sx:{position:"absolute",right:0,top:"50%",transform:"translateY(-50%)",bgcolor:"white",boxShadow:"0 2px 8px rgba(0,0,0,0.1)","&:hover":{bgcolor:"#E31C79",color:"white"},transition:"all 0.3s ease",zIndex:2},children:o.jsx(hf,{})})]}),o.jsx(p,{sx:{display:"flex",justifyContent:"center",gap:1,mt:3},children:Array.from({length:d}).map(((e,t)=>o.jsx(p,{onClick:()=>s(t),sx:{width:8,height:8,borderRadius:"50%",bgcolor:r===t?"#E31C79":"#ddd",cursor:"pointer",transition:"all 0.3s ease","&:hover":{bgcolor:"#E31C79",transform:"scale(1.2)"}}},t)))})]})]})},mf=(e,t="products",n="placeholder.jpg")=>{if(!e)return`${Rs}/images/${t}/${n}`;if(e.startsWith("http"))return e;let i=e.startsWith("/")?e.slice(1):e;const r=i.split("/").pop()||"",s=new RegExp(`.*images/${t}/(.+)`),o=i.match(s);return o?`${Rs}/images/${t}/${o[1]}`:i.includes("/")?`${Rs}/images/${t}/${r}`:`${Rs}/images/${t}/${i}`},gf=({isVisible:e,categories:t=[]})=>{const n=At();if(!t||0===t.length)return null;const i=t.reduce(((e,t)=>(e[t.id]||(e[t.id]=t),e)),{});return o.jsx(P,{in:!0,timeout:1e3,children:o.jsx(p,{sx:{bgcolor:"#FFF5F5",py:8,width:"100%",opacity:e?1:0,transform:e?"translateY(0)":"translateY(50px)",transition:"all 0.6s ease-out",margin:0,padding:0,position:"relative",left:0,right:0},children:o.jsxs(p,{sx:{width:"100%",maxWidth:"1200px",margin:"0 auto",px:{xs:2,sm:3,md:4}},children:[o.jsx(v,{variant:"h3",align:"center",gutterBottom:!0,sx:{mb:1,fontFamily:"Playfair Display, serif",transition:"all 0.3s ease","&:hover":{transform:"scale(1.02)",color:"#E31C79"}},children:"Saree Categories"}),o.jsx(v,{variant:"subtitle1",align:"center",sx:{mb:6,color:"#666",transition:"all 0.3s ease",fontFamily:"Montserrat, sans-serif","&:hover":{color:"#E31C79"}},children:"Discover our extensive collection"}),o.jsx(y,{container:!0,spacing:4,children:Object.values(i).map(((e,t)=>o.jsx(y,{item:!0,xs:6,sm:6,md:4,children:o.jsxs(O,{sx:{height:"100%",display:"flex",flexDirection:"column",cursor:"pointer","&:hover":{transform:"scale(1.02)",transition:"transform 0.3s ease-in-out"}},onClick:()=>n(`/category/${e.id}`),children:[o.jsx(A,{component:"img",sx:{aspectRatio:"1/1",objectFit:"contain",backgroundColor:"#f5f5f5"},image:mf(e.image&&"string"==typeof e.image?e.image:void 0,"categories","placeholder.jpg"),alt:e.name||"Category Image"}),o.jsxs(T,{sx:{flexGrow:1},children:[o.jsx(v,{gutterBottom:!0,variant:"h5",component:"h2",children:e.name||"Unnamed Category"}),o.jsx(v,{variant:"body2",color:"text.secondary",paragraph:!0,children:e.description||"No description available"}),e.subcategories&&e.subcategories.length>0&&o.jsxs(p,{sx:{mt:2},children:[o.jsx(v,{variant:"subtitle2",color:"primary",gutterBottom:!0,children:"Subcategories:"}),o.jsx(p,{sx:{display:"flex",flexWrap:"wrap",gap:1},children:e.subcategories.map(((t,i)=>o.jsx(g,{size:"small",variant:"outlined",onClick:e=>{e.stopPropagation(),n(`/category/${t.id}`)},children:t.name||"Unnamed Subcategory"},`subcategory-${e.id}-${t.id||i}`)))})]})]})]})},`category-${e.id}-${t}`)))})]})})})},xf=()=>o.jsx(p,{sx:{position:"absolute",top:0,left:0,right:0,bottom:0,zIndex:0,opacity:.15},children:o.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",version:"1.1",xmlnsXlink:"http://www.w3.org/1999/xlink",width:"100%",height:"100%",preserveAspectRatio:"xMidYMid slice",viewBox:"0 0 700 700",children:[o.jsxs("defs",{children:[o.jsxs("linearGradient",{gradientTransform:"rotate(-150, 0.5, 0.5)",x1:"50%",y1:"0%",x2:"50%",y2:"100%",id:"gggrain-gradient2",children:[o.jsx("stop",{stopColor:"hsla(299, 83%, 49%, 1.00)",stopOpacity:"1",offset:"-0%"}),o.jsx("stop",{stopColor:"rgba(255,255,255,0)",stopOpacity:"0",offset:"100%"})]}),o.jsxs("linearGradient",{gradientTransform:"rotate(150, 0.5, 0.5)",x1:"50%",y1:"0%",x2:"50%",y2:"100%",id:"gggrain-gradient3",children:[o.jsx("stop",{stopColor:"hsl(0, 100%, 50%)",stopOpacity:"1"}),o.jsx("stop",{stopColor:"rgba(255,255,255,0)",stopOpacity:"0",offset:"100%"})]}),o.jsxs("filter",{id:"gggrain-filter",x:"-20%",y:"-20%",width:"140%",height:"140%",filterUnits:"objectBoundingBox",primitiveUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB",children:[o.jsx("feTurbulence",{type:"fractalNoise",baseFrequency:"0.58",numOctaves:"2",seed:"2",stitchTiles:"stitch",x:"0%",y:"0%",width:"100%",height:"100%",result:"turbulence"}),o.jsx("feColorMatrix",{type:"saturate",values:"0",x:"0%",y:"0%",width:"100%",height:"100%",in:"turbulence",result:"colormatrix"}),o.jsxs("feComponentTransfer",{x:"0%",y:"0%",width:"100%",height:"100%",in:"colormatrix",result:"componentTransfer",children:[o.jsx("feFuncR",{type:"linear",slope:"3"}),o.jsx("feFuncG",{type:"linear",slope:"3"}),o.jsx("feFuncB",{type:"linear",slope:"3"})]}),o.jsx("feColorMatrix",{x:"0%",y:"0%",width:"100%",height:"100%",in:"componentTransfer",result:"colormatrix2",type:"matrix",values:"1 0 0 0 0\n                  0 1 0 0 0\n                  0 0 1 0 0\n                  0 0 0 19 -11"})]})]}),o.jsxs("g",{children:[o.jsx("rect",{width:"100%",height:"100%",fill:"hsl(0, 100%, 60%)"}),o.jsx("rect",{width:"100%",height:"100%",fill:"url(#gggrain-gradient3)"}),o.jsx("rect",{width:"100%",height:"100%",fill:"url(#gggrain-gradient2)"}),o.jsx("rect",{width:"100%",height:"100%",fill:"transparent",filter:"url(#gggrain-filter)",opacity:"0.64",style:{mixBlendMode:"soft-light"}})]})]})}),yf=({isVisible:e})=>o.jsx(P,{in:!0,timeout:1e3,children:o.jsxs(p,{sx:{position:"relative",py:2,width:"100%",opacity:e?1:0,transform:e?"translateY(0)":"translateY(20px)",transition:"all 0.8s ease-out",overflow:"hidden"},children:[o.jsx(xf,{}),o.jsx(h,{maxWidth:!1,disableGutters:!0,sx:{position:"relative",zIndex:1},children:o.jsxs(y,{container:!0,spacing:6,alignItems:"center",sx:{padding:0},children:[o.jsx(y,{item:!0,xs:12,md:6,sx:{padding:0},children:o.jsx(p,{component:"img",src:`${Rs}/images/our-story.png`,alt:"Our Heritage",sx:{width:"100%",height:"auto",borderRadius:2,boxShadow:"0 20px 40px rgba(0,0,0,0.1)",transition:"all 0.4s ease","&:hover":{transform:"scale(1.02)"}}})}),o.jsxs(y,{item:!0,xs:12,md:6,sx:{padding:0},children:[o.jsx(v,{variant:"h4",gutterBottom:!0,sx:{fontFamily:"Playfair Display, serif",transition:"all 0.3s ease","&:hover":{transform:"scale(1.02)",color:"#E31C79"}},children:"Our Story"}),o.jsx(v,{variant:"body1",paragraph:!0,sx:{color:"#666",lineHeight:1.8,mb:3,fontFamily:"Montserrat, sans-serif"},children:"Founded in 1995, Sree Sathyabhama Silks has been at the forefront of bringing the finest silk sarees to our customers. Our journey began with a simple mission: to preserve and promote the rich heritage of Indian silk weaving while making it accessible to modern women."}),o.jsx(v,{variant:"body1",paragraph:!0,sx:{color:"#666",lineHeight:1.8,mb:4,fontFamily:"Montserrat, sans-serif"},children:"Today, we take pride in our extensive collection of authentic silk sarees, sourced directly from the finest weavers across India. Each piece in our collection tells a story of tradition, craftsmanship, and timeless elegance."}),o.jsx(g,{variant:"outlined",sx:{borderColor:"#E31C79",color:"#E31C79","&:hover":{borderColor:"#E31C79",backgroundColor:"#E31C79",color:"white",transform:"translateY(-2px)",boxShadow:"0 4px 12px rgba(227, 28, 121, 0.2)"},transition:"all 0.3s ease",borderRadius:2,px:4,py:1.5,fontFamily:"Montserrat, sans-serif"},children:"Learn More"})]})]})})]})});var vf={},bf=s;Object.defineProperty(vf,"__esModule",{value:!0});var jf=vf.default=void 0;!function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=Cf(t);if(n&&n.has(e))return n.get(e);var i={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if("default"!==s&&Object.prototype.hasOwnProperty.call(e,s)){var o=r?Object.getOwnPropertyDescriptor(e,s):null;o&&(o.get||o.set)?Object.defineProperty(i,s,o):i[s]=e[s]}i.default=e,n&&n.set(e,i)}(Ot);var wf=bf(Yt()),Sf=o;function Cf(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(Cf=function(e){return e?n:t})(e)}jf=vf.default=(0,wf.default)((0,Sf.jsx)("path",{d:"M7.8 2h8.4C19.4 2 22 4.6 22 7.8v8.4a5.8 5.8 0 0 1-5.8 5.8H7.8C4.6 22 2 19.4 2 16.2V7.8A5.8 5.8 0 0 1 7.8 2m-.2 2A3.6 3.6 0 0 0 4 7.6v8.8C4 18.39 5.61 20 7.6 20h8.8a3.6 3.6 0 0 0 3.6-3.6V7.6C20 5.61 18.39 4 16.4 4H7.6m9.65 1.5a1.25 1.25 0 0 1 1.25 1.25A1.25 1.25 0 0 1 17.25 8 1.25 1.25 0 0 1 16 6.75a1.25 1.25 0 0 1 1.25-1.25M12 7a5 5 0 0 1 5 5 5 5 0 0 1-5 5 5 5 0 0 1-5-5 5 5 0 0 1 5-5m0 2a3 3 0 0 0-3 3 3 3 0 0 0 3 3 3 3 0 0 0 3-3 3 3 0 0 0-3-3z"}),"Instagram");var _f={},kf=s;Object.defineProperty(_f,"__esModule",{value:!0});var Ef=_f.default=void 0;!function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=Mf(t);if(n&&n.has(e))return n.get(e);var i={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if("default"!==s&&Object.prototype.hasOwnProperty.call(e,s)){var o=r?Object.getOwnPropertyDescriptor(e,s):null;o&&(o.get||o.set)?Object.defineProperty(i,s,o):i[s]=e[s]}i.default=e,n&&n.set(e,i)}(Ot);var Pf=kf(Yt()),Of=o;function Mf(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(Mf=function(e){return e?n:t})(e)}Ef=_f.default=(0,Pf.default)((0,Of.jsx)("path",{d:"M5 3h14a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2m13 2h-2.5A3.5 3.5 0 0 0 12 8.5V11h-2v3h2v7h3v-7h3v-3h-3V9a1 1 0 0 1 1-1h2V5z"}),"Facebook");var Af={},Tf=s;Object.defineProperty(Af,"__esModule",{value:!0});var If=Af.default=void 0;!function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=Ff(t);if(n&&n.has(e))return n.get(e);var i={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if("default"!==s&&Object.prototype.hasOwnProperty.call(e,s)){var o=r?Object.getOwnPropertyDescriptor(e,s):null;o&&(o.get||o.set)?Object.defineProperty(i,s,o):i[s]=e[s]}i.default=e,n&&n.set(e,i)}(Ot);var Df=Tf(Yt()),Rf=o;function Ff(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(Ff=function(e){return e?n:t})(e)}If=Af.default=(0,Df.default)((0,Rf.jsx)("path",{d:"M22.46 6c-.77.35-1.6.58-2.46.69.88-.53 1.56-1.37 1.88-2.38-.83.5-1.75.85-2.72 1.05C18.37 4.5 17.26 4 16 4c-2.35 0-4.27 1.92-4.27 4.29 0 .34.04.67.11.98C8.28 9.09 5.11 7.38 3 4.79c-.37.63-.58 1.37-.58 2.15 0 1.49.75 2.81 1.91 3.56-.71 0-1.37-.2-1.95-.5v.03c0 2.08 1.48 3.82 3.44 4.21a4.22 4.22 0 0 1-1.93.07 4.28 4.28 0 0 0 4 2.98 8.521 8.521 0 0 1-5.33 1.84c-.34 0-.68-.02-1.02-.06C3.44 20.29 5.7 21 8.12 21 16 21 20.33 14.46 20.33 8.79c0-.19 0-.37-.01-.56.84-.6 1.56-1.36 2.14-2.23z"}),"Twitter");var Lf={},zf=s;Object.defineProperty(Lf,"__esModule",{value:!0});var Bf=Lf.default=void 0;!function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=Vf(t);if(n&&n.has(e))return n.get(e);var i={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if("default"!==s&&Object.prototype.hasOwnProperty.call(e,s)){var o=r?Object.getOwnPropertyDescriptor(e,s):null;o&&(o.get||o.set)?Object.defineProperty(i,s,o):i[s]=e[s]}i.default=e,n&&n.set(e,i)}(Ot);var Wf=zf(Yt()),Nf=o;function Vf(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(Vf=function(e){return e?n:t})(e)}Bf=Lf.default=(0,Wf.default)((0,Nf.jsx)("path",{d:"M9.04 21.54c.96.29 1.93.46 2.96.46a10 10 0 0 0 10-10A10 10 0 0 0 12 2 10 10 0 0 0 2 12c0 4.25 2.67 7.9 6.44 9.34-.09-.78-.18-2.07 0-2.96l1.15-4.94s-.29-.58-.29-1.5c0-1.38.86-2.41 1.84-2.41.86 0 1.26.63 1.26 1.44 0 .86-.57 2.09-.86 3.27-.17.98.52 1.84 1.52 1.84 1.78 0 3.16-1.9 3.16-4.58 0-2.4-1.72-4.04-4.19-4.04-2.82 0-4.48 2.1-4.48 4.31 0 .86.28 1.73.74 2.3.09.06.09.14.06.29l-.29 1.09c0 .17-.11.23-.28.11-1.28-.56-2.02-2.38-2.02-3.85 0-3.16 2.24-6.03 6.56-6.03 3.44 0 6.12 2.47 6.12 5.75 0 3.44-2.13 6.2-5.18 6.2-.97 0-1.92-.52-2.26-1.13l-.67 2.37c-.23.86-.86 2.01-1.29 2.7v-.03z"}),"Pinterest");var $f={},Uf=s;Object.defineProperty($f,"__esModule",{value:!0});var Hf=$f.default=void 0,qf=Uf(Yt()),Yf=o;Hf=$f.default=(0,qf.default)((0,Yf.jsx)("path",{d:"M11.67 3.87 9.9 2.1 0 12l9.9 9.9 1.77-1.77L3.54 12z"}),"ArrowBackIos");var Gf={},Xf=s;Object.defineProperty(Gf,"__esModule",{value:!0});var Kf=Gf.default=void 0,Jf=Xf(Yt()),Qf=o;Kf=Gf.default=(0,Jf.default)((0,Qf.jsx)("path",{d:"M6.23 20.23 8 22l10-10L8 2 6.23 3.77 14.46 12z"}),"ArrowForwardIos");const Zf=[{id:"DJJ23dBvFWx",permalink:"https://www.instagram.com/p/DJJ23dBvFWx/"},{id:"DJJqtnvy-gy",permalink:"https://www.instagram.com/p/DJJqtnvy-gy/"},{id:"DI9T8MrSoCW",permalink:"https://www.instagram.com/p/DI9T8MrSoCW/"},{id:"DI5HGX0vgP6",permalink:"https://www.instagram.com/p/DI5HGX0vgP6/"},{id:"DIJLcNGyUSN",permalink:"https://www.instagram.com/p/DIJLcNGyUSN/"},{id:"DIya5IESIAk",permalink:"https://www.instagram.com/p/DIya5IESIAk/"},{id:"DIdaf6sSjpl",permalink:"https://www.instagram.com/p/DIdaf6sSjpl/"},{id:"DIObyH6y0gG",permalink:"https://www.instagram.com/p/DIObyH6y0gG/"},{id:"DFZwDc2S2D1",permalink:"https://www.instagram.com/p/DFZwDc2S2D1/"},{id:"DEryh4Kvvco",permalink:"https://www.instagram.com/p/DEryh4Kvvco/"},{id:"DChGSJ3PKS-",permalink:"https://www.instagram.com/p/DChGSJ3PKS-/"},{id:"C96xL8WR9OV",permalink:"https://www.instagram.com/p/C96xL8WR9OV/"},{id:"C_C2k6Oxa_X",permalink:"https://www.instagram.com/p/C_C2k6Oxa_X/"},{id:"CxF6BE4pwXK",permalink:"https://www.instagram.com/p/CxF6BE4pwXK/"},{id:"Ce0tbaTJ-1Z",permalink:"https://www.instagram.com/p/Ce0tbaTJ-1Z/"},{id:"Cfb0gZ5JEZr",permalink:"https://www.instagram.com/p/Cfb0gZ5JEZr/"},{id:"CeoOG5GlOVp",permalink:"https://www.instagram.com/p/CeoOG5GlOVp/"}],em=[{icon:jf,name:"Instagram",color:"#E31C79",link:"https://www.instagram.com/sreesathyabhamasilks/"},{icon:Ef,name:"Facebook",color:"#1877F2",link:"https://www.facebook.com/sathyabhmasilks/"},{icon:If,name:"Twitter",color:"#1DA1F2"},{icon:Bf,name:"Pinterest",color:"#E60023"}],tm=({isVisible:e})=>{const t=l(),n=c(t.breakpoints.down("sm")),i=c(t.breakpoints.down("md")),r=c(t.breakpoints.up("lg")),[s,a]=Ot.useState(0),[d,u]=Ot.useState(4),m=Ot.useRef(null),[g,x]=Ot.useState(!1);Ot.useEffect((()=>{u(n?1:i?2:r?4:3)}),[n,i,r]);Ot.useEffect((()=>((()=>{try{m.current&&document.body.contains(m.current)&&document.body.removeChild(m.current);const e=document.createElement("script");e.src="//www.instagram.com/embed.js",e.async=!0,e.onload=()=>{x(!0),window.instgrm&&window.instgrm.Embeds.process()},document.body.appendChild(e),m.current=e}catch(e){console.error("Error loading Instagram script:",e)}})(),()=>{try{m.current&&document.body.contains(m.current)&&document.body.removeChild(m.current)}catch(e){console.error("Error cleaning up Instagram script:",e)}})),[]),Ot.useEffect((()=>{g&&window.instgrm&&window.instgrm.Embeds.process()}),[s,g]);return o.jsx(P,{in:!0,timeout:1e3,children:o.jsx(p,{sx:{bgcolor:"#FFF5F5",py:8,width:"100%",opacity:e?1:0,transform:e?"translateY(0)":"translateY(20px)",transition:"all 0.8s ease-out"},children:o.jsxs(h,{maxWidth:!1,sx:{width:"100%"},children:[o.jsx(v,{variant:"h4",align:"center",gutterBottom:!0,sx:{mb:1,fontFamily:"Playfair Display, serif",transition:"all 0.3s ease","&:hover":{transform:"scale(1.02)",color:"#E31C79"}},children:"FOLLOW US"}),o.jsx(v,{variant:"subtitle1",align:"center",sx:{mb:6,color:"#666",transition:"all 0.3s ease",fontFamily:"Montserrat, sans-serif","&:hover":{color:"#E31C79"}},children:"Stay updated with our latest collections"}),o.jsxs(p,{sx:{position:"relative",mb:8},children:[o.jsx("style",{children:"\n                .instagram-media {\n                  margin: 0 !important;\n                  width: 100% !important;\n                  max-width: 100% !important;\n                  min-width: 100% !important;\n                }\n                .instagram-media iframe {\n                  border: none !important;\n                  width: 100% !important;\n                  height: 100% !important;\n                  min-height: 450px !important;\n                }\n                .instagram-media ._aak8, \n                .instagram-media ._aak9, \n                .instagram-media ._aak7, \n                .instagram-media ._aak6,\n                .instagram-media ._aak5,\n                .instagram-media ._aak4,\n                .instagram-media ._aak3,\n                .instagram-media ._aak2,\n                .instagram-media ._aak1,\n                .instagram-media ._aak0,\n                .instagram-media ._aaj_,\n                .instagram-media ._aaj-,\n                .instagram-media ._aaj+,\n                .instagram-media ._aaj*,\n                .instagram-media ._aaj/,\n                .instagram-media ._aaj.,\n                .instagram-media ._aaj,\n                .instagram-media ._aai_,\n                .instagram-media ._aai-,\n                .instagram-media ._aai+,\n                .instagram-media ._aai*,\n                .instagram-media ._aai/,\n                .instagram-media ._aai.,\n                .instagram-media ._aai,\n                .instagram-media ._aah_,\n                .instagram-media ._aah-,\n                .instagram-media ._aah+,\n                .instagram-media ._aah*,\n                .instagram-media ._aah/,\n                .instagram-media ._aah.,\n                .instagram-media ._aah,\n                .instagram-media ._aag_,\n                .instagram-media ._aag-,\n                .instagram-media ._aag+,\n                .instagram-media ._aag*,\n                .instagram-media ._aag/,\n                .instagram-media ._aag.,\n                ._aag,\n                ._aah,\n                ._aai,\n                ._aaj,\n                ._aak0,\n                ._aak1,\n                ._aak2,\n                ._aak3,\n                ._aak4,\n                ._aak5,\n                ._aak6,\n                ._aak7,\n                ._aak8,\n                ._aak9 {\n                  display: none !important;\n                }\n              "}),o.jsxs(p,{sx:{width:"100vw",margin:"0 auto",position:"relative",overflow:"hidden",padding:"0 16px"},children:[o.jsx(p,{sx:{display:"flex",transition:"transform 0.3s ease",transform:`translateX(-${296*s}px)`,width:"fit-content"},children:Zf.map((e=>o.jsx(p,{sx:{width:"280px",flexShrink:0,transition:"transform 0.3s ease",padding:"0 8px"},children:o.jsx(p,{sx:{width:"100%",borderRadius:2,overflow:"hidden",boxShadow:"0 8px 24px rgba(0,0,0,0.1)",transition:"all 0.3s ease","&:hover":{transform:"translateY(-5px)",boxShadow:"0 12px 28px rgba(0,0,0,0.15)"}},children:o.jsx(p,{sx:{width:"100%",height:"450px",overflow:"hidden",position:"relative"},children:o.jsx("blockquote",{className:"instagram-media","data-instgrm-captioned":!0,"data-instgrm-permalink":e.permalink,"data-instgrm-version":"14",style:{background:"#FFF",border:0,borderRadius:"3px",boxShadow:"0 0 1px 0 rgba(0,0,0,0.5),0 1px 10px 0 rgba(0,0,0,0.15)",margin:0,maxWidth:"100%",minWidth:"100%",padding:0,width:"100%",height:"100%"}})})})},e.id)))}),o.jsx(f,{onClick:()=>{a((e=>0===e?Zf.length-d:e-1))},sx:{position:"absolute",left:24,top:"50%",transform:"translateY(-50%)",backgroundColor:"rgba(255, 255, 255, 0.9)","&:hover":{backgroundColor:"rgba(255, 255, 255, 1)"},zIndex:1},children:o.jsx(Hf,{})}),o.jsx(f,{onClick:()=>{a((e=>e+d>=Zf.length?0:e+1))},sx:{position:"absolute",right:24,top:"50%",transform:"translateY(-50%)",backgroundColor:"rgba(255, 255, 255, 0.9)","&:hover":{backgroundColor:"rgba(255, 255, 255, 1)"},zIndex:1},children:o.jsx(Kf,{})})]})]}),o.jsx(y,{container:!0,spacing:4,justifyContent:"center",children:em.map((e=>o.jsx(y,{item:!0,children:o.jsxs(p,{sx:{display:"flex",flexDirection:"column",alignItems:"center",gap:1},children:[o.jsx(f,{sx:{width:60,height:60,backgroundColor:"white",boxShadow:"0 4px 12px rgba(0,0,0,0.1)",transition:"all 0.3s ease","&:hover":{transform:"translateY(-5px) scale(1.1)",backgroundColor:e.color,"& .MuiSvgIcon-root":{color:"white"}}},onClick:()=>e.link&&window.open(e.link,"_blank"),children:o.jsx(e.icon,{sx:{fontSize:30,color:e.color,transition:"all 0.3s ease"}})}),o.jsx(v,{variant:"body2",sx:{color:"#666",transition:"all 0.3s ease",fontFamily:"Montserrat, sans-serif","&:hover":{color:e.color}},children:e.name})]})},e.name)))})]})})})};let nm;const im=new Uint8Array(16);function rm(){if(!nm&&(nm="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!nm))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return nm(im)}const sm=[];for(let cI=0;cI<256;++cI)sm.push((cI+256).toString(16).slice(1));const om={randomUUID:"undefined"!=typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};function am(e,t,n){if(om.randomUUID&&!e)return om.randomUUID();const i=(e=e||{}).random||(e.rng||rm)();return i[6]=15&i[6]|64,i[8]=63&i[8]|128,function(e,t=0){return sm[e[t+0]]+sm[e[t+1]]+sm[e[t+2]]+sm[e[t+3]]+"-"+sm[e[t+4]]+sm[e[t+5]]+"-"+sm[e[t+6]]+sm[e[t+7]]+"-"+sm[e[t+8]]+sm[e[t+9]]+"-"+sm[e[t+10]]+sm[e[t+11]]+sm[e[t+12]]+sm[e[t+13]]+sm[e[t+14]]+sm[e[t+15]]}(i)}class lm extends Error{constructor(e,t,n){super(e),this.status=t,this.code=n,this.name="ApiError"}}const cm=()=>{const e=localStorage.getItem("newsletter_subscriptions");return e?JSON.parse(e):(localStorage.setItem("newsletter_subscriptions",JSON.stringify([])),[])},dm=e=>{localStorage.setItem("newsletter_subscriptions",JSON.stringify(e))},hm=async e=>{try{await new Promise((e=>setTimeout(e,500)));const t=cm(),n=t.find((t=>t.email.toLowerCase()===e.toLowerCase()));if(n){if("unsubscribed"===n.status)return n.status="active",dm(t),n;throw new Error("Email already subscribed")}const i={id:am(),email:e,subscriptionDate:(new Date).toISOString(),status:"active"};return t.push(i),dm(t),i}catch(t){throw function(e){if(e instanceof lm)throw e;if(e instanceof Error)throw new lm(e.message);throw new lm("An unexpected error occurred")}(t),t}},um=async e=>{try{await new Promise((e=>setTimeout(e,500)));let t=cm();e.status&&(t=t.filter((t=>t.status===e.status)));const n=t.length,i=(e.page-1)*e.limit,r=i+e.limit;return{subscriptions:t.slice(i,r),total:n,page:e.page,totalPages:Math.ceil(n/e.limit)}}catch(t){throw new Error("Failed to fetch subscriptions")}},pm=async e=>{try{await new Promise((e=>setTimeout(e,500)));const t=cm(),n=t.find((t=>t.email.toLowerCase()===e.toLowerCase()));if(!n)throw new Error("Subscription not found");n.status="unsubscribed",dm(t)}catch(t){throw new Error("Failed to unsubscribe")}},fm=async()=>{try{return(await ps.get(`${Ds}/pos-customers`)).data}catch(e){return console.error("Error fetching POS customers:",e),[]}},mm=async(e,t)=>{try{return(await ps.put(`${Ds}/pos-customers/${e}`,t)).data}catch(n){return console.error("Error updating POS customer:",n),null}},gm=ps.create({baseURL:Ds,headers:{"Content-Type":"application/json"}});gm.interceptors.request.use((e=>{const t=localStorage.getItem("customerToken");return t&&(e.headers.Authorization=`Bearer ${t}`),e})),gm.interceptors.request.use((e=>e),(e=>(As("Request error:",Ts(e)),Promise.reject(e)))),gm.interceptors.response.use((e=>e),(e=>(As("Response error:",Ts(e)),Promise.reject(e))));const xm=async e=>e.data,ym=async(e,t={})=>{try{const n=await gm.get(e,{...t});return xm(n)}catch(n){throw As("API GET Error:",Ts(n)),n}},vm=async(e,t,n={})=>{try{const i=await gm.post(e,t,{...n});return xm(i)}catch(i){throw As("API POST Error:",Ts(i)),i}},bm=async(e,t,n={})=>{try{const i=await gm.put(e,t,{...n});return xm(i)}catch(i){throw console.error("API PUT Error:",i),i}},jm=async(e,t={})=>{try{const n=await gm.delete(e,{...t});return xm(n)}catch(n){throw console.error("API DELETE Error:",n),n}},wm=async()=>{try{return await ym("/products")}catch(e){throw e}},Sm=async e=>await ym(`/products/${e}`),Cm=async e=>await vm("/products",e),_m=async(e,t)=>await bm(`/products/${e}`,t),km=async e=>await jm(`/products/${e}`),Em=async()=>await ym("/orders"),Pm=async e=>await ym(`/orders/${e}`),Om=async(e,t)=>await bm(`/orders/${e}`,t),Mm=async e=>await vm("/orders/pos",e),Am=async()=>await ym("/settings"),Tm=async()=>await ym("/categories"),Im=async e=>await ym(`/categories/${e}`),Dm=async e=>await vm("/categories",e),Rm=async(e,t)=>await bm(`/categories/${e}`,t),Fm=async e=>await jm(`/categories/${e}`),Lm=async(e,t)=>{const n=new FormData;n.append("image",t);return await vm(`/categories/${e}/image`,n,{headers:{"Content-Type":"multipart/form-data"}})},zm=({isVisible:e})=>{const[t,n]=Ot.useState(""),[i,r]=Ot.useState(!1),[s,a]=Ot.useState(null);return o.jsx(p,{sx:{backgroundColor:"#E31C79",py:8,width:"100%",opacity:e?1:0,transform:e?"translateY(0)":"translateY(20px)",transition:"all 0.8s ease-out"},children:o.jsxs(p,{sx:{position:"relative",zIndex:1,width:"100%",margin:0,padding:0,textAlign:"center"},children:[o.jsx(v,{variant:"h4",sx:{color:"white",mb:2,fontFamily:"Playfair Display, serif"},children:"Subscribe to Our Newsletter"}),o.jsx(v,{variant:"body1",sx:{color:"white",mb:4,opacity:.9,maxWidth:"600px",mx:"auto",px:2,fontFamily:"Montserrat, sans-serif"},children:"Stay updated with our latest collections, exclusive offers, and styling tips."}),o.jsx(h,{maxWidth:!1,sx:{width:"100%"},children:o.jsxs(p,{component:"form",onSubmit:async e=>{if(e.preventDefault(),t){r(!0),a(null);try{await hm(t),ni.success("Successfully subscribed to our newsletter!"),n("")}catch(i){const e=i instanceof Error?i.message:"Failed to subscribe. Please try again.";a(e),ni.error(e)}finally{r(!1)}}else a("Please enter your email")},sx:{display:"flex",flexDirection:{xs:"column",sm:"row"},gap:2,maxWidth:"600px",mx:"auto",px:2},children:[o.jsx(R,{value:t,onChange:e=>n(e.target.value),placeholder:"Enter your email",type:"email",required:!0,error:!!s,helperText:s,disabled:i,sx:{flex:1,"& .MuiOutlinedInput-root":{backgroundColor:"white","&:hover fieldset":{borderColor:"white"}}}}),o.jsx(g,{type:"submit",variant:"contained",disabled:i,sx:{backgroundColor:"white",color:"#E31C79",px:4,"&:hover":{backgroundColor:"rgba(255, 255, 255, 0.9)"},height:"56px",fontFamily:"Montserrat, sans-serif"},children:i?o.jsx(F,{size:24}):"Subscribe"})]})})]})})};var Bm={},Wm=s;Object.defineProperty(Bm,"__esModule",{value:!0});var Nm=Bm.default=void 0,Vm=Wm(Yt()),$m=o;Nm=Bm.default=(0,Vm.default)((0,$m.jsx)("path",{d:"M20 8h-3V4H3c-1.1 0-2 .9-2 2v11h2c0 1.66 1.34 3 3 3s3-1.34 3-3h6c0 1.66 1.34 3 3 3s3-1.34 3-3h2v-5zM6 18.5c-.83 0-1.5-.67-1.5-1.5s.67-1.5 1.5-1.5 1.5.67 1.5 1.5-.67 1.5-1.5 1.5m13.5-9 1.96 2.5H17V9.5zm-1.5 9c-.83 0-1.5-.67-1.5-1.5s.67-1.5 1.5-1.5 1.5.67 1.5 1.5-.67 1.5-1.5 1.5"}),"LocalShipping");var Um={},Hm=s;Object.defineProperty(Um,"__esModule",{value:!0});var qm=Um.default=void 0,Ym=Hm(Yt()),Gm=o;qm=Um.default=(0,Ym.default)((0,Gm.jsx)("path",{d:"M12 1 3 5v6c0 5.55 3.84 10.74 9 12 5.16-1.26 9-6.45 9-12V5zm0 10.99h7c-.53 4.12-3.28 7.79-7 8.94V12H5V6.3l7-3.11z"}),"Security");var Xm={},Km=s;Object.defineProperty(Xm,"__esModule",{value:!0});var Jm=Xm.default=void 0,Qm=Km(Yt()),Zm=o;Jm=Xm.default=(0,Qm.default)([(0,Zm.jsx)("path",{d:"M21 12.22C21 6.73 16.74 3 12 3c-4.69 0-9 3.65-9 9.28-.6.34-1 .98-1 1.72v2c0 1.1.9 2 2 2h1v-6.1c0-3.87 3.13-7 7-7s7 3.13 7 7V19h-8v2h8c1.1 0 2-.9 2-2v-1.22c.59-.31 1-.92 1-1.64v-2.3c0-.7-.41-1.31-1-1.62"},"0"),(0,Zm.jsx)("circle",{cx:"9",cy:"13",r:"1"},"1"),(0,Zm.jsx)("circle",{cx:"15",cy:"13",r:"1"},"2"),(0,Zm.jsx)("path",{d:"M18 11.03C17.52 8.18 15.04 6 12.05 6c-3.03 0-6.29 2.51-6.03 6.45 2.47-1.01 4.33-3.21 4.86-5.89 1.31 2.63 4 4.44 7.12 4.47"},"3")],"SupportAgent");const eg=[{icon:Nm,title:"Free Shipping",description:"Free shipping on all orders above 5000"},{icon:qm,title:"Secure Payment",description:"100% secure payment options available"},{icon:Jm,title:"Expert Support",description:"24/7 customer support for all your queries"}],tg=({isVisible:e})=>o.jsx(P,{in:!0,timeout:1e3,children:o.jsx(p,{sx:{bgcolor:"#FFF5F5",py:8,width:"100%",opacity:e?1:0,transform:e?"translateY(0)":"translateY(20px)",transition:"all 0.8s ease-out"},children:o.jsxs(h,{maxWidth:!1,sx:{width:"100%"},children:[o.jsx(v,{variant:"h4",align:"center",gutterBottom:!0,sx:{mb:1,fontFamily:"Playfair Display, serif",transition:"all 0.3s ease","&:hover":{transform:"scale(1.02)",color:"#E31C79"}},children:"WHY CHOOSE US"}),o.jsx(v,{variant:"subtitle1",align:"center",sx:{mb:6,color:"#666",transition:"all 0.3s ease",fontFamily:"Montserrat, sans-serif","&:hover":{color:"#E31C79"}},children:"Experience the difference with our premium services"}),o.jsx(y,{container:!0,spacing:4,children:eg.map((e=>o.jsx(y,{item:!0,xs:12,md:4,children:o.jsxs(p,{sx:{display:"flex",flexDirection:"column",alignItems:"center",textAlign:"center",p:3,borderRadius:2,transition:"all 0.3s ease","&:hover":{transform:"translateY(-10px)",boxShadow:"0 20px 40px rgba(0,0,0,0.1)","& .MuiSvgIcon-root":{color:"#E31C79"}}},children:[o.jsx(p,{sx:{width:80,height:80,borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:"white",boxShadow:"0 4px 12px rgba(0,0,0,0.1)",mb:2},children:o.jsx(e.icon,{sx:{fontSize:40,color:"#666",transition:"all 0.3s ease"}})}),o.jsx(v,{variant:"h6",gutterBottom:!0,sx:{fontFamily:"Cormorant Garamond, serif",color:"#E31C79"},children:e.title}),o.jsx(v,{variant:"body2",sx:{color:"#666",lineHeight:1.6,fontFamily:"Montserrat, sans-serif"},children:e.description})]})},e.title)))})]})})});var ng={},ig=s;Object.defineProperty(ng,"__esModule",{value:!0});var rg=ng.default=void 0,sg=ig(Yt()),og=o;rg=ng.default=(0,sg.default)((0,og.jsx)("path",{d:"M12 17.27 18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21z"}),"Star");var ag={},lg=s;Object.defineProperty(ag,"__esModule",{value:!0});var cg=ag.default=void 0,dg=lg(Yt()),hg=o;cg=ag.default=(0,dg.default)((0,hg.jsx)("path",{d:"m23 12-2.44-2.79.34-3.69-3.61-.82-1.89-3.2L12 2.96 8.6 1.5 6.71 4.69 3.1 5.5l.34 3.7L1 12l2.44 2.79-.34 3.7 3.61.82L8.6 22.5l3.4-1.47 3.4 1.46 1.89-3.19 3.61-.82-.34-3.69zm-12.91 4.72-3.8-3.81 1.48-1.48 2.32 2.33 5.85-5.87 1.48 1.48z"}),"Verified");const ug=[{name:"Joys Maria",rating:5,comment:"The quality of the silk sarees is exceptional. The craftsmanship and attention to detail are truly remarkable.",image:`${Rs}/images/review-1.png`},{name:"Jyoti Dash",rating:5,comment:"I love how they maintain traditional designs while incorporating modern elements. The collection is stunning!",image:`${Rs}/images/review-2.png`},{name:"Divya Chavan",rating:5,comment:"The customer service is outstanding. They helped me find the perfect saree for my wedding.",image:`${Rs}/images/review-3.png`},{name:"Ahuti",rating:5,comment:"The variety of designs and colors is amazing. I always find something unique here.",image:`${Rs}/images/review-4.png`}],pg=({isVisible:e})=>o.jsx(P,{in:!0,timeout:1e3,children:o.jsx(p,{sx:{bgcolor:"#FFF5F5",py:8,px:8,width:"100%",opacity:e?1:0,transform:e?"translateY(0)":"translateY(20px)",transition:"all 0.8s ease-out"},children:o.jsxs(h,{maxWidth:!1,sx:{width:"100%"},children:[o.jsx(v,{variant:"h4",align:"center",gutterBottom:!0,sx:{mb:1,fontFamily:"Playfair Display, serif",transition:"all 0.3s ease","&:hover":{transform:"scale(1.02)",color:"#E31C79"}},children:"CUSTOMER REVIEWS"}),o.jsx(v,{variant:"subtitle1",align:"center",sx:{mb:6,color:"#666",transition:"all 0.3s ease",fontFamily:"Montserrat, sans-serif","&:hover":{color:"#E31C79"}},children:"What our customers say about us"}),o.jsx(y,{container:!0,spacing:4,children:ug.map((e=>o.jsx(y,{item:!0,xs:12,md:4,children:o.jsx(O,{sx:{height:"100%",display:"flex",flexDirection:"column",transition:"all 0.4s cubic-bezier(0.4, 0, 0.2, 1)","&:hover":{transform:"translateY(-10px)",boxShadow:"0 20px 40px rgba(0,0,0,0.1)"},borderRadius:2},children:o.jsxs(T,{children:[o.jsxs(p,{sx:{display:"flex",alignItems:"center",mb:2},children:[o.jsx(p,{component:"img",src:e.image,alt:e.name,sx:{width:60,height:60,borderRadius:"50%",mr:2,objectFit:"cover"}}),o.jsxs(p,{children:[o.jsx(v,{variant:"h6",sx:{fontFamily:"Cormorant Garamond, serif",color:"#E31C79"},children:e.name}),o.jsxs(p,{sx:{display:"flex",alignItems:"center",gap:.5},children:[[...Array(e.rating)].map(((e,t)=>o.jsx(rg,{sx:{color:"#FFD700",fontSize:20}},t))),o.jsx(cg,{sx:{color:"#E31C79",fontSize:16,ml:1}})]})]})]}),o.jsxs(v,{variant:"body2",sx:{color:"#666",lineHeight:1.6,fontStyle:"italic",fontFamily:"Montserrat, sans-serif"},children:['"',e.comment,'"']})]})})},e.name)))})]})})}),fg=()=>o.jsx(p,{sx:{position:"absolute",top:0,left:0,right:0,bottom:0,zIndex:0,opacity:.15},children:o.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",version:"1.1",xmlnsXlink:"http://www.w3.org/1999/xlink",width:"100%",height:"100%",preserveAspectRatio:"xMidYMid slice",viewBox:"0 0 700 700",children:[o.jsxs("defs",{children:[o.jsxs("linearGradient",{gradientTransform:"rotate(-150, 0.5, 0.5)",x1:"50%",y1:"0%",x2:"50%",y2:"100%",id:"gggrain-gradient2",children:[o.jsx("stop",{stopColor:"hsla(299, 83%, 49%, 1.00)",stopOpacity:"1",offset:"-0%"}),o.jsx("stop",{stopColor:"rgba(255,255,255,0)",stopOpacity:"0",offset:"100%"})]}),o.jsxs("linearGradient",{gradientTransform:"rotate(150, 0.5, 0.5)",x1:"50%",y1:"0%",x2:"50%",y2:"100%",id:"gggrain-gradient3",children:[o.jsx("stop",{stopColor:"hsl(0, 100%, 50%)",stopOpacity:"1"}),o.jsx("stop",{stopColor:"rgba(255,255,255,0)",stopOpacity:"0",offset:"100%"})]}),o.jsxs("filter",{id:"gggrain-filter",x:"-20%",y:"-20%",width:"140%",height:"140%",filterUnits:"objectBoundingBox",primitiveUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB",children:[o.jsx("feTurbulence",{type:"fractalNoise",baseFrequency:"0.58",numOctaves:"2",seed:"2",stitchTiles:"stitch",x:"0%",y:"0%",width:"100%",height:"100%",result:"turbulence"}),o.jsx("feColorMatrix",{type:"saturate",values:"0",x:"0%",y:"0%",width:"100%",height:"100%",in:"turbulence",result:"colormatrix"}),o.jsxs("feComponentTransfer",{x:"0%",y:"0%",width:"100%",height:"100%",in:"colormatrix",result:"componentTransfer",children:[o.jsx("feFuncR",{type:"linear",slope:"3"}),o.jsx("feFuncG",{type:"linear",slope:"3"}),o.jsx("feFuncB",{type:"linear",slope:"3"})]}),o.jsx("feColorMatrix",{x:"0%",y:"0%",width:"100%",height:"100%",in:"componentTransfer",result:"colormatrix2",type:"matrix",values:"1 0 0 0 0\n                  0 1 0 0 0\n                  0 0 1 0 0\n                  0 0 0 19 -11"})]})]}),o.jsxs("g",{children:[o.jsx("rect",{width:"100%",height:"100%",fill:"hsl(0, 100%, 60%)"}),o.jsx("rect",{width:"100%",height:"100%",fill:"url(#gggrain-gradient3)"}),o.jsx("rect",{width:"100%",height:"100%",fill:"url(#gggrain-gradient2)"}),o.jsx("rect",{width:"100%",height:"100%",fill:"transparent",filter:"url(#gggrain-filter)",opacity:"0.64",style:{mixBlendMode:"soft-light"}})]})]})}),mg=({isVisible:e,onAddToCart:t})=>{const[n,i]=Ot.useState([]),[r,s]=Ot.useState(!0),[a,d]=Ot.useState(null),u=l(),m=c(u.breakpoints.down("sm")),g=c(u.breakpoints.down("md")),[x,b]=Ot.useState(0),j=m?1:g?2:4,w=Math.ceil(n.length/j),S=n.slice(x*j,(x+1)*j);return Ot.useEffect((()=>{(async()=>{try{const e=(await wm()).filter((e=>!0===e.trending));i(e)}catch(e){d("Failed to fetch trending products"),console.error("Error fetching trending products:",e)}finally{s(!1)}})()}),[]),r?o.jsx(p,{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"200px",children:o.jsx(F,{})}):a?o.jsx(p,{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"200px",children:o.jsx(v,{color:"error",children:a})}):o.jsxs(p,{sx:{position:"relative",py:8,width:"100%",overflow:"hidden"},children:[o.jsx(fg,{}),o.jsxs(h,{maxWidth:!1,sx:{width:"100%"},children:[o.jsx(v,{variant:"h4",align:"center",gutterBottom:!0,sx:{mb:1,fontFamily:"Playfair Display, serif"},children:"TRENDING PRODUCTS"}),o.jsx(v,{variant:"subtitle1",align:"center",sx:{mb:6,color:"#666",fontFamily:"Montserrat, sans-serif"},children:"Our most popular designs"}),o.jsxs(p,{sx:{position:"relative",px:4},children:[o.jsx(y,{container:!0,spacing:4,children:S.map((e=>o.jsx(y,{item:!0,xs:12,sm:6,md:3,children:o.jsx(nf,{product:e,onAddToCart:e=>t(e)})},e.id)))}),w>1&&o.jsxs(o.Fragment,{children:[o.jsx(f,{onClick:()=>{b((e=>(e-1+w)%w))},sx:{position:"absolute",left:0,top:"50%",transform:"translateY(-50%)",backgroundColor:"white",boxShadow:2,"&:hover":{backgroundColor:"#f5f5f5"}},children:o.jsx(of,{})}),o.jsx(f,{onClick:()=>{b((e=>(e+1)%w))},sx:{position:"absolute",right:0,top:"50%",transform:"translateY(-50%)",backgroundColor:"white",boxShadow:2,"&:hover":{backgroundColor:"#f5f5f5"}},children:o.jsx(hf,{})})]})]}),o.jsx(p,{sx:{display:"flex",justifyContent:"center",mt:4,gap:1},children:Array.from({length:w},((e,t)=>o.jsx(p,{sx:{width:x===t?24:8,height:8,borderRadius:"4px",backgroundColor:x===t?"#E31C79":"#ddd",cursor:"pointer",transition:"all 0.3s ease","&:hover":{backgroundColor:x===t?"#E31C79":"#ccc"}},onClick:()=>b(t)},t)))})]})]})};var gg={},xg=s;Object.defineProperty(gg,"__esModule",{value:!0});var yg=gg.default=void 0,vg=xg(Yt()),bg=o;yg=gg.default=(0,vg.default)((0,bg.jsx)("path",{d:"M19 5h-2V3H7v2H5c-1.1 0-2 .9-2 2v1c0 2.55 1.92 4.63 4.39 4.94.63 1.5 1.98 2.63 3.61 2.96V19H7v2h10v-2h-4v-3.1c1.63-.33 2.98-1.46 3.61-2.96C19.08 12.63 21 10.55 21 8V7c0-1.1-.9-2-2-2M5 8V7h2v3.82C5.84 10.4 5 9.3 5 8m14 0c0 1.3-.84 2.4-2 2.82V7h2z"}),"EmojiEvents");var jg={},wg=s;Object.defineProperty(jg,"__esModule",{value:!0});var Sg=jg.default=void 0,Cg=wg(Yt()),_g=o;Sg=jg.default=(0,Cg.default)((0,_g.jsx)("path",{d:"M9.68 13.69 12 11.93l2.31 1.76-.88-2.85L15.75 9h-2.84L12 6.19 11.09 9H8.25l2.31 1.84zM20 10c0-4.42-3.58-8-8-8s-8 3.58-8 8c0 2.03.76 3.87 2 5.28V23l6-2 6 2v-7.72c1.24-1.41 2-3.25 2-5.28m-8-6c3.31 0 6 2.69 6 6s-2.69 6-6 6-6-2.69-6-6 2.69-6 6-6"}),"WorkspacePremium");const kg=[{icon:cg,title:"Authentic Silk",description:"Every saree is crafted with 100% pure silk, sourced from the finest silk farms in India."},{icon:yg,title:"Award Winning",description:"Recognized for excellence in traditional craftsmanship and quality."},{icon:Sg,title:"Premium Quality",description:"Rigorous quality checks ensure each piece meets our high standards."}],Eg=({isVisible:e})=>o.jsx(P,{in:!0,timeout:1e3,children:o.jsx(p,{sx:{bgcolor:"#FFF5F5",py:8,px:8,width:"100%",opacity:e?1:0,transform:e?"translateY(0)":"translateY(20px)",transition:"all 0.8s ease-out"},children:o.jsxs(h,{maxWidth:!1,sx:{width:"100%"},children:[o.jsx(v,{variant:"h4",align:"center",gutterBottom:!0,sx:{mb:1,fontFamily:"Playfair Display, serif",transition:"all 0.3s ease","&:hover":{transform:"scale(1.02)",color:"#E31C79"}},children:"OUR COMMITMENT"}),o.jsx(v,{variant:"subtitle1",align:"center",sx:{mb:6,color:"#666",transition:"all 0.3s ease",fontFamily:"Montserrat, sans-serif","&:hover":{color:"#E31C79"}},children:"Quality and authenticity you can trust"}),o.jsx(y,{container:!0,spacing:4,children:kg.map((e=>o.jsx(y,{item:!0,xs:12,md:4,children:o.jsxs(p,{sx:{display:"flex",flexDirection:"column",alignItems:"center",textAlign:"center",p:3,borderRadius:2,transition:"all 0.3s ease","&:hover":{transform:"translateY(-10px)",boxShadow:"0 20px 40px rgba(0,0,0,0.1)","& .MuiSvgIcon-root":{color:"#E31C79"}}},children:[o.jsx(p,{sx:{width:80,height:80,borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:"white",boxShadow:"0 4px 12px rgba(0,0,0,0.1)",mb:2},children:o.jsx(e.icon,{sx:{fontSize:40,color:"#666",transition:"all 0.3s ease"}})}),o.jsx(v,{variant:"h6",gutterBottom:!0,sx:{fontFamily:"Cormorant Garamond, serif",color:"#E31C79"},children:e.title}),o.jsx(v,{variant:"body2",sx:{color:"#666",lineHeight:1.6,fontFamily:"Montserrat, sans-serif"},children:e.description})]})},e.title)))})]})})});var Pg={},Og=s;Object.defineProperty(Pg,"__esModule",{value:!0});var Mg=Pg.default=void 0,Ag=Og(Yt()),Tg=o;function Ig(e){const{children:t}=e,n=z({disableHysteresis:!0,threshold:100});return o.jsx(B,{in:n,children:o.jsx(p,{onClick:e=>{const t=(e.target.ownerDocument||document).querySelector("#back-to-top-anchor");t&&t.scrollIntoView({behavior:"smooth",block:"center"})},role:"presentation",sx:{position:"fixed",bottom:16,right:16,zIndex:1e3},children:t})})}Mg=Pg.default=(0,Ag.default)((0,Tg.jsx)("path",{d:"M7.41 15.41 12 10.83l4.59 4.58L18 14l-6-6-6 6z"}),"KeyboardArrowUp");const Dg=()=>o.jsx(Ig,{children:o.jsx(L,{color:"primary",size:"small","aria-label":"scroll back to top",sx:{bgcolor:"#E31C79","&:hover":{bgcolor:"#C41869"}},children:o.jsx(Mg,{})})}),Rg=Wp.create(p);Wp.create(v),Wp.create(y),Wp.create(O);const Fg=({isVisible:e})=>{const[t,n]=Ot.useState([]),i=At(),r=l();return c(r.breakpoints.down("sm")),Ot.useEffect((()=>{(async()=>{try{const e=await Am();e&&e.offers&&n(e.offers)}catch(e){console.error("Error fetching offers:",e)}})()}),[]),e?o.jsx(p,{sx:{py:4,width:"100%"},children:o.jsxs(h,{maxWidth:"lg",children:[o.jsx(Rg,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0,margin:"-100px"},transition:{duration:.6},children:o.jsx(v,{variant:"h4",align:"center",gutterBottom:!0,sx:{mb:1,fontFamily:"Playfair Display, serif",background:"linear-gradient(45deg, #E31C79 30%, #FF4D4D 90%)",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent",transition:"all 0.3s ease"},children:"Special Offers"})}),o.jsx(Rg,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0,margin:"-100px"},transition:{duration:.6,delay:.2},children:o.jsx(v,{variant:"subtitle1",align:"center",sx:{mb:4,color:"#666",fontFamily:"Montserrat, sans-serif",transition:"all 0.3s ease"},children:"Exclusive deals just for you"})}),o.jsx(y,{container:!0,spacing:3,children:t.map(((t,n)=>o.jsx(y,{item:!0,xs:12,sm:6,md:4,children:o.jsx(Rg,{initial:{opacity:0,y:20},animate:e?{opacity:1,y:0}:{opacity:0,y:20},transition:{duration:.5,delay:.2*n},whileHover:{scale:1.05},sx:{height:"100%"},children:o.jsxs(O,{sx:{height:"100%",display:"flex",flexDirection:"column",borderRadius:2,overflow:"hidden",boxShadow:3},children:[o.jsxs(W,{children:[o.jsx(A,{component:"img",height:"140",image:mf(t.image,"offers","placeholder.jpg"),alt:t.label}),o.jsxs(T,{children:[o.jsx(v,{gutterBottom:!0,variant:"h5",component:"div",children:t.label}),t.description&&o.jsx(v,{variant:"body2",color:"text.secondary",children:t.description})]})]}),o.jsx(N,{children:o.jsx(g,{variant:"contained",color:"primary",fullWidth:!0,onClick:()=>i("/products"),children:"Shop Now"})})]})})},n)))})]})}):null},Lg=Wp.create(h),zg=()=>{const{addItem:e}=Ws(),[t,n]=Ot.useState([]),[i,r]=Ot.useState([]),[s,a]=Ot.useState(!0),[l,d]=Ot.useState(null);c("(max-width:600px)"),Ot.useEffect((()=>{(async()=>{try{const[e,t]=await Promise.all([wm(),Tm()]);n(e),r(t)}catch(e){d("Failed to fetch data"),console.error("Error fetching data:",e)}finally{a(!1)}})()}),[]);const h=t=>{var n;const i={id:t.id,name:t.name,price:t.price,images:t.images||[],image:(null==(n=t.images)?void 0:n[0])||"",categoryId:t.categoryId,sku:t.sku||"",stock:t.stock,quantity:1,featured:t.featured||!1,trending:t.trending||!1,description:t.description||"",rating:t.rating||0,specifications:t.specifications||{}};e(i)};return s?o.jsx(p,{display:"flex",justifyContent:"center",alignItems:"center",height:"80vh",children:o.jsx(F,{})}):l?o.jsx(p,{display:"flex",justifyContent:"center",alignItems:"center",height:"80vh",children:o.jsx(v,{color:"error",children:l})}):o.jsxs(p,{children:[o.jsx(p,{id:"back-to-top-anchor"}),o.jsx(Wp.div,{initial:{opacity:0},whileInView:{opacity:1},viewport:{once:!0},transition:{duration:.6},children:o.jsx(p,{children:o.jsx(ef,{isVisible:!0})})}),o.jsx(Wp.div,{initial:{opacity:0,y:50},whileInView:{opacity:1,y:0},viewport:{once:!0,margin:"-100px"},transition:{duration:.6},children:o.jsx(p,{sx:{backgroundColor:"#f5f5f5",width:"100%"},children:o.jsx(Lg,{maxWidth:!1,sx:{width:"100%"},children:o.jsx(ff,{products:t,onAddToCart:h})})})}),o.jsx(Wp.div,{initial:{opacity:0,y:50},whileInView:{opacity:1,y:0},viewport:{once:!0,margin:"-100px"},transition:{duration:.6},children:o.jsx(p,{sx:{width:"100%"},children:o.jsx(Lg,{maxWidth:!1,sx:{width:"100%"},children:o.jsx(Fg,{isVisible:!0})})})}),o.jsx(Wp.div,{initial:{opacity:0,y:50},whileInView:{opacity:1,y:0},viewport:{once:!0,margin:"-100px"},transition:{duration:.6},children:o.jsx(p,{sx:{backgroundColor:"#fff",width:"100%"},children:o.jsx(Lg,{maxWidth:!1,sx:{width:"100%"},children:o.jsx(gf,{categories:i,isVisible:!0})})})}),o.jsx(Wp.div,{initial:{opacity:0,y:70},whileInView:{opacity:1,y:0},viewport:{once:!0,margin:"-100px"},transition:{duration:.4},children:o.jsx(p,{sx:{width:"100%"},children:o.jsx(Lg,{maxWidth:!1,sx:{width:"100%"},children:o.jsx(yf,{isVisible:!0})})})}),o.jsx(Wp.div,{initial:{opacity:0,y:50},whileInView:{opacity:1,y:0},viewport:{once:!0,margin:"-100px"},transition:{duration:.6},children:o.jsx(p,{sx:{backgroundColor:"#fff",width:"100%"},children:o.jsx(Lg,{maxWidth:!1,sx:{width:"100%"},children:o.jsx(tg,{isVisible:!0})})})}),o.jsx(Wp.div,{initial:{opacity:0,y:50},whileInView:{opacity:1,y:0},viewport:{once:!0,margin:"-100px"},transition:{duration:.6},children:o.jsx(p,{sx:{width:"100%"},children:o.jsx(Lg,{maxWidth:!1,sx:{width:"100%"},children:o.jsx(pg,{isVisible:!0})})})}),o.jsx(Wp.div,{initial:{opacity:0,y:50},whileInView:{opacity:1,y:0},viewport:{once:!0,margin:"-100px"},transition:{duration:.6},children:o.jsx(p,{sx:{backgroundColor:"#f5f5f5",width:"100%",p:0},children:o.jsx(Lg,{maxWidth:!1,sx:{width:"100%",p:0},children:o.jsx(mg,{onAddToCart:h,isVisible:!0})})})}),o.jsx(Wp.div,{initial:{opacity:0,y:50},whileInView:{opacity:1,y:0},viewport:{once:!0,margin:"-100px"},transition:{duration:.6},children:o.jsx(p,{sx:{width:"100%",p:0},children:o.jsx(Lg,{maxWidth:!1,sx:{width:"100%",p:0},children:o.jsx(Eg,{isVisible:!0})})})}),o.jsx(Wp.div,{initial:{opacity:0,y:50},whileInView:{opacity:1,y:0},viewport:{once:!0,margin:"-100px"},transition:{duration:.6},children:o.jsx(p,{sx:{backgroundColor:"#f5f5f5",width:"100%",p:0},children:o.jsx(Lg,{maxWidth:!1,sx:{width:"100%",p:0},children:o.jsx(tm,{isVisible:!0})})})}),o.jsx(Wp.div,{initial:{opacity:0,y:50},whileInView:{opacity:1,y:0},viewport:{once:!0,margin:"-100px"},transition:{duration:.6},children:o.jsx(p,{sx:{width:"100%",p:0},children:o.jsx(Lg,{maxWidth:!1,sx:{width:"100%",p:0},children:o.jsx(zm,{isVisible:!0})})})}),o.jsx(Dg,{})]})};var Bg={},Wg=s;Object.defineProperty(Bg,"__esModule",{value:!0});var Ng=Bg.default=void 0,Vg=Wg(Yt()),$g=o;Ng=Bg.default=(0,Vg.default)((0,$g.jsx)("path",{d:"M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5M12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5m0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3"}),"Visibility");var Ug={},Hg=s;Object.defineProperty(Ug,"__esModule",{value:!0});var qg=Ug.default=void 0,Yg=Hg(Yt()),Gg=o;qg=Ug.default=(0,Yg.default)((0,Gg.jsx)("path",{d:"M12 7c2.76 0 5 2.24 5 5 0 .65-.13 1.26-.36 1.83l2.92 2.92c1.51-1.26 2.7-2.89 3.43-4.75-1.73-4.39-6-7.5-11-7.5-1.4 0-2.74.25-3.98.7l2.16 2.16C10.74 7.13 11.35 7 12 7M2 4.27l2.28 2.28.46.46C3.08 8.3 1.78 10.02 1 12c1.73 4.39 6 7.5 11 7.5 1.55 0 3.03-.3 4.38-.84l.42.42L19.73 22 21 20.73 3.27 3zM7.53 9.8l1.55 1.55c-.05.21-.08.43-.08.65 0 1.66 1.34 3 3 3 .22 0 .44-.03.65-.08l1.55 1.55c-.67.33-1.41.53-2.2.53-2.76 0-5-2.24-5-5 0-.79.2-1.53.53-2.2m4.31-.78 3.15 3.15.02-.16c0-1.66-1.34-3-3-3z"}),"VisibilityOff");var Xg={},Kg=s;Object.defineProperty(Xg,"__esModule",{value:!0});var Jg=Xg.default=void 0,Qg=Kg(Yt()),Zg=o;Jg=Xg.default=(0,Qg.default)((0,Zg.jsx)("path",{d:"M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"}),"Home");var ex={},tx=s;Object.defineProperty(ex,"__esModule",{value:!0});var nx=ex.default=void 0,ix=tx(Yt()),rx=o;nx=ex.default=(0,ix.default)((0,rx.jsx)("path",{d:"M20 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2m0 4-8 5-8-5V6l8 5 8-5z"}),"Email");var sx={},ox=s;Object.defineProperty(sx,"__esModule",{value:!0});var ax=sx.default=void 0,lx=ox(Yt()),cx=o;ax=sx.default=(0,lx.default)((0,cx.jsx)("path",{d:"M6.62 10.79c1.44 2.83 3.76 5.14 6.59 6.59l2.2-2.2c.27-.27.67-.36 1.02-.24 1.12.37 2.33.57 3.57.57.55 0 1 .45 1 1V20c0 .55-.45 1-1 1-9.39 0-17-7.61-17-17 0-.55.45-1 1-1h3.5c.55 0 1 .45 1 1 0 1.25.2 2.45.57 3.57.11.35.03.74-.25 1.02z"}),"Phone");var dx={},hx=s;Object.defineProperty(dx,"__esModule",{value:!0});var ux=dx.default=void 0,px=hx(Yt()),fx=o;ux=dx.default=(0,px.default)([(0,fx.jsx)("path",{d:"M17 11c.34 0 .67.04 1 .09V6.27L10.5 3 3 6.27v4.91c0 4.54 3.2 8.79 7.5 9.82.55-.13 1.08-.32 1.6-.55-.69-.98-1.1-2.17-1.1-3.45 0-3.31 2.69-6 6-6"},"0"),(0,fx.jsx)("path",{d:"M17 13c-2.21 0-4 1.79-4 4s1.79 4 4 4 4-1.79 4-4-1.79-4-4-4m0 1.38c.62 0 1.12.51 1.12 1.12s-.51 1.12-1.12 1.12-1.12-.51-1.12-1.12.5-1.12 1.12-1.12m0 5.37c-.93 0-1.74-.46-2.24-1.17.05-.72 1.51-1.08 2.24-1.08s2.19.36 2.24 1.08c-.5.71-1.31 1.17-2.24 1.17"},"1")],"AdminPanelSettings");const mx=new class{constructor(){i(this,"baseUrl","/customers")}getToken(){const e=localStorage.getItem("customerToken");if(!e)throw new Error("Authentication required");return e}getAuthHeaders(){return{Authorization:`Bearer ${this.getToken()}`,"Content-Type":"application/json"}}handleError(e){var t,n;if(console.error("API Error:",e),401===(null==(t=e.response)?void 0:t.status)||403===(null==(n=e.response)?void 0:n.status))throw localStorage.removeItem("customerToken"),localStorage.removeItem("customerId"),localStorage.removeItem("user"),new Error("Authentication required. Please log in again.");throw e}async login(e){var t,n;try{console.log("Login attempt with:",{email:e.email,phone:e.phone,hasPassword:!!e.password});const t=await ps({method:"POST",url:`${Ds}/customers/login`,data:e,headers:{"Content-Type":"application/json"}});console.log("Raw login response:",t);const{data:n}=t;if(!n)throw new Error("Empty response from server");const i=n.customer||n,r=n.token||`Bearer_${btoa(JSON.stringify({id:i.id,email:i.email,timestamp:(new Date).getTime()}))}`;if(!i||"object"!=typeof i)throw new Error("Invalid customer data in response");return i.id||(i.id="cust_"+Date.now()),localStorage.setItem("customerToken",r),localStorage.setItem("customerId",i.id),localStorage.setItem("user",JSON.stringify(i)),{success:!0,data:{token:r,customer:i}}}catch(i){return console.error("Login error details:",i),{success:!1,error:(null==(n=null==(t=i.response)?void 0:t.data)?void 0:n.message)||i.message||"Login failed"}}}async register(e){return vm(`${this.baseUrl}/register`,e)}async getProfile(){try{return(await ps({method:"GET",url:`${Ds}/customers/profile`,headers:this.getAuthHeaders()})).data}catch(e){throw console.error("Error fetching customer profile:",e),this.handleError(e)}}async updateProfile(e){return bm(`${this.baseUrl}/profile`,e)}async getOrders(){try{return(await ps({method:"GET",url:`${Ds}/customers/orders`,headers:this.getAuthHeaders()})).data}catch(e){throw this.handleError(e)}}async getOrderById(e){try{const t=this.getToken();return(await ps.get(`${Ds}/customers/orders/${e}`,{headers:{Authorization:`Bearer ${t}`}})).data}catch(t){throw this.handleError(t)}}async trackOrder(e){try{const t=this.getToken();return(await ps.get(`${Ds}/customers/orders/${e}/track`,{headers:{Authorization:`Bearer ${t}`}})).data}catch(t){throw this.handleError(t)}}async requestPasswordReset(e){return vm(`${this.baseUrl}/password-reset-request`,{emailOrPhone:e})}async resetPassword(e,t){return t?await ps.post(`${Ds}/customers/reset-password`,{token:e,newPassword:t}):await ps.post(`${Ds}/customers/request-reset`,{email:e})}async changePassword(e,t){return bm(`${this.baseUrl}/change-password`,{currentPassword:e,newPassword:t})}async getAddresses(){try{return(await ps({method:"GET",url:`${Ds}/customers/addresses`,headers:this.getAuthHeaders()})).data}catch(e){throw console.error("Error fetching addresses:",e),this.handleError(e)}}async addAddress(e){try{return await vm(`${this.baseUrl}/addresses`,e)}catch(t){throw this.handleError(t)}}async updateAddress(e,t){try{return await bm(`${this.baseUrl}/addresses/${e}`,t)}catch(n){throw this.handleError(n)}}async deleteAddress(e){try{return await jm(`${this.baseUrl}/addresses/${e}`)}catch(t){throw this.handleError(t)}}async getNotifications(){try{return(await ps.get(`${Ds}/customers/notifications`,{headers:{Authorization:`Bearer ${this.getToken()}`}})).data}catch(e){throw this.handleError(e)}}async markNotificationAsRead(e){try{return(await ps.put(`${Ds}/customers/notifications/${e}/read`,{},{headers:{Authorization:`Bearer ${this.getToken()}`}})).data}catch(t){throw this.handleError(t)}}async markAllNotificationsAsRead(){return bm(`${this.baseUrl}/notifications/read-all`,{})}async logout(){return vm("/auth/logout",{})}async create(e){try{return await vm(`${this.baseUrl}/pos`,e)}catch(t){throw this.handleError(t)}}async getByPhone(e){var t;try{return await ym(`${this.baseUrl}/phone/${e}`)}catch(n){if(404===(null==(t=n.response)?void 0:t.status))return null;throw this.handleError(n)}}},gx=()=>{const e=At(),{login:t}=Us(),[n,i]=Ot.useState("email"),[r,s]=Ot.useState({email:"",phone:"",password:"",username:""}),[a,l]=Ot.useState(!1),[c,d]=Ot.useState(null),[u,m]=Ot.useState(!1),x=e=>{const{name:t,value:n}=e.target;if("phone"===t){const e=n.replace(/\D/g,"").slice(0,10);s((n=>({...n,[t]:e})))}else s((e=>({...e,[t]:n})))};return o.jsx(h,{maxWidth:"sm",sx:{mt:8,mb:8},children:o.jsxs(V,{elevation:3,sx:{p:4,borderRadius:2,background:"linear-gradient(to bottom right, #ffffff, #f8f9fa)"},children:[o.jsxs(p,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:3},children:[o.jsx(v,{variant:"h4",sx:{color:"#E31C79",fontFamily:"Playfair Display, serif"},children:"Login"}),o.jsx(g,{startIcon:o.jsx(Jg,{}),onClick:()=>e("/"),sx:{color:"#E31C79","&:hover":{backgroundColor:"rgba(227, 28, 121, 0.04)"}},children:"Home"})]}),o.jsx(p,{sx:{mb:3,display:"flex",justifyContent:"center"},children:o.jsxs($,{value:n,exclusive:!0,onChange:(e,t)=>{t&&(i(t),s({email:"",phone:"",password:"",username:""}),d(""))},sx:{"& .MuiToggleButton-root":{textTransform:"none",fontFamily:"Montserrat, sans-serif","&.Mui-selected":{backgroundColor:"rgba(227, 28, 121, 0.04)",color:"#E31C79"}}},children:[o.jsxs(U,{value:"email",children:[o.jsx(nx,{sx:{mr:1}}),"Email"]}),o.jsxs(U,{value:"phone",children:[o.jsx(ax,{sx:{mr:1}}),"Phone"]}),o.jsxs(U,{value:"admin",children:[o.jsx(ux,{sx:{mr:1}}),"Admin"]})]})}),c&&o.jsx(H,{severity:"error",sx:{width:"100%",mb:2},children:c}),o.jsxs("form",{onSubmit:async i=>{var s,o;i.preventDefault(),m(!0),d(null);try{if("admin"===n){if("admin"===r.username)return localStorage.setItem("adminAuth","true"),ni.success("Admin login successful!"),void e("/admin/dashboard");throw new Error("Invalid admin credentials")}const i=await mx.login({email:"email"===n?r.email:void 0,phone:"phone"===n?r.phone:void 0,password:r.password});if(console.log("Login response:",i),i.success&&i.data){const{token:n,customer:r}=i.data;t({id:r.id,name:r.name,email:r.email,phone:r.phone}),localStorage.setItem("customerEmail",r.email),localStorage.setItem("customerPhone",r.phone),ni.success("Login successful! Welcome back "+r.name);const s=localStorage.getItem("returnUrl")||"/";localStorage.removeItem("returnUrl"),s.startsWith("/checkout")?e("/checkout"):e("/"===s?"/customer/orders":s)}else console.error("Login failed:",i.error),d(i.error||"Login failed. Please check your credentials."),ni.error(i.error||"Login failed")}catch(a){console.error("Login error:",a);const e=(null==(o=null==(s=a.response)?void 0:s.data)?void 0:o.message)||a.message||"An error occurred during login";d(e),ni.error(e)}finally{m(!1)}},style:{width:"100%"},children:["email"===n?o.jsx(R,{fullWidth:!0,id:"login-email",label:"Email",name:"email",type:"email",value:r.email,onChange:x,margin:"normal",required:!0,autoComplete:"email",sx:{mb:2}}):"phone"===n?o.jsx(R,{fullWidth:!0,id:"login-phone",label:"Phone Number",name:"phone",type:"tel",value:r.phone,placeholder:"Enter 10-digit mobile number",onChange:x,margin:"normal",required:!0,autoComplete:"tel",inputProps:{pattern:"[0-9]*",maxLength:10,inputMode:"numeric"},InputProps:{startAdornment:o.jsx(q,{position:"start",children:"+91"})},sx:{mb:2}}):o.jsx(R,{fullWidth:!0,id:"login-username",label:"Admin Username",name:"username",value:r.username,onChange:x,margin:"normal",required:!0,autoComplete:"username",sx:{mb:2}}),"admin"!==n&&o.jsx(R,{fullWidth:!0,id:"login-password",label:"Password",name:"password",type:a?"text":"password",value:r.password,onChange:x,margin:"normal",required:!0,autoComplete:"current-password",InputProps:{endAdornment:o.jsx(q,{position:"end",children:o.jsx(f,{onClick:()=>l(!a),edge:"end","aria-label":"toggle password visibility",children:a?o.jsx(qg,{}):o.jsx(Ng,{})})})},sx:{mb:2}}),o.jsx(g,{type:"submit",fullWidth:!0,variant:"contained",disabled:u,sx:{mt:3,mb:2,background:"linear-gradient(45deg, #E31C79 30%, #FF4D4D 90%)","&:hover":{background:"linear-gradient(45deg, #FF4D4D 30%, #E31C79 90%)"}},children:u?o.jsx(F,{size:24,color:"inherit"}):"admin"===n?"Login as Admin":"Login"})]}),"admin"!==n&&o.jsxs(o.Fragment,{children:[o.jsx(p,{sx:{textAlign:"center",mb:3},children:o.jsxs(v,{variant:"body2",color:"text.secondary",children:["Don't have an account?"," ",o.jsx(Tt,{to:"/register",style:{color:"#E31C79",textDecoration:"none"},children:"Sign up"})]})}),o.jsx(p,{sx:{textAlign:"center"},children:o.jsx(g,{onClick:async()=>{if(r.email)try{await mx.resetPassword(r.email),ni.success("Password reset instructions sent to your email")}catch(e){d(e.message||"Failed to reset password")}else d("Please enter your email address")},disabled:u,sx:{color:"#E31C79",textTransform:"none","&:hover":{backgroundColor:"rgba(227, 28, 121, 0.04)"}},children:"Forgot password?"})})]})]})})},xx=async e=>await gm.post("/orders",e),yx=async e=>{var t,n,i,r,s,o,a;try{if(console.log("Sending payment verification request:",e),!e.razorpay_payment_id||!e.razorpay_order_id||!e.razorpay_signature)throw new Error("Missing required payment verification fields");const t=await gm.post("/orders/verify",{razorpay_payment_id:e.razorpay_payment_id,razorpay_order_id:e.razorpay_order_id,razorpay_signature:e.razorpay_signature});if(console.log("Payment verification response:",t),!t.data||!t.data.order)throw new Error("Invalid response from server");return t.data}catch(l){console.error("Payment verification error:",l);const e=(null==(n=null==(t=l.response)?void 0:t.data)?void 0:n.error)||(null==(r=null==(i=l.response)?void 0:i.data)?void 0:r.message)||l.message||"Payment verification failed";throw console.error("Detailed error:",{status:null==(s=l.response)?void 0:s.status,data:null==(o=l.response)?void 0:o.data,headers:null==(a=l.response)?void 0:a.headers,config:l.config}),new Error(e)}};var vx={},bx=s;Object.defineProperty(vx,"__esModule",{value:!0});var jx=vx.default=void 0,wx=bx(Yt()),Sx=o;jx=vx.default=(0,wx.default)((0,Sx.jsx)("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6zM19 4h-3.5l-1-1h-5l-1 1H5v2h14z"}),"Delete");var Cx={},_x=s;Object.defineProperty(Cx,"__esModule",{value:!0});var kx=Cx.default=void 0,Ex=_x(Yt()),Px=o;kx=Cx.default=(0,Ex.default)((0,Px.jsx)("path",{d:"M20 4H4c-1.11 0-1.99.89-1.99 2L2 18c0 1.11.89 2 2 2h16c1.11 0 2-.89 2-2V6c0-1.11-.89-2-2-2m0 14H4v-6h16zm0-10H4V6h16z"}),"Payment");const Ox=({savedAddresses:e=[],setSavedAddresses:t})=>{const n=At(),{items:i,removeItem:r,updateQuantity:s,totalPrice:a,clearCart:l,applyDiscount:c,discount:d,discountPercentage:u,discountApplied:m,activeOffer:x,setActiveOffer:b}=Ws(),{user:j,isAuthenticated:w,setUser:S,setIsAuthenticated:_}=Us(),[k,E]=Ot.useState({fullName:"",email:"",phone:"",address:"",city:"",state:"",pincode:"",country:"India"}),[P,O]=Ot.useState(!1),[M,A]=Ot.useState(null),[T,I]=Ot.useState(!1),[D,L]=Ot.useState(null),[z,B]=Ot.useState(!1),[W,N]=Ot.useState(null),[$,U]=Ot.useState(""),[se,oe]=Ot.useState(null),[ae,le]=Ot.useState(!1),[ce,de]=Ot.useState([]),[he,ue]=Ot.useState(""),[pe,fe]=Ot.useState(!0),[me,ge]=Ot.useState(!1),[xe,ye]=Ot.useState([]),[ve,be]=Ot.useState({email:"",password:""}),[je,we]=Ot.useState(!1),[Se,Ce]=Ot.useState(null),[_e,ke]=Ot.useState(!1),[Ee,Pe]=Ot.useState({cardNumber:"",expiryDate:"",cvv:""}),[Oe,Me]=Ot.useState(!1),[Ae,Te]=Ot.useState({street:"",city:"",state:"",postalCode:"",country:"India"}),[Ie,De]=Ot.useState([]),[Re,Fe]=Ot.useState([]),[Le,ze]=Ot.useState(null),[Be,We]=Ot.useState(!1),[Ne,Ve]=Ot.useState({fullName:!1,email:!1,phone:!1,address:!1,city:!1,state:!1,pincode:!1,country:!1}),[$e,Ue]=Ot.useState(!1);Ot.useEffect((()=>{const e=localStorage.getItem("customerToken"),t=localStorage.getItem("user");if(e&&t)try{const e=JSON.parse(t);S(e),_(!0),He()}catch(n){console.error("Error parsing user data:",n),localStorage.removeItem("user"),localStorage.removeItem("customerToken")}}),[w]);const He=async()=>{const e=localStorage.getItem("customerToken");if(w&&j&&e){ge(!0);try{const e=await mx.getAddresses(),n=(await mx.getOrders()).reduce(((e,t)=>{if(t.shippingAddress){e.some((e=>e.address===t.shippingAddress.address&&e.city===t.shippingAddress.city&&e.pincode===t.shippingAddress.pincode))||e.push({...t.shippingAddress,id:`order-${t.id}`})}return e}),[]),i=[...e,...n];t&&t(e.map((e=>e.id))),ye(n),i.length>0?(fe(!1),ue(i[0].id),E({fullName:i[0].fullName||j.name||"",email:i[0].email||j.email||"",phone:i[0].phone||j.phone||"",address:i[0].address||"",city:i[0].city||"",state:i[0].state||"",pincode:i[0].pincode||"",country:i[0].country||"India"})):(fe(!0),E({fullName:j.name||"",email:j.email||"",phone:j.phone||"",address:"",city:"",state:"",pincode:"",country:"India"}))}catch(n){console.error("Error fetching addresses:",n),ni.error("Failed to load addresses"),fe(!0)}finally{ge(!1)}}};Ot.useEffect((()=>{j&&E((e=>({...e,fullName:j.name||e.fullName,email:j.email||e.email,phone:j.phone||e.phone})))}),[j]),Ot.useEffect((()=>{const e=document.createElement("script");e.src="https://checkout.razorpay.com/v1/checkout.js",e.async=!0,document.body.appendChild(e);(async()=>{try{const e=await Fs.getSettings();(null==e?void 0:e.offers)&&de(e.offers)}catch(e){console.error("Error fetching offers:",e),de([])}})(),He();return(async()=>{try{const e=await wm(),t=e.filter((e=>!i.some((t=>t.id===e.id)))).sort((()=>.5-Math.random())).slice(0,4);De(t)}catch(e){console.error("Error fetching suggested products:",e)}})(),()=>{document.body.removeChild(e)}}),[w,j,i]);const qe=(e,t)=>{t<1||s(e,t)},Ye=e=>{const{name:t,value:n}=e.target;if("phone"===t){const e=n.replace(/\D/g,"").slice(0,10);E({...k,[t]:e})}else E({...k,[t]:n})},Ge=(e,t)=>{var r,s;console.error("Payment failed:",e);const o=(null==(s=null==(r=e.response)?void 0:r.data)?void 0:s.message)||e.message||"Payment failed";A(o),ni.error(o),n("/payment-failure",{state:{orderId:t,error:o,amount:a,items:i,shippingAddress:k}})},Xe=async e=>{var t,n;e.preventDefault(),we(!0),Ce(null);try{const e=await mx.login({email:ve.email.trim(),password:ve.password});if(!e.success||!e.data)throw new Error(e.error||"Invalid login response");localStorage.setItem("customerToken",e.data.token),localStorage.setItem("customerId",e.data.customer.id),localStorage.setItem("user",JSON.stringify(e.data.customer)),S(e.data.customer),_(!0),ni.success("Login successful"),await He()}catch(i){console.error("Login error:",i);const e=(null==(n=null==(t=null==i?void 0:i.response)?void 0:t.data)?void 0:n.message)||"Invalid email or password";Ce(e),ni.error(e)}finally{we(!1)}},Ke=e=>{const{name:t,value:n}=e.target;be((e=>({...e,[t]:n}))),Ce(null)},Je=e=>{if(!Ne[e])return"";switch(e){case"email":return k.email&&(i=k.email,!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(i))?"Please enter a valid email address":"";case"phone":return k.phone&&(n=k.phone,!/^[0-9]{10}$/.test(n))?"Please enter a valid 10-digit phone number":"";case"pincode":return k.pincode&&(t=k.pincode,!/^[0-9]{6}$/.test(t))?"Please enter a valid 6-digit PIN code":"";case"country":return"";default:return k[e]?"":"This field is required"}var t,n,i},Qe=e=>{Ve((t=>({...t,[e]:!0})))},Ze=()=>o.jsxs(p,{sx:{position:"relative"},children:[o.jsxs(y,{container:!0,spacing:2,children:[o.jsx(y,{item:!0,xs:12,children:o.jsx(R,{fullWidth:!0,id:"address-fullName",name:"fullName",label:"Full Name",value:k.fullName,onChange:Ye,onBlur:()=>Qe("fullName"),error:!!Je("fullName"),helperText:Je("fullName"),required:!0,autoComplete:"name"})}),o.jsx(y,{item:!0,xs:12,children:o.jsx(R,{fullWidth:!0,id:"address-email",name:"email",label:"Email",type:"email",value:k.email,onChange:Ye,onBlur:()=>Qe("email"),error:!!Je("email"),helperText:Je("email"),required:!0,autoComplete:"email"})}),o.jsx(y,{item:!0,xs:12,children:o.jsx(R,{fullWidth:!0,id:"address-phone",name:"phone",label:"Phone",value:k.phone,onChange:Ye,onBlur:()=>Qe("phone"),error:!!Je("phone"),helperText:Je("phone")||"Enter 10-digit mobile number",required:!0,inputProps:{maxLength:10,pattern:"[0-9]*",inputMode:"numeric"},autoComplete:"tel"})}),o.jsx(y,{item:!0,xs:12,children:o.jsx(R,{fullWidth:!0,id:"address-street",name:"address",label:"Address",multiline:!0,rows:3,value:k.address,onChange:Ye,onBlur:()=>Qe("address"),error:!!Je("address"),helperText:Je("address"),required:!0,autoComplete:"street-address"})}),o.jsx(y,{item:!0,xs:12,sm:6,children:o.jsx(R,{fullWidth:!0,id:"address-city",name:"city",label:"City",value:k.city,onChange:Ye,onBlur:()=>Qe("city"),error:!!Je("city"),helperText:Je("city"),required:!0,autoComplete:"address-level2"})}),o.jsx(y,{item:!0,xs:12,sm:6,children:o.jsx(R,{fullWidth:!0,id:"address-state",name:"state",label:"State",value:k.state,onChange:Ye,onBlur:()=>Qe("state"),error:!!Je("state"),helperText:Je("state"),required:!0,autoComplete:"address-level1"})}),o.jsx(y,{item:!0,xs:12,sm:6,children:o.jsx(R,{fullWidth:!0,id:"address-pincode",name:"pincode",label:"PIN Code",value:k.pincode,onChange:Ye,onBlur:()=>Qe("pincode"),error:!!Je("pincode"),helperText:Je("pincode")||"Enter 6-digit PIN code",required:!0,inputProps:{maxLength:6,pattern:"[0-9]*",inputMode:"numeric"},autoComplete:"postal-code"})}),o.jsx(y,{item:!0,xs:12,sm:6,children:o.jsx(R,{fullWidth:!0,id:"address-country",name:"country",label:"Country",value:k.country,onChange:Ye,disabled:!0,required:!0,autoComplete:"country"})})]}),Be&&o.jsx(p,{sx:{mt:3,p:2,bgcolor:"info.light",borderRadius:1},children:o.jsx(v,{variant:"body2",color:"info.dark",children:" Tip: Create an account to save your address and track your orders easily."})})]}),et=i.reduce(((e,t)=>e+t.price*t.quantity),0),tt=et-d;return i&&0!==i.length?o.jsxs(o.Fragment,{children:[o.jsx(Vp,{}),o.jsxs(h,{maxWidth:"lg",sx:{mt:4,mb:4},children:[o.jsxs(p,{sx:{mb:3,display:"flex",alignItems:"center",gap:2},children:[o.jsx(f,{onClick:()=>n(-1),children:o.jsx(Kp,{})}),o.jsx(v,{variant:"h4",component:"h1",sx:{fontFamily:"Playfair Display, serif"},children:"Checkout"})]}),M&&o.jsx(H,{severity:"error",sx:{mb:3},children:M}),o.jsxs(y,{container:!0,spacing:3,children:[o.jsx(y,{item:!0,xs:12,md:6,children:o.jsxs(V,{sx:{p:3},children:[o.jsx(v,{variant:"h6",sx:{mb:2,fontFamily:"Playfair Display, serif"},children:"Order Summary"}),o.jsxs(p,{sx:{mb:3},children:[o.jsx(v,{variant:"subtitle1",sx:{mb:1,fontFamily:"Montserrat, sans-serif"},children:"Available Offers"}),o.jsxs(p,{sx:{mb:2},children:[o.jsx(v,{variant:"body2",color:"text.secondary",sx:{mb:1},children:"Have a coupon code?"}),o.jsxs(p,{sx:{display:"flex",gap:1},children:[o.jsx(R,{fullWidth:!0,size:"small",placeholder:"Enter coupon code",value:$,onChange:e=>U(e.target.value),error:!!se,helperText:se,disabled:m,sx:{"& .MuiOutlinedInput-root":{"&:hover fieldset":{borderColor:"#E31C79"}}}}),o.jsx(g,{variant:"outlined",onClick:async()=>{var e;le(!0),oe(null);try{const t=null==(e=(await Fs.getSettings()).offers)?void 0:e.find((e=>e.coupon===$&&!e.isAutomatic));t&&t.discountPercentage?(c(t.discountPercentage.toString()),b(t),U(""),ni.success("Coupon applied successfully!")):(oe("Invalid coupon code"),ni.error("Invalid coupon code"))}catch(t){console.error("Error applying coupon:",t),oe("Error applying coupon"),ni.error("Error applying coupon")}finally{le(!1)}},disabled:ae||m,sx:{borderColor:"#E31C79",color:"#E31C79","&:hover":{borderColor:"#E31C79",backgroundColor:"#E31C79",color:"white"}},children:ae?o.jsx(F,{size:24}):"Apply"})]})]}),o.jsxs(p,{children:[o.jsx(v,{variant:"body2",color:"text.secondary",sx:{mb:1},children:"Automatic Offers"}),o.jsx(p,{sx:{display:"flex",flexDirection:"column",gap:1},children:ce.filter((e=>e.isAutomatic)).map(((e,t)=>{const{minOrderValue:n,minItems:r,applicableCategories:s,applicableProducts:a}=e.automaticSettings||{},l=[];n&&l.push(`Order value  ${n}`),r&&l.push(`${r}+ items`),(null==s?void 0:s.length)&&l.push("Selected categories"),(null==a?void 0:a.length)&&l.push("Selected products");const c=(null==x?void 0:x.label)===e.label;return i.reduce(((e,t)=>e+t.price*t.quantity),0),i.reduce(((e,t)=>e+t.quantity),0),o.jsxs(V,{sx:{p:2,border:c?"2px solid #E31C79":"1px solid #e0e0e0",backgroundColor:c?"rgba(227, 28, 121, 0.05)":"white",transition:"all 0.3s ease","&:hover":{boxShadow:"0 2px 8px rgba(0,0,0,0.1)"}},children:[o.jsxs(p,{sx:{display:"flex",justifyContent:"space-between",alignItems:"flex-start"},children:[o.jsxs(p,{children:[o.jsx(v,{variant:"subtitle2",sx:{fontWeight:600},children:e.label}),o.jsx(v,{variant:"body2",color:"text.secondary",children:e.description}),o.jsx(v,{variant:"caption",color:"text.secondary",sx:{display:"block",mt:.5},children:l.join("  ")})]}),o.jsxs(v,{variant:"subtitle2",color:c?"success.main":"text.secondary",sx:{fontWeight:600},children:[e.discountPercentage,"% OFF"]})]}),c&&o.jsxs(v,{variant:"caption",color:"success.main",sx:{display:"block",mt:1},children:["Applied! You saved ",d.toLocaleString()]})]},t)}))})]})]}),o.jsx(Y,{children:o.jsxs(G,{children:[o.jsx(X,{children:o.jsxs(K,{children:[o.jsx(J,{children:"Product"}),o.jsx(J,{align:"right",children:"Price"}),o.jsx(J,{align:"center",children:"Quantity"}),o.jsx(J,{align:"right",children:"Total"}),o.jsx(J,{align:"right",children:"Action"})]})}),o.jsx(Q,{children:i.map((e=>o.jsxs(K,{children:[o.jsx(J,{children:o.jsxs(p,{sx:{display:"flex",alignItems:"center",gap:2},children:[o.jsx("img",{src:mf(e.image,"products"),alt:e.name,style:{width:50,height:50,objectFit:"cover"},onError:e=>{e.currentTarget.src=mf(void 0,"products")}}),o.jsx(v,{children:e.name})]})}),o.jsx(J,{align:"right",children:o.jsxs(v,{sx:{fontFamily:"Roboto, sans-serif",fontWeight:700,color:"primary.main"},children:["",e.price.toLocaleString()]})}),o.jsx(J,{align:"center",children:o.jsxs(p,{sx:{display:"flex",alignItems:"center",justifyContent:"center",gap:1},children:[o.jsx(g,{size:"small",onClick:()=>qe(e.id,e.quantity-1),disabled:e.quantity<=1,children:"-"}),o.jsx(v,{children:e.quantity}),o.jsx(g,{size:"small",onClick:()=>qe(e.id,e.quantity+1),children:"+"})]})}),o.jsx(J,{align:"right",children:o.jsxs(v,{sx:{fontFamily:"Roboto, sans-serif",fontWeight:700,color:"primary.main"},children:["",(e.price*e.quantity).toLocaleString()]})}),o.jsx(J,{align:"right",children:o.jsx(f,{size:"small",onClick:()=>{return t=e.id,void r(t);var t},color:"error",children:o.jsx(jx,{})})})]},e.id)))})]})}),o.jsx(C,{sx:{my:2}}),o.jsxs(p,{sx:{display:"flex",flexDirection:"column",gap:1},children:[o.jsxs(p,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[o.jsx(v,{children:"Subtotal"}),o.jsxs(v,{children:["",et.toLocaleString()]})]}),m&&o.jsxs(p,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[o.jsxs(v,{color:"success.main",children:[(null==x?void 0:x.label)||"Discount"," (",u,"% off)"]}),o.jsxs(v,{color:"success.main",children:["-",d.toLocaleString()]})]}),o.jsx(C,{}),o.jsxs(p,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[o.jsx(v,{variant:"h6",children:"Total Amount"}),o.jsxs(v,{variant:"h6",sx:{fontFamily:"Roboto, sans-serif",fontWeight:700,color:"primary.main"},children:["",tt.toLocaleString()]})]})]})]})}),o.jsx(y,{item:!0,xs:12,md:6,children:o.jsxs(V,{sx:{p:3},children:[o.jsx(v,{variant:"h6",sx:{mb:2,fontFamily:"Playfair Display, serif"},children:w?"Shipping Details":"Checkout Options"}),w||Be?o.jsx(o.Fragment,{children:Be&&!w?o.jsxs(p,{sx:{maxWidth:600,mx:"auto",position:"relative"},children:[o.jsx(g,{startIcon:o.jsx(Kp,{}),onClick:()=>We(!1),sx:{position:"absolute",top:-40,left:0,color:"#E31C79",mb:3},children:"Back to Login"}),o.jsx(v,{variant:"h6",sx:{mb:3,mt:4,textAlign:"center",fontFamily:"Playfair Display, serif"},children:"Guest Checkout"}),o.jsx(v,{variant:"body2",color:"text.secondary",sx:{mb:4,textAlign:"center"},children:"Please fill in your shipping details to continue"}),Ze()]}):o.jsx(o.Fragment,{children:me?o.jsx(p,{display:"flex",justifyContent:"center",my:3,children:o.jsx(F,{})}):o.jsxs(o.Fragment,{children:[j?o.jsx(p,{sx:{mb:3},children:o.jsxs(ee,{component:"fieldset",children:[o.jsx(te,{component:"legend",sx:{mb:2,color:"text.primary"},children:"Select Delivery Address"}),o.jsxs(ne,{value:pe?"new":he,onChange:t=>{const n=t.target.value;if("new"===n)fe(!0),ue(""),E({fullName:j.name||"",email:j.email||"",phone:j.phone||"",address:"",city:"",state:"",pincode:"",country:"India"});else{fe(!1),ue(n);const t=[...e,...xe].find((e=>"object"==typeof e&&e.id===n));t&&E({fullName:t.fullName||j.name||"",email:t.email||j.email||"",phone:t.phone||j.phone||"",address:t.address||"",city:t.city||"",state:t.state||"",pincode:t.pincode||"",country:t.country||"India"})}},children:[o.jsx(ie,{value:"new",control:o.jsx(re,{}),label:o.jsx(v,{sx:{fontWeight:pe?600:400},children:"Add New Address"})}),e.length>0&&o.jsxs(p,{sx:{mt:2},children:[o.jsx(v,{variant:"subtitle1",sx:{fontWeight:"bold",mb:1},children:"Saved Addresses"}),e.map((e=>o.jsx(ie,{value:e,control:o.jsx(re,{}),label:o.jsx(p,{children:o.jsx(v,{variant:"body1",children:e})})},e)))]}),xe.length>0&&o.jsxs(p,{sx:{mt:2},children:[o.jsx(v,{variant:"subtitle1",sx:{fontWeight:"bold",mb:1},children:"Previously Used Addresses"}),xe.map((e=>o.jsx(ie,{value:e.id,control:o.jsx(re,{}),label:o.jsxs(p,{children:[o.jsx(v,{variant:"body1",sx:{fontWeight:he===e.id?600:400},children:e.fullName}),o.jsxs(v,{variant:"body2",color:"text.secondary",children:[e.address,", ",e.city,", ",e.state," ",e.pincode]}),o.jsx(v,{variant:"body2",color:"text.secondary",children:e.phone})]})},e.id)))]})]})]})}):null,pe&&Ze()]})})}):o.jsxs(p,{sx:{p:4,mb:4,borderRadius:2,maxWidth:400,mx:"auto"},children:[o.jsx(g,{fullWidth:!0,variant:"contained",onClick:()=>We(!0),sx:{mb:2,py:1.5,background:"linear-gradient(45deg, #FF4D4D 30%, #FF8E53 90%)","&:hover":{background:"linear-gradient(45deg, #FF8E53 30%, #FF4D4D 90%)"}},children:"Continue as Guest"}),o.jsxs(p,{sx:{mt:2,mb:3},children:[o.jsx(v,{variant:"body2",color:"text.secondary",align:"center",children:"Guest checkout allows you to:"}),o.jsxs(p,{component:"ul",sx:{mt:1,pl:2},children:[o.jsx(v,{component:"li",variant:"body2",color:"text.secondary",children:"Complete your purchase without creating an account"}),o.jsx(v,{component:"li",variant:"body2",color:"text.secondary",children:"Receive order confirmation via email"}),o.jsx(v,{component:"li",variant:"body2",color:"text.secondary",children:"Track your order with order ID"})]})]}),o.jsx(C,{sx:{my:3},children:o.jsx(v,{variant:"body2",color:"text.secondary",children:"OR"})}),o.jsx(v,{variant:"h5",component:"h2",gutterBottom:!0,align:"center",sx:{mb:3,fontWeight:600,background:"linear-gradient(45deg, #E31C79 30%, #FF4D4D 90%)",backgroundClip:"text",textFillColor:"transparent"},children:"Login for Faster Checkout"}),Se&&o.jsx(H,{severity:"error",sx:{mb:2},children:Se}),o.jsxs("form",{onSubmit:Xe,children:[o.jsx(R,{fullWidth:!0,label:"Email",name:"email",type:"email",value:ve.email,onChange:Ke,margin:"normal",required:!0,InputProps:{startAdornment:o.jsx(q,{position:"start",children:o.jsx(nx,{color:"action"})})},sx:{"& .MuiOutlinedInput-root":{"&:hover fieldset":{borderColor:"#E31C79"},"&.Mui-focused fieldset":{borderColor:"#E31C79"}},"& .MuiInputLabel-root.Mui-focused":{color:"#E31C79"}}}),o.jsx(R,{fullWidth:!0,label:"Password",name:"password",type:_e?"text":"password",value:ve.password,onChange:Ke,margin:"normal",required:!0,InputProps:{endAdornment:o.jsx(q,{position:"end",children:o.jsx(f,{"aria-label":"toggle password visibility",onClick:()=>ke(!_e),edge:"end",children:_e?o.jsx(qg,{}):o.jsx(Ng,{})})})},sx:{"& .MuiOutlinedInput-root":{"&:hover fieldset":{borderColor:"#E31C79"},"&.Mui-focused fieldset":{borderColor:"#E31C79"}},"& .MuiInputLabel-root.Mui-focused":{color:"#E31C79"}}}),o.jsx(g,{type:"submit",fullWidth:!0,variant:"contained",disabled:je||!ve.email||!ve.password,sx:{mt:3,mb:2,py:1.5,background:"linear-gradient(45deg, #E31C79 30%, #FF4D4D 90%)","&:hover":{background:"linear-gradient(45deg, #FF4D4D 30%, #E31C79 90%)"},"&.Mui-disabled":{background:"#f5f5f5",color:"rgba(0, 0, 0, 0.26)"}},children:je?o.jsx(F,{size:24,color:"inherit"}):"Login"})]}),o.jsx(p,{sx:{textAlign:"center"},children:o.jsxs(v,{variant:"body2",color:"text.secondary",children:["Don't have an account?"," ",o.jsx(Z,{component:Tt,to:"/signup",sx:{color:"#E31C79",textDecoration:"none","&:hover":{textDecoration:"underline"}},children:"Sign up"})]})})]})]})})]}),o.jsx(p,{sx:{mt:3,display:"flex",justifyContent:"flex-end",gap:2},children:o.jsx(g,{variant:"contained",size:"large",startIcon:o.jsx(kx,{}),onClick:async()=>{var e,t,r;try{if(O(!0),A(null),!(k.fullName&&k.email&&k.phone&&k.address))return void ni.error("Please fill in all required shipping information.");let t;try{const n=await ps.get(`${Ds}/api/settings`);if(t=null==(e=n.data.payment)?void 0:e.razorpayKeyId,!t)throw new Error("Razorpay key not found")}catch(s){return console.error("Failed to get payment settings:",s),void A("Unable to initialize payment gateway. Please try again later.")}const r=`order_${Date.now()}_${Math.random().toString(36).substring(2,15)}`,o={userId:w?localStorage.getItem("customerId"):void 0,customerId:w?localStorage.getItem("customerId"):void 0,orderId:r,items:i.map((e=>({id:e.id,name:e.name,image:e.image,quantity:e.quantity,price:e.price}))),total:a,shippingAddress:{fullName:k.fullName,email:k.email,phone:k.phone,address:k.address,city:k.city,state:k.state,pincode:k.pincode,country:k.country},status:"pending",paymentStatus:"pending",isGuestOrder:!w,guestDetails:w?void 0:{email:k.email,phone:k.phone,name:k.fullName},orderDate:(new Date).toISOString()},c=await xx(o);console.log("Order created:",c.data),localStorage.setItem("lastOrderId",r),localStorage.setItem("lastOrderItems",JSON.stringify(i)),localStorage.setItem("lastOrderAmount",a.toString()),localStorage.setItem("lastOrderCustomer",JSON.stringify(k)),localStorage.setItem("lastOrderDate",(new Date).toISOString());const d={key:t,amount:Math.round(100*a),currency:"INR",name:"Sathyabhama Silks",description:"Purchase from Sathyabhama Silks",order_id:c.data.razorpayOrderId,handler:async function(e){try{console.log("Payment success:",e);const i=e.razorpay_payment_id,s={razorpay_payment_id:i,razorpay_order_id:c.data.razorpayOrderId,razorpay_signature:e.razorpay_signature||"test_signature",orderId:r};try{const e=await yx(s);if(console.log("Payment verified:",e),!e.order)throw new Error("Payment verification failed");l(),localStorage.removeItem("cart"),ni.success("Payment successful! Order has been placed."),e.emailStatus&&(e.emailStatus.success?ni.success("Order confirmation emails sent successfully!"):ni.warning("Order placed successfully, but there was an issue sending confirmation emails. Our team will contact you shortly.")),n(`/order-confirmation/${r}`,{state:{order:e.order,paymentId:i,emailStatus:e.emailStatus}})}catch(t){console.error("Payment verification error:",t),Ge(t,r)}}catch(s){console.error("Payment completion error:",s),Ge(s,r)}},prefill:{name:k.fullName,email:k.email,contact:k.phone},notes:{orderId:r,shippingAddress:JSON.stringify({address:k.address,city:k.city,state:k.state,pincode:k.pincode,country:k.country})},theme:{color:"#E31C79"},modal:{ondismiss:function(){console.log("Payment modal dismissed"),Ge(new Error("Payment was cancelled"),r)}}},h=new window.Razorpay(d);h.on("payment.failed",(function(e){var t;console.error("Payment failed:",e.error),Ge(new Error((null==(t=e.error)?void 0:t.description)||"Payment failed"),r)})),h.on("payment.error",(function(e){var t;console.error("Payment error:",e),Ge(new Error((null==(t=e.error)?void 0:t.description)||"Payment error occurred"),r)})),h.open()}catch(s){console.error("Checkout error:",s);const e=(null==(r=null==(t=s.response)?void 0:t.data)?void 0:r.message)||s.message||"Checkout failed";A(e),ni.error(e)}finally{O(!1)}},disabled:P||0===i.length||!w&&!Be,sx:{background:"linear-gradient(45deg, #E31C79 30%, #FF4D4D 90%)","&:hover":{background:"linear-gradient(45deg, #FF4D4D 30%, #E31C79 90%)"},minWidth:200},children:P?o.jsx(F,{size:24,color:"inherit"}):"Pay Now"})}),i.length<4&&Ie.length>0&&o.jsxs(p,{sx:{mt:8,width:"100%",py:6,px:2,background:"linear-gradient(135deg, rgba(255, 240, 245, 0.5) 0%, rgba(255, 250, 250, 0.8) 100%)",borderRadius:2,position:"relative","&::before":{content:'""',position:"absolute",top:0,left:0,right:0,height:"1px",background:"linear-gradient(90deg, transparent, rgba(227, 28, 121, 0.3), transparent)"},"&::after":{content:'""',position:"absolute",bottom:0,left:0,right:0,height:"1px",background:"linear-gradient(90deg, transparent, rgba(227, 28, 121, 0.3), transparent)"}},children:[o.jsx(v,{variant:"h5",sx:{mb:6,fontFamily:"Playfair Display, serif",textAlign:"center",position:"relative",color:"#E31C79","&::after":{content:'""',position:"absolute",bottom:"-12px",left:"50%",transform:"translateX(-50%)",width:"80px",height:"3px",background:"linear-gradient(90deg, transparent, #E31C79, transparent)"}},children:"You May Also Like"}),o.jsx(y,{container:!0,spacing:4,children:Ie.map((e=>o.jsx(y,{item:!0,xs:6,sm:6,md:3,children:o.jsxs(V,{elevation:0,sx:{p:2,height:"100%",display:"flex",flexDirection:"column",cursor:"pointer",border:"1px solid",borderColor:"divider",borderRadius:2,transition:"all 0.4s ease",background:"white","&:hover":{transform:"translateY(-8px)",boxShadow:"0 12px 28px rgba(227, 28, 121, 0.15)",borderColor:"transparent",background:"linear-gradient(135deg, #fff 0%, #fff5f7 100%)","& img":{transform:"scale(1.05)"}}},onClick:()=>n(`/product/${e.id}`),children:[o.jsx(p,{sx:{position:"relative",paddingTop:"100%",mb:2,borderRadius:1,overflow:"hidden",boxShadow:"0 4px 12px rgba(0,0,0,0.05)"},children:o.jsx("img",{src:mf(e.images[0],"products"),alt:e.name,style:{position:"absolute",top:0,left:0,width:"100%",height:"100%",objectFit:"cover",transition:"transform 0.4s ease"}})}),o.jsx(v,{variant:"subtitle1",sx:{mb:1,fontFamily:"Playfair Display, serif",overflow:"hidden",textOverflow:"ellipsis",display:"-webkit-box",WebkitLineClamp:2,WebkitBoxOrient:"vertical",minHeight:"3em",color:"#333",fontWeight:500},children:e.name}),o.jsxs(v,{variant:"h6",sx:{color:"#E31C79",fontFamily:"Roboto, sans-serif",fontWeight:700,mt:"auto",textAlign:"right"},children:["",e.price.toLocaleString()]})]})},e.id)))})]})]})]}):o.jsx(h,{children:o.jsxs(p,{sx:{textAlign:"center",py:8,minHeight:"calc(100vh - 200px)",display:"flex",flexDirection:"column",justifyContent:"center"},children:[o.jsx(v,{variant:"h5",gutterBottom:!0,children:"Your cart is empty"}),o.jsx(g,{variant:"contained",color:"primary",onClick:()=>n("/products"),sx:{mt:2,alignSelf:"center"},children:"Continue Shopping"})]})})},Mx=e=>o.jsxs(se,{...e,viewBox:"0 0 24 24",children:[o.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z",fill:"#E31C79"}),o.jsx("path",{d:"M12 6c-3.31 0-6 2.69-6 6s2.69 6 6 6 6-2.69 6-6-2.69-6-6-6zm0 10c-2.21 0-4-1.79-4-4s1.79-4 4-4 4 1.79 4 4-1.79 4-4 4z",fill:"#E31C79"}),o.jsx("path",{d:"M12 8c-2.21 0-4 1.79-4 4s1.79 4 4 4 4-1.79 4-4-1.79-4-4-4zm0 6c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2z",fill:"#E31C79"}),o.jsx("path",{d:"M12 10c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0 2c0 .55-.45 1-1 1s-1-.45-1-1 .45-1 1-1 1 .45 1 1z",fill:"#E31C79"}),o.jsx("path",{d:"M12 12c0 .55-.45 1-1 1s-1-.45-1-1 .45-1 1-1 1 .45 1 1z",fill:"#E31C79"})]}),Ax=({src:e,alt:t,type:n="products",defaultImage:i="placeholder.jpg",...r})=>{const s=Ot.useRef(0),[a,l]=Ot.useState((()=>e.startsWith("http")?e:mf(e,n,i)));return o.jsx(p,{component:"img",src:a,alt:t,onError:()=>{s.current+=1,s.current>3?l(mf(void 0,n,i)):a.endsWith(".jpg")?l(a.replace(/\.jpg$/,".jpeg")):a.endsWith(".jpeg")?l(a.replace(/\.jpeg$/,".jpg")):a.includes(`${n}/images`)?l(a.replace(`${n}/images`,`images/${n}`)):a.includes("/products//images/categories/")?l(a.replace("/products//images/categories/","/images/categories/")):l(mf(void 0,n,i))},...r})},Tx=({src:e})=>{const t=Ot.useRef(null),[n,i]=Ot.useState(null),[r,s]=Ot.useState(!0);Ot.useEffect((()=>{t.current&&(t.current.load(),i(null),s(!0))}),[e]);return n?o.jsx(p,{sx:{p:2,bgcolor:"error.light",color:"error.contrastText",borderRadius:1,mb:2,display:"flex",alignItems:"center",justifyContent:"center",minHeight:"200px"},children:o.jsx(v,{children:n})}):o.jsxs(p,{sx:{width:"100%",position:"relative",minHeight:"200px"},children:[r&&o.jsx(p,{sx:{position:"absolute",top:0,left:0,right:0,bottom:0,display:"flex",alignItems:"center",justifyContent:"center",bgcolor:"background.paper"},children:o.jsx(v,{children:"Loading video..."})}),o.jsxs("video",{ref:t,controls:!0,playsInline:!0,preload:"metadata",style:{width:"100%",maxHeight:"500px",objectFit:"contain",display:r?"none":"block"},onError:e=>{console.error("Video error:",e),e.target,i("Error loading video. Please try again later."),s(!1)},onLoadedData:()=>{s(!1),i(null)},children:[o.jsx("source",{src:e,type:"video/mp4"}),o.jsx("source",{src:e.replace(".mp4",".webm"),type:"video/webm"}),"Your browser does not support the video tag."]})]})},Ix=e=>{if(!e)return"";if(e.startsWith("http"))return e;const t=e.replace(/^[\/]*(videos|images)\/products\//,""),n=/\.(mp4|webm|mov)$/i.test(t),i=`${Rs}/${n?"videos":"images"}/products/${t}`;return console.log("Generated media URL:",i),i},Dx=()=>{const{productId:e}=It(),[t,n]=Ot.useState(null),[i,r]=Ot.useState([]),[s,a]=Ot.useState(!0),[l,c]=Ot.useState(null),{addItem:d,removeItem:u,getItemQuantity:m}=Ws(),[x,b]=Ot.useState(null),[j,w]=Ot.useState(1),[S,C]=Ot.useState([]);Ot.useEffect((()=>{e&&(async()=>{try{const[t,i,s]=await Promise.all([Sm(e),wm(),Fs.getSettings()]);console.log("Product images:",t.images),n(t),r(i),C(s.offers||[]),b(t.images[0]||null),window.scrollTo({top:0,behavior:"smooth"})}catch(t){c("Failed to fetch product details"),console.error("Error fetching product:",t)}finally{a(!1)}})()}),[e]),Ot.useEffect((()=>{console.log("Selected image index changed to:",x)}),[x]);const _=e=>{w("increase"===e?e=>e+1:e=>Math.max(1,e-1))};return s?o.jsx(h,{sx:{py:8,textAlign:"center"},children:o.jsx(v,{children:"Loading..."})}):l||!t?o.jsx(h,{sx:{py:8,textAlign:"center"},children:o.jsx(v,{color:"error",children:l||"Product not found"})}):o.jsx(P,{in:!0,children:o.jsxs(p,{sx:{width:"100%",py:4,mt:8},children:[o.jsx(h,{maxWidth:!1,sx:{px:{xs:2,sm:4,md:6,lg:8}},children:o.jsxs(y,{container:!0,spacing:4,children:[o.jsx(y,{item:!0,xs:12,md:6,children:o.jsxs(p,{sx:{position:"relative"},children:[o.jsx(V,{elevation:3,sx:{overflow:"hidden",borderRadius:2,mb:2,aspectRatio:"3/4"},children:x&&o.jsx(p,{sx:{mb:2},children:(e=>{const n=/\.(mp4|webm|mov)$/i.test(e),i=Ix(e);return n?o.jsx(Tx,{src:i}):o.jsx("img",{src:i,alt:(null==t?void 0:t.name)||"Product image",style:{width:"100%",height:"auto",objectFit:"contain"},onError:e=>{e.target.src=`${Rs}/images/products/placeholder.jpg`}})})(x)})}),o.jsx(y,{container:!0,spacing:1,children:[...t.images||[],...t.videos||[]].map(((e,n)=>o.jsx(y,{item:!0,xs:3,children:o.jsx(V,{elevation:2,sx:{cursor:"pointer",border:x===e?"2px solid #E31C79":"none",borderRadius:1,overflow:"hidden",aspectRatio:"1/1",position:"relative"},onClick:()=>{b(e)},children:/\.(mp4|webm|mov)$/i.test(e)?o.jsxs(o.Fragment,{children:[o.jsx(p,{component:"video",src:Ix(e),sx:{position:"absolute",top:0,left:0,width:"100%",height:"100%",objectFit:"cover"}}),o.jsx(p,{sx:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",bgcolor:"rgba(0,0,0,0.5)",borderRadius:"50%",width:24,height:24,display:"flex",alignItems:"center",justifyContent:"center"},children:o.jsx(oe,{sx:{color:"white",fontSize:16}})})]}):o.jsx(Ax,{src:Ix(e),alt:`${t.name} ${n+1}`,type:"products",sx:{width:"100%",height:"100%",objectFit:"contain",display:"block",backgroundColor:"#f5f5f5"}})})},n)))},`thumbnails-${t.id}`)]})}),o.jsxs(y,{item:!0,xs:12,md:6,children:[o.jsx(v,{variant:"h4",sx:{fontFamily:"Playfair Display",mb:1,textAlign:"left",color:"text.primary"},children:t.name}),o.jsxs(p,{sx:{display:"flex",alignItems:"center",gap:2,mb:2},children:[o.jsx(M,{label:t.stock>0?`In Stock (${t.stock})`:"Out of Stock",color:t.stock>0?"success":"error",size:"medium"}),o.jsx(I,{value:t.rating,precision:.5,readOnly:!0,size:"small"})]}),o.jsx(p,{sx:{textAlign:"left",mb:2},children:o.jsxs(v,{variant:"h5",sx:{fontWeight:700,fontFamily:"Roboto, sans-serif",color:"primary.main"},children:["",t.price.toLocaleString()]})}),o.jsx(v,{variant:"body1",color:"text.secondary",sx:{mb:3,textAlign:"left"},children:t.description}),o.jsxs(V,{elevation:0,sx:{p:3,mb:3,border:"1px solid",borderColor:"divider",borderRadius:2,textAlign:"left"},children:[o.jsx(v,{variant:"h6",sx:{mb:2,fontWeight:600},children:"Product Specifications"}),o.jsxs(y,{container:!0,spacing:2,sx:{textAlign:"left"},children:[o.jsx(y,{item:!0,xs:6,children:o.jsxs(ae,{spacing:2,children:[o.jsxs(p,{children:[o.jsx(v,{variant:"subtitle2",color:"text.secondary",gutterBottom:!0,children:"Material"}),o.jsxs(p,{sx:{display:"flex",alignItems:"center",gap:1},children:[o.jsx(le,{sx:{fontSize:16,color:"success.main"}}),o.jsx(v,{variant:"body1",children:t.specifications.material})]})]}),o.jsxs(p,{children:[o.jsx(v,{variant:"subtitle2",color:"text.secondary",gutterBottom:!0,children:"Work"}),o.jsx(v,{variant:"body1",children:t.specifications.work})]})]})}),o.jsx(y,{item:!0,xs:6,children:o.jsxs(ae,{spacing:2,children:[o.jsxs(p,{children:[o.jsx(v,{variant:"subtitle2",color:"text.secondary",gutterBottom:!0,children:"Length"}),o.jsx(v,{variant:"body1",children:t.specifications.length})]}),o.jsxs(p,{children:[o.jsx(v,{variant:"subtitle2",color:"text.secondary",gutterBottom:!0,children:"Origin"}),o.jsx(v,{variant:"body1",children:t.specifications.origin})]})]})})]})]}),o.jsxs(p,{sx:{display:"flex",alignItems:"left",justifyContent:"left",gap:2,mb:2},children:[o.jsx(v,{variant:"subtitle1",sx:{fontWeight:500},children:"Quantity:"}),o.jsxs(p,{sx:{display:"flex",alignItems:"center",borderRadius:"8px",overflow:"hidden",background:"linear-gradient(45deg, #E31C79 30%, #FF4D4D 90%)",p:"2px"},children:[o.jsx(f,{onClick:()=>_("decrease"),sx:{bgcolor:"white",borderRadius:"6px","&:hover":{bgcolor:"#f5f5f5"},height:"36px",width:"36px"},children:o.jsx(ce,{sx:{color:"#E31C79"}})}),o.jsx(v,{sx:{px:3,color:"white",fontWeight:600,minWidth:"40px",textAlign:"center"},children:j}),o.jsx(f,{onClick:()=>_("increase"),sx:{bgcolor:"white",borderRadius:"6px","&:hover":{bgcolor:"#f5f5f5"},height:"36px",width:"36px"},children:o.jsx(de,{sx:{color:"#E31C79"}})})]})]}),o.jsx(g,{variant:"contained",fullWidth:!0,size:"large",onClick:()=>{if(t){const e={id:t.id,name:t.name,price:t.price,images:t.images,image:t.images[0],categoryId:t.categoryId,sku:t.sku,stock:t.stock,quantity:j,featured:t.featured,trending:t.trending,description:t.description,rating:t.rating,specifications:t.specifications};d(e)}},disabled:0===t.stock,sx:{height:"56px",borderRadius:"8px",textTransform:"none",fontSize:"1.1rem",fontWeight:600,background:"linear-gradient(45deg, #E31C79 30%, #FF4D4D 90%)",boxShadow:"0 4px 12px rgba(227,28,121,0.3)",mb:4,"&:hover":{background:"linear-gradient(45deg, #FF4D4D 30%, #E31C79 90%)",transform:"translateY(-2px)",boxShadow:"0 6px 16px rgba(227,28,121,0.4)"},transition:"all 0.3s ease"},children:"Add to Cart"}),o.jsx(y,{container:!0,spacing:2,sx:{mb:4},children:[{icon:o.jsx(he,{}),title:"Free Express Shipping",text:"On orders above 999"},{icon:o.jsx(ue,{}),title:"Secure Payment",text:"100% secure payment"},{icon:o.jsx(Mx,{}),title:"Customisation",text:"Customise your order"},{icon:o.jsx(le,{}),title:"Genuine Product",text:"100% authentic"}].map(((e,t)=>o.jsx(y,{item:!0,xs:6,children:o.jsxs(V,{elevation:0,sx:{p:1.5,height:"100%",display:"flex",alignItems:"center",gap:1.5,border:"1px solid",borderColor:"divider",borderRadius:2,transition:"all 0.3s ease","&:hover":{borderColor:"primary.main",transform:"translateY(-2px)"}},children:[Mt.cloneElement(e.icon,{sx:{color:"primary.main",fontSize:24}}),o.jsxs(p,{children:[o.jsx(v,{variant:"subtitle2",sx:{fontWeight:600,fontSize:"0.875rem"},children:e.title}),o.jsx(v,{variant:"caption",color:"text.secondary",display:"block",children:e.text})]})]})},t)))}),o.jsxs(V,{elevation:0,sx:{p:2,mb:4,bgcolor:"#FFF5F9",border:"1px dashed #E31C79",borderRadius:2},children:[o.jsx(v,{variant:"subtitle1",sx:{mb:2,fontWeight:600,color:"primary.main"},children:"Special Offers"}),o.jsx(ae,{spacing:1.5,children:S.map(((e,t)=>o.jsxs(p,{sx:{display:"flex",alignItems:"left",gap:2,p:1.5,bgcolor:"white",borderRadius:1,border:"1px solid",borderColor:"divider",textAlign:"left"},children:[o.jsx(pe,{sx:{color:"primary.main"}}),o.jsxs(p,{children:[o.jsx(v,{variant:"body2",sx:{fontWeight:500},children:e.label}),e.coupon&&o.jsx(M,{label:e.coupon,size:"small",sx:{mt:.5,textAlign:"left",bgcolor:"primary.main",color:"white","& .MuiChip-label":{px:1}}}),e.description&&o.jsx(v,{variant:"caption",color:"text.secondary",children:e.description}),e.discountPercentage&&o.jsxs(v,{variant:"caption",color:"primary.main",sx:{display:"block",mt:.5},children:[e.discountPercentage,"% OFF"]})]})]},t)))})]})]})]})}),o.jsx(p,{sx:{mt:8,width:"100%"},children:o.jsxs(h,{maxWidth:!1,sx:{px:{xs:2,sm:4,md:6,lg:8}},children:[o.jsx(v,{variant:"h6",sx:{mb:3,textAlign:"center",position:"relative","&::after":{content:'""',position:"absolute",bottom:"-8px",left:"50%",transform:"translateX(-50%)",width:"60px",height:"2px",bgcolor:"primary.main"}},children:"You May Also Like"}),o.jsx(p,{sx:{mt:4},children:o.jsx(mg,{isVisible:!0,onAddToCart:e=>{const t={id:e.id,name:e.name,price:e.price,images:e.images,image:e.images[0],categoryId:e.categoryId,sku:e.sku,stock:e.stock,quantity:1,featured:e.featured,trending:e.trending,description:e.description,rating:e.rating,specifications:e.specifications};d(t)}})})]})})]})})},Rx=()=>{const[e,t]=Ot.useState(null);return Ot.useEffect((()=>{(async()=>{try{const e=await ps.get(`${Ds}/api/settings`);t(e.data.store)}catch(e){console.error("Error fetching settings:",e)}})()}),[]),o.jsx(p,{component:"footer",sx:{bgcolor:"#1a1f36",color:"white",py:6,position:"relative",bottom:0,width:"100%"},children:o.jsxs(h,{maxWidth:"lg",children:[o.jsxs(y,{container:!0,spacing:4,children:[o.jsx(y,{item:!0,xs:12,md:4,children:o.jsxs(p,{children:[o.jsx(v,{variant:"h6",gutterBottom:!0,sx:{fontFamily:"Playfair Display, serif",color:"#E31C79"},children:(null==e?void 0:e.name)||"Your Store Name"}),o.jsx(v,{variant:"body2",paragraph:!0,children:(null==e?void 0:e.address)||"Your Store Address"}),o.jsxs(v,{variant:"body2",paragraph:!0,children:["Phone: ",(null==e?void 0:e.phone)||"Your Phone Number"]}),o.jsxs(v,{variant:"body2",paragraph:!0,children:["Email: ",(null==e?void 0:e.email)||"your@email.com"]}),o.jsxs(p,{sx:{mt:2,display:"flex",gap:1},children:[o.jsx(f,{href:"https://www.instagram.com/sreesathyabhamasilks/",target:"_blank",rel:"noopener noreferrer",sx:{color:"#E31C79","&:hover":{transform:"scale(1.1)",transition:"transform 0.3s ease"}},children:o.jsx(jf,{})}),o.jsx(f,{href:"https://www.facebook.com/sathyabhmasilks/",target:"_blank",rel:"noopener noreferrer",sx:{color:"#1877F2","&:hover":{transform:"scale(1.1)",transition:"transform 0.3s ease"}},children:o.jsx(Ef,{})})]})]})}),o.jsx(y,{item:!0,xs:12,md:4,children:o.jsxs(p,{children:[o.jsx(v,{variant:"h6",gutterBottom:!0,sx:{fontFamily:"Playfair Display, serif",color:"#E31C79"},children:"Quick Links"}),o.jsx(p,{sx:{display:"flex",flexDirection:"column",gap:1},children:["Home","Products","About Us","Contact Us"].map((e=>o.jsx(Z,{component:Tt,to:"Home"===e?"/":"About Us"===e?"/about":"Contact Us"===e?"/contact":`/${e.toLowerCase().replace(" ","-")}`,color:"inherit",underline:"none",sx:{transition:"color 0.3s ease","&:hover":{color:"#E31C79"}},children:e},e)))})]})}),o.jsx(y,{item:!0,xs:12,md:4,children:o.jsxs(p,{children:[o.jsx(v,{variant:"h6",gutterBottom:!0,sx:{fontFamily:"Playfair Display, serif",color:"#E31C79"},children:"Policy Pages"}),o.jsx(p,{sx:{display:"flex",flexDirection:"column",gap:1},children:[{text:"Privacy Policy",path:"/privacy"},{text:"Terms of Service",path:"/terms"},{text:"Shipping Policy",path:"/shipping-policy"},{text:"Refund Policy",path:"/refund-policy"}].map((e=>o.jsx(Z,{component:Tt,to:e.path,color:"inherit",underline:"none",sx:{transition:"color 0.3s ease","&:hover":{color:"#E31C79"}},children:e.text},e.text)))})]})})]}),o.jsx(p,{sx:{mt:4,pt:2,borderTop:"1px solid rgba(255,255,255,0.1)",textAlign:"center"},children:o.jsxs(v,{variant:"body2",children:[" ",(new Date).getFullYear()," ",(null==e?void 0:e.name)||"Your Store Name",". All rights reserved."]})})]})})},Fx=()=>{const e=l(),t=c(e.breakpoints.down("md")),n=At(),i=Dt(),{addItem:r}=Ws(),[s,a]=Ot.useState([]),[d,u]=Ot.useState([]),[m,x]=Ot.useState([]),[b,j]=Ot.useState(!t),[S,_]=Ot.useState({priceRange:[0,0],category:"",sortBy:"newest",specialOffer:!1,trending:!1,inStock:!1,material:"",work:""}),[k,E]=Ot.useState(!0),[P,O]=Ot.useState(null);Ot.useEffect((()=>{!async function(){try{E(!0),O(null);const e=await(async()=>{try{return function(e){var t;return{success:!0,data:e.data,message:null==(t=e.data)?void 0:t.message}}(await gm.get("/products"))}catch(P){return function(e){var t,n;return{success:!1,data:null,error:(null==(n=null==(t=null==e?void 0:e.response)?void 0:t.data)?void 0:n.message)||e.message}}(P)}})();if(e.success){const t=e.data.map((e=>({...e,rating:e.rating||0,stock:e.stock||0,images:e.images||[],reviews:e.reviews||[],specifications:e.specifications||{},featured:e.featured||!1})));a(t);const n=Math.max(...t.map((e=>e.price))),i=Math.min(...t.map((e=>e.price)));_((e=>({...e,priceRange:[i,n]})))}else O(e.error||"Failed to fetch products")}catch(e){O("An error occurred while fetching products"),console.error("Product fetch error:",e)}finally{E(!1)}}(),M()}),[]),Ot.useEffect((()=>{const e=i.state;if(e){if(e.category&&_((t=>({...t,category:e.category}))),e.filter)switch(e.filter){case"trending":_((e=>({...e,trending:!0})));break;case"specialOffer":_((e=>({...e,specialOffer:!0})))}n(i.pathname,{replace:!0})}}),[i.state,n]),Ot.useEffect((()=>{A()}),[S,s]);const M=async()=>{try{const e=await Tm();x(e)}catch(e){console.error("Error fetching categories:",e)}},A=()=>{let e=[...s];if(e=e.filter((e=>e.price>=S.priceRange[0]&&e.price<=S.priceRange[1])),S.category){const t=m.find((e=>e.name===S.category));t&&(e=e.filter((e=>e.categoryId===t.id)))}switch(S.material&&(e=e.filter((e=>{var t,n,i;return(null==(n=null==(t=e.specifications)?void 0:t.material)?void 0:n.toLowerCase())===(null==(i=S.material)?void 0:i.toLowerCase())}))),S.work&&(e=e.filter((e=>{var t,n,i;return(null==(n=null==(t=e.specifications)?void 0:t.work)?void 0:n.toLowerCase())===(null==(i=S.work)?void 0:i.toLowerCase())}))),S.specialOffer&&(e=e.filter((e=>e.featured))),S.trending&&(e=e.filter((e=>e.trending))),S.inStock&&(e=e.filter((e=>e.stock>0))),S.sortBy){case"price-low":e.sort(((e,t)=>e.price-t.price));break;case"price-high":e.sort(((e,t)=>t.price-e.price));break;case"newest":e.sort(((e,t)=>new Date(t.id).getTime()-new Date(e.id).getTime()));break;case"popular":e.sort(((e,t)=>{var n,i;const r=(null==(n=e.reviews)?void 0:n.length)||0;return((null==(i=t.reviews)?void 0:i.length)||0)-r}))}u(e)},T=()=>o.jsxs(V,{sx:{p:3,height:"100%",background:"linear-gradient(135deg, #ffffff 0%, #f8f8f8 100%)",border:"1px solid rgba(227, 28, 121, 0.1)",transition:"all 0.3s ease","&:hover":{boxShadow:"0 8px 24px rgba(227, 28, 121, 0.1)",transform:"translateY(-2px)"}},children:[o.jsxs(p,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:3,background:"linear-gradient(90deg, #E31C79 0%, #FF4D8D 100%)",p:2,borderRadius:2,color:"white"},children:[o.jsx(v,{variant:"h6",sx:{fontWeight:600},children:"Filters"}),o.jsxs(p,{children:[t&&o.jsx(f,{onClick:()=>j(!1),sx:{color:"white",mr:1},children:o.jsx(fe,{})}),o.jsx(g,{variant:"outlined",size:"small",onClick:()=>{const e=Math.max(...s.map((e=>e.price))),t=Math.min(...s.map((e=>e.price)));_({priceRange:[t,e],category:"",sortBy:"newest",specialOffer:!1,trending:!1,inStock:!1,material:"",work:""})},sx:{color:"white",borderColor:"white","&:hover":{borderColor:"white",backgroundColor:"rgba(255, 255, 255, 0.1)"}},children:"Clear All"})]})]}),o.jsxs(ae,{spacing:3,children:[o.jsxs(p,{children:[o.jsx(v,{gutterBottom:!0,sx:{fontWeight:500,color:"#333",fontSize:"1.1rem",mb:2},children:"Price Range"}),o.jsx(me,{value:S.priceRange,onChange:(e,t)=>_({...S,priceRange:t}),valueLabelDisplay:"auto",min:Math.min(...s.map((e=>e.price))),max:Math.max(...s.map((e=>e.price))),step:Math.ceil(Math.max(...s.map((e=>e.price)))/100),sx:{mt:1,color:"#E31C79","& .MuiSlider-thumb":{"&:hover, &.Mui-focusVisible":{boxShadow:"0 0 0 8px rgba(227, 28, 121, 0.16)"},"&.Mui-active":{boxShadow:"0 0 0 14px rgba(227, 28, 121, 0.16)"}}}}),o.jsxs(p,{sx:{display:"flex",justifyContent:"space-between",mt:2,p:1,bgcolor:"rgba(227, 28, 121, 0.05)",borderRadius:1},children:[o.jsxs(v,{variant:"body2",sx:{color:"#E31C79",fontWeight:500},children:["",S.priceRange[0]]}),o.jsxs(v,{variant:"body2",sx:{color:"#E31C79",fontWeight:500},children:["",S.priceRange[1]]})]})]}),o.jsx(C,{sx:{my:2,borderColor:"rgba(227, 28, 121, 0.1)",height:2}}),o.jsxs(p,{children:[o.jsx(v,{gutterBottom:!0,sx:{fontWeight:500,color:"#333",fontSize:"1.1rem",mb:2},children:"Category"}),o.jsxs(ee,{fullWidth:!0,children:[o.jsx(ge,{children:"Category"}),o.jsxs(xe,{value:S.category||"",label:"Category",onChange:e=>_({...S,category:e.target.value}),sx:{"&:hover .MuiOutlinedInput-notchedOutline":{borderColor:"#E31C79"},"&.Mui-focused .MuiOutlinedInput-notchedOutline":{borderColor:"#E31C79"},"& .MuiSelect-select":{py:1.5}},children:[o.jsx(w,{value:"",children:"All Categories"}),m.map((e=>o.jsx(w,{value:e.name,children:e.name},e.id)))]})]})]}),o.jsx(C,{sx:{my:2,borderColor:"rgba(227, 28, 121, 0.1)",height:2}}),o.jsxs(p,{children:[o.jsx(v,{gutterBottom:!0,sx:{fontWeight:500,color:"#333",fontSize:"1.1rem",mb:2},children:"Material"}),o.jsxs(ee,{fullWidth:!0,children:[o.jsx(ge,{children:"Material"}),o.jsxs(xe,{value:S.material||"",label:"Material",onChange:e=>_({...S,material:e.target.value}),sx:{"&:hover .MuiOutlinedInput-notchedOutline":{borderColor:"#E31C79"},"&.Mui-focused .MuiOutlinedInput-notchedOutline":{borderColor:"#E31C79"},"& .MuiSelect-select":{py:1.5}},children:[o.jsx(w,{value:"",children:"All Materials"}),o.jsx(w,{value:"Silk",children:"Silk"}),o.jsx(w,{value:"Cotton",children:"Cotton"}),o.jsx(w,{value:"Georgette",children:"Georgette"}),o.jsx(w,{value:"Net",children:"Net"})]})]})]}),o.jsx(C,{sx:{my:2,borderColor:"rgba(227, 28, 121, 0.1)",height:2}}),o.jsxs(p,{children:[o.jsx(v,{gutterBottom:!0,sx:{fontWeight:500,color:"#333",fontSize:"1.1rem",mb:2},children:"Work"}),o.jsxs(ee,{fullWidth:!0,children:[o.jsx(ge,{children:"Work"}),o.jsxs(xe,{value:S.work||"",label:"Work",onChange:e=>_({...S,work:e.target.value}),sx:{"&:hover .MuiOutlinedInput-notchedOutline":{borderColor:"#E31C79"},"&.Mui-focused .MuiOutlinedInput-notchedOutline":{borderColor:"#E31C79"},"& .MuiSelect-select":{py:1.5}},children:[o.jsx(w,{value:"",children:"All Work Types"}),o.jsx(w,{value:"Embroidered",children:"Embroidered"}),o.jsx(w,{value:"Printed",children:"Printed"}),o.jsx(w,{value:"Stone Work",children:"Stone Work"}),o.jsx(w,{value:"Zari Work",children:"Zari Work"})]})]})]}),o.jsx(C,{sx:{my:2,borderColor:"rgba(227, 28, 121, 0.1)",height:2}}),o.jsxs(p,{children:[o.jsx(v,{gutterBottom:!0,sx:{fontWeight:500,color:"#333",fontSize:"1.1rem",mb:2},children:"Special Offers"}),o.jsx(ye,{children:o.jsx(ie,{control:o.jsx(ve,{checked:S.specialOffer,onChange:e=>_((t=>({...t,specialOffer:e.target.checked}))),sx:{color:"#E31C79","&.Mui-checked":{color:"#E31C79"},"&:hover":{backgroundColor:"rgba(227, 28, 121, 0.04)"}}}),label:"Special Offers",sx:{"& .MuiFormControlLabel-label":{color:"#666","&:hover":{color:"#E31C79"}}}})})]}),o.jsxs(p,{children:[o.jsx(v,{gutterBottom:!0,sx:{fontWeight:500,color:"#333",fontSize:"1.1rem",mb:2},children:"Trending"}),o.jsx(ye,{children:o.jsx(ie,{control:o.jsx(ve,{checked:S.trending,onChange:e=>_((t=>({...t,trending:e.target.checked}))),sx:{color:"#E31C79","&.Mui-checked":{color:"#E31C79"},"&:hover":{backgroundColor:"rgba(227, 28, 121, 0.04)"}}}),label:"Trending Products",sx:{"& .MuiFormControlLabel-label":{color:"#666","&:hover":{color:"#E31C79"}}}})})]}),o.jsxs(p,{children:[o.jsx(v,{gutterBottom:!0,sx:{fontWeight:500,color:"#333",fontSize:"1.1rem",mb:2},children:"In Stock"}),o.jsx(ye,{children:o.jsx(ie,{control:o.jsx(ve,{checked:S.inStock,onChange:e=>_((t=>({...t,inStock:e.target.checked}))),sx:{color:"#E31C79","&.Mui-checked":{color:"#E31C79"},"&:hover":{backgroundColor:"rgba(227, 28, 121, 0.04)"}}}),label:"In Stock",sx:{"& .MuiFormControlLabel-label":{color:"#666","&:hover":{color:"#E31C79"}}}})})]}),o.jsx(C,{sx:{my:2,borderColor:"rgba(227, 28, 121, 0.1)",height:2}}),o.jsxs(p,{children:[o.jsx(v,{gutterBottom:!0,sx:{fontWeight:500,color:"#333",fontSize:"1.1rem",mb:2},children:"Sort By"}),o.jsxs(ee,{fullWidth:!0,children:[o.jsx(ge,{children:"Sort By"}),o.jsxs(xe,{value:S.sortBy,label:"Sort By",onChange:e=>_({...S,sortBy:e.target.value}),sx:{"&:hover .MuiOutlinedInput-notchedOutline":{borderColor:"#E31C79"},"&.Mui-focused .MuiOutlinedInput-notchedOutline":{borderColor:"#E31C79"},"& .MuiSelect-select":{py:1.5}},children:[o.jsx(w,{value:"newest",children:"Newest First"}),o.jsx(w,{value:"price-low",children:"Price: Low to High"}),o.jsx(w,{value:"price-high",children:"Price: High to Low"}),o.jsx(w,{value:"popular",children:"Most Popular"})]})]})]})]})]});return k?o.jsx(p,{sx:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"60vh"},children:o.jsx(v,{children:"Loading..."})}):P?o.jsx(p,{sx:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"60vh"},children:o.jsx(v,{color:"error",children:P})}):o.jsx(h,{maxWidth:"xl",sx:{py:8},children:o.jsxs(y,{container:!0,spacing:4,children:[o.jsx(y,{item:!0,xs:12,md:3,children:o.jsx(p,{sx:{position:"sticky",top:"100px"},children:o.jsx(T,{})})}),o.jsxs(y,{item:!0,xs:12,md:9,children:[o.jsxs(p,{sx:{mb:4},children:[o.jsx(v,{variant:"h4",sx:{fontWeight:600,mb:2},children:"All Products"}),o.jsxs(v,{variant:"body1",color:"text.secondary",children:["Showing ",d.length," products"]})]}),o.jsx(y,{container:!0,spacing:3,children:d.map((e=>o.jsx(y,{item:!0,xs:6,sm:6,md:4,children:o.jsx(nf,{product:e})},e.id)))})]})]})})};var Lx={},zx=s;Object.defineProperty(Lx,"__esModule",{value:!0});var Bx=Lx.default=void 0,Wx=zx(Yt()),Nx=o;Bx=Lx.default=(0,Wx.default)((0,Nx.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m-2 15-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8z"}),"CheckCircle");var Vx,$x,Ux,Hx,qx={linear:function(e,t,n,i){return(n-t)*e/i+t},easeInQuad:function(e,t,n,i){return(n-t)*(e/=i)*e+t},easeOutQuad:function(e,t,n,i){return-(n-t)*(e/=i)*(e-2)+t},easeInOutQuad:function(e,t,n,i){var r=n-t;return(e/=i/2)<1?r/2*e*e+t:-r/2*(--e*(e-2)-1)+t},easeInCubic:function(e,t,n,i){return(n-t)*(e/=i)*e*e+t},easeOutCubic:function(e,t,n,i){return(n-t)*((e=e/i-1)*e*e+1)+t},easeInOutCubic:function(e,t,n,i){var r=n-t;return(e/=i/2)<1?r/2*e*e*e+t:r/2*((e-=2)*e*e+2)+t},easeInQuart:function(e,t,n,i){return(n-t)*(e/=i)*e*e*e+t},easeOutQuart:function(e,t,n,i){return-(n-t)*((e=e/i-1)*e*e*e-1)+t},easeInOutQuart:function(e,t,n,i){var r=n-t;return(e/=i/2)<1?r/2*e*e*e*e+t:-r/2*((e-=2)*e*e*e-2)+t},easeInQuint:function(e,t,n,i){return(n-t)*(e/=i)*e*e*e*e+t},easeOutQuint:function(e,t,n,i){return(n-t)*((e=e/i-1)*e*e*e*e+1)+t},easeInOutQuint:function(e,t,n,i){var r=n-t;return(e/=i/2)<1?r/2*e*e*e*e*e+t:r/2*((e-=2)*e*e*e*e+2)+t},easeInSine:function(e,t,n,i){var r=n-t;return-r*Math.cos(e/i*(Math.PI/2))+r+t},easeOutSine:function(e,t,n,i){return(n-t)*Math.sin(e/i*(Math.PI/2))+t},easeInOutSine:function(e,t,n,i){return-(n-t)/2*(Math.cos(Math.PI*e/i)-1)+t},easeInExpo:function(e,t,n,i){return 0==e?t:(n-t)*Math.pow(2,10*(e/i-1))+t},easeOutExpo:function(e,t,n,i){var r=n-t;return e==i?t+r:r*(1-Math.pow(2,-10*e/i))+t},easeInOutExpo:function(e,t,n,i){var r=n-t;return 0===e?t:e===i?t+r:(e/=i/2)<1?r/2*Math.pow(2,10*(e-1))+t:r/2*(2-Math.pow(2,-10*--e))+t},easeInCirc:function(e,t,n,i){return-(n-t)*(Math.sqrt(1-(e/=i)*e)-1)+t},easeOutCirc:function(e,t,n,i){return(n-t)*Math.sqrt(1-(e=e/i-1)*e)+t},easeInOutCirc:function(e,t,n,i){var r=n-t;return(e/=i/2)<1?-r/2*(Math.sqrt(1-e*e)-1)+t:r/2*(Math.sqrt(1-(e-=2)*e)+1)+t},easeInElastic:function(e,t,n,i){var r,s,o,a=n-t;return o=1.70158,0===e?t:1==(e/=i)?t+a:((s=0)||(s=.3*i),(r=a)<Math.abs(a)?(r=a,o=s/4):o=s/(2*Math.PI)*Math.asin(a/r),-r*Math.pow(2,10*(e-=1))*Math.sin((e*i-o)*(2*Math.PI)/s)+t)},easeOutElastic:function(e,t,n,i){var r,s,o,a=n-t;return o=1.70158,0===e?t:1==(e/=i)?t+a:((s=0)||(s=.3*i),(r=a)<Math.abs(a)?(r=a,o=s/4):o=s/(2*Math.PI)*Math.asin(a/r),r*Math.pow(2,-10*e)*Math.sin((e*i-o)*(2*Math.PI)/s)+a+t)},easeInOutElastic:function(e,t,n,i){var r,s,o,a=n-t;return o=1.70158,0===e?t:2==(e/=i/2)?t+a:((s=0)||(s=i*(.3*1.5)),(r=a)<Math.abs(a)?(r=a,o=s/4):o=s/(2*Math.PI)*Math.asin(a/r),e<1?r*Math.pow(2,10*(e-=1))*Math.sin((e*i-o)*(2*Math.PI)/s)*-.5+t:r*Math.pow(2,-10*(e-=1))*Math.sin((e*i-o)*(2*Math.PI)/s)*.5+a+t)},easeInBack:function(e,t,n,i,r){return void 0===r&&(r=1.70158),(n-t)*(e/=i)*e*((r+1)*e-r)+t},easeOutBack:function(e,t,n,i,r){return void 0===r&&(r=1.70158),(n-t)*((e=e/i-1)*e*((r+1)*e+r)+1)+t},easeInOutBack:function(e,t,n,i,r){var s=n-t;return void 0===r&&(r=1.70158),(e/=i/2)<1?s/2*(e*e*((1+(r*=1.525))*e-r))+t:s/2*((e-=2)*e*((1+(r*=1.525))*e+r)+2)+t},easeInBounce:function(e,t,n,i){var r=n-t;return r-qx.easeOutBounce(i-e,0,r,i)+t},easeOutBounce:function(e,t,n,i){var r=n-t;return(e/=i)<1/2.75?r*(7.5625*e*e)+t:e<2/2.75?r*(7.5625*(e-=1.5/2.75)*e+.75)+t:e<2.5/2.75?r*(7.5625*(e-=2.25/2.75)*e+.9375)+t:r*(7.5625*(e-=2.625/2.75)*e+.984375)+t},easeInOutBounce:function(e,t,n,i){var r=n-t;return e<i/2?.5*qx.easeInBounce(2*e,0,r,i)+t:.5*qx.easeOutBounce(2*e-i,0,r,i)+.5*r+t}},Yx=qx;function Gx(e,t){return e+Math.random()*(t-e)}($x=Vx||(Vx={}))[$x.Circle=0]="Circle",$x[$x.Square=1]="Square",$x[$x.Strip=2]="Strip",(Hx=Ux||(Ux={}))[Hx.Positive=1]="Positive",Hx[Hx.Negative=-1]="Negative";const Xx=1e3/60;class Kx{constructor(e,t,n,i){this.getOptions=t;const{colors:r,initialVelocityX:s,initialVelocityY:o}=this.getOptions();var a,l;this.context=e,this.x=n,this.y=i,this.w=Gx(5,20),this.h=Gx(5,20),this.radius=Gx(5,10),this.vx="number"==typeof s?Gx(-s,s):Gx(s.min,s.max),this.vy="number"==typeof o?Gx(-o,0):Gx(o.min,o.max),this.shape=(a=0,l=2,Math.floor(a+Math.random()*(l-a+1))),this.angle=Gx(0,360)*Math.PI/180,this.angularSpin=Gx(-.2,.2),this.color=r[Math.floor(Math.random()*r.length)],this.rotateY=Gx(0,1),this.rotationDirection=Gx(0,1)?Ux.Positive:Ux.Negative}update(e){const{gravity:t,wind:n,friction:i,opacity:r,drawShape:s}=this.getOptions(),o=e/Xx;this.x+=this.vx*o,this.y+=this.vy*o,this.vy+=t*o,this.vx+=n*o,this.vx*=i**o,this.vy*=i**o,this.rotateY>=1&&this.rotationDirection===Ux.Positive?this.rotationDirection=Ux.Negative:this.rotateY<=-1&&this.rotationDirection===Ux.Negative&&(this.rotationDirection=Ux.Positive);const a=.1*this.rotationDirection*o;if(this.rotateY+=a,this.angle+=this.angularSpin,this.context.save(),this.context.translate(this.x,this.y),this.context.rotate(this.angle),this.context.scale(1,this.rotateY),this.context.rotate(this.angle),this.context.beginPath(),this.context.fillStyle=this.color,this.context.strokeStyle=this.color,this.context.globalAlpha=r,this.context.lineCap="round",this.context.lineWidth=2,s&&"function"==typeof s)s.call(this,this.context);else switch(this.shape){case Vx.Circle:this.context.beginPath(),this.context.arc(0,0,this.radius,0,2*Math.PI),this.context.fill();break;case Vx.Square:this.context.fillRect(-this.w/2,-this.h/2,this.w,this.h);break;case Vx.Strip:this.context.fillRect(-this.w/6,-this.h/2,this.w/3,this.h)}this.context.closePath(),this.context.restore()}}class Jx{constructor(e,t){this.x=0,this.y=0,this.w=0,this.h=0,this.lastNumberOfPieces=0,this.tweenProgress=0,this.tweenFrom=0,this.particles=[],this.particlesGenerated=0,this.removeParticleAt=e=>{this.particles.splice(e,1)},this.getParticle=()=>{const e=Gx(this.x,this.w+this.x),t=Gx(this.y,this.h+this.y);return new Kx(this.context,this.getOptions,e,t)},this.animate=e=>{const{canvas:t,context:n,particlesGenerated:i,lastNumberOfPieces:r}=this,{run:s,recycle:o,numberOfPieces:a,debug:l,tweenFunction:c,tweenDuration:d}=this.getOptions();if(!s)return!1;const h=this.particles.length,u=o?h:i;if(u<a){r!==a&&(this.tweenProgress=0,this.tweenFrom=u,this.lastNumberOfPieces=a),this.tweenProgress=Math.min(d,Math.max(0,this.tweenProgress+e));const t=c(this.tweenProgress,this.tweenFrom,a,d),n=Math.round(t-u);for(let e=0;e<n;e++)this.particles.push(this.getParticle());this.particlesGenerated+=n}l&&(n.font="12px sans-serif",n.fillStyle="#333",n.textAlign="right",n.fillText(`Particles: ${h}`,t.width-10,t.height-20));for(let p=this.particles.length-1;p>=0;p--){const n=this.particles[p];n.update(e),(n.y>t.height||n.y<-100||n.x>t.width+100||n.x<-100)&&(o&&u<=a?this.particles[p]=this.getParticle():this.removeParticleAt(p))}return h>0||u<a},this.canvas=e;const n=this.canvas.getContext("2d");if(!n)throw new Error("Could not get canvas context");this.context=n,this.getOptions=t}}const Qx={width:"undefined"!=typeof window?window.innerWidth:300,height:"undefined"!=typeof window?window.innerHeight:200,numberOfPieces:200,friction:.99,wind:0,gravity:.1,initialVelocityX:4,initialVelocityY:10,colors:["#f44336","#e91e63","#9c27b0","#673ab7","#3f51b5","#2196f3","#03a9f4","#00bcd4","#009688","#4CAF50","#8BC34A","#CDDC39","#FFEB3B","#FFC107","#FF9800","#FF5722","#795548"],opacity:1,debug:!1,tweenFunction:Yx.easeInOutQuad,tweenDuration:5e3,recycle:!0,run:!0};class Zx{constructor(e,t){this.lastFrameTime=0,this.setOptionsWithDefaults=e=>{const t={confettiSource:{x:0,y:0,w:this.canvas.width,h:0}};this._options={...t,...Qx,...e},Object.assign(this,e.confettiSource)},this.update=(e=0)=>{const{options:{run:t,onConfettiComplete:n,frameRate:i},canvas:r,context:s}=this,o=Math.min(e-this.lastFrameTime,50);i&&o<1e3/i?this.rafId=requestAnimationFrame(this.update):(this.lastFrameTime=e-(i?o%i:0),t&&(s.fillStyle="white",s.clearRect(0,0,r.width,r.height)),this.generator.animate(o)?this.rafId=requestAnimationFrame(this.update):(n&&"function"==typeof n&&this.generator.particlesGenerated>0&&n.call(this,this),this._options.run=!1))},this.reset=()=>{this.generator&&this.generator.particlesGenerated>0&&(this.generator.particlesGenerated=0,this.generator.particles=[],this.generator.lastNumberOfPieces=0)},this.stop=()=>{this.options={run:!1},this.rafId&&(cancelAnimationFrame(this.rafId),this.rafId=void 0)},this.canvas=e;const n=this.canvas.getContext("2d");if(!n)throw new Error("Could not get canvas context");this.context=n,this.generator=new Jx(this.canvas,(()=>this.options)),this.options=t,this.update()}get options(){return this._options}set options(e){var t,n;const i=null==(t=this._options)?void 0:t.run,r=null==(n=this._options)?void 0:n.recycle;this.setOptionsWithDefaults(e),this.generator&&(Object.assign(this.generator,this.options.confettiSource),"boolean"==typeof e.recycle&&e.recycle&&!1===r&&(this.generator.lastNumberOfPieces=this.generator.particles.length)),"boolean"==typeof e.run&&e.run&&!1===i&&this.update()}}const ey=Mt.createRef();class ty extends Mt.Component{constructor(e){super(e),this.canvas=Mt.createRef(),this.canvas=e.canvasRef||ey}componentDidMount(){if(this.canvas.current){const e=ny(this.props)[0];this.confetti=new Zx(this.canvas.current,e)}}componentDidUpdate(){const e=ny(this.props)[0];this.confetti&&(this.confetti.options=e)}componentWillUnmount(){this.confetti&&this.confetti.stop(),this.confetti=void 0}render(){const[e,t]=ny(this.props),n={zIndex:2,position:"absolute",pointerEvents:"none",top:0,left:0,bottom:0,right:0,...t.style};return o.jsx("canvas",{width:e.width,height:e.height,ref:this.canvas,...t,style:n})}}function ny(e){const t={},n={},i=[...Object.keys(Qx),"confettiSource","drawShape","onConfettiComplete","frameRate"],r=["canvasRef"];for(const s in e){const o=e[s];i.includes(s)?t[s]=o:r.includes(s)?r[s]=o:n[s]=o}return[t,n,{}]}ty.defaultProps={...Qx},ty.displayName="ReactConfetti";const iy=Mt.forwardRef(((e,t)=>o.jsx(ty,{canvasRef:t,...e})));var ry={exports:{}},sy={},oy=Ot;var ay="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},ly=oy.useSyncExternalStore,cy=oy.useRef,dy=oy.useEffect,hy=oy.useMemo,uy=oy.useDebugValue;sy.useSyncExternalStoreWithSelector=function(e,t,n,i,r){var s=cy(null);if(null===s.current){var o={hasValue:!1,value:null};s.current=o}else o=s.current;s=hy((function(){function e(e){if(!l){if(l=!0,s=e,e=i(e),void 0!==r&&o.hasValue){var t=o.value;if(r(t,e))return a=t}return a=e}if(t=a,ay(s,e))return t;var n=i(e);return void 0!==r&&r(t,n)?(s=e,t):(s=e,a=n)}var s,a,l=!1,c=void 0===n?null:n;return[function(){return e(t())},null===c?void 0:function(){return e(c())}]}),[t,n,i,r]);var a=ly(e,s[0],s[1]);return dy((function(){o.hasValue=!0,o.value=a}),[a]),uy(a),a},ry.exports=sy;var py=ry.exports;var fy={notify(){},get:()=>[]};var my=(()=>!("undefined"==typeof window||void 0===window.document||void 0===window.document.createElement))(),gy=(()=>"undefined"!=typeof navigator&&"ReactNative"===navigator.product)(),xy=(()=>my||gy?Ot.useLayoutEffect:Ot.useEffect)(),yy=Symbol.for("react-redux-context"),vy="undefined"!=typeof globalThis?globalThis:{};function by(){if(!Ot.createContext)return{};const e=vy[yy]??(vy[yy]=new Map);let t=e.get(Ot.createContext);return t||(t=Ot.createContext(null),e.set(Ot.createContext,t)),t}var jy=by();var wy=function(e){const{children:t,context:n,serverState:i,store:r}=e,s=Ot.useMemo((()=>{const e=function(e){let t,n=fy,i=0,r=!1;function s(){l.onStateChange&&l.onStateChange()}function o(){i++,t||(t=e.subscribe(s),n=function(){let e=null,t=null;return{clear(){e=null,t=null},notify(){(()=>{let t=e;for(;t;)t.callback(),t=t.next})()},get(){const t=[];let n=e;for(;n;)t.push(n),n=n.next;return t},subscribe(n){let i=!0;const r=t={callback:n,next:null,prev:t};return r.prev?r.prev.next=r:e=r,function(){i&&null!==e&&(i=!1,r.next?r.next.prev=r.prev:t=r.prev,r.prev?r.prev.next=r.next:e=r.next)}}}}())}function a(){i--,t&&0===i&&(t(),t=void 0,n.clear(),n=fy)}const l={addNestedSub:function(e){o();const t=n.subscribe(e);let i=!1;return()=>{i||(i=!0,t(),a())}},notifyNestedSubs:function(){n.notify()},handleChangeWrapper:s,isSubscribed:function(){return r},trySubscribe:function(){r||(r=!0,o())},tryUnsubscribe:function(){r&&(r=!1,a())},getListeners:()=>n};return l}(r);return{store:r,subscription:e,getServerState:i?()=>i:void 0}}),[r,i]),o=Ot.useMemo((()=>r.getState()),[r]);xy((()=>{const{subscription:e}=s;return e.onStateChange=e.notifyNestedSubs,e.trySubscribe(),o!==r.getState()&&e.notifyNestedSubs(),()=>{e.tryUnsubscribe(),e.onStateChange=void 0}}),[s,o]);const a=n||jy;return Ot.createElement(a.Provider,{value:s},t)};function Sy(e=jy){return function(){return Ot.useContext(e)}}var Cy=Sy(),_y=(e,t)=>e===t;function ky(e=jy){const t=e===jy?Cy:Sy(e),n=(e,n={})=>{const{equalityFn:i=_y}="function"==typeof n?{equalityFn:n}:n,r=t(),{store:s,subscription:o,getServerState:a}=r;Ot.useRef(!0);const l=Ot.useCallback({[e.name]:t=>e(t)}[e.name],[e]),c=py.useSyncExternalStoreWithSelector(o.addNestedSub,s.getState,a||s.getState,l,i);return Ot.useDebugValue(c),c};return Object.assign(n,{withTypes:()=>n}),n}var Ey=ky();const Py=()=>{var e,t,n,i,r;const s=At(),a=Dt(),l=null==(e=a.state)?void 0:e.orderId;null==(t=a.state)||t.items,null==(n=a.state)||n.total;const c=null==(r=null==(i=a.state)?void 0:i.shippingAddress)?void 0:r.email,[d,h]=Ot.useState({width:window.innerWidth,height:window.innerHeight}),[u,f]=Ot.useState(!0),[m,x]=Ot.useState(null);return Ey((e=>e.user)),Ot.useEffect((()=>{let e;const t=()=>{clearTimeout(e),e=setTimeout((()=>{h({width:window.innerWidth,height:window.innerHeight})}),100)};return window.addEventListener("resize",t),()=>{window.removeEventListener("resize",t),clearTimeout(e)}}),[]),o.jsxs(p,{sx:{minHeight:"100vh",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",position:"relative",overflow:"hidden",backgroundColor:"#f8f9fa"},children:[o.jsx(iy,{width:d.width,height:d.height,recycle:!1,numberOfPieces:200,gravity:.3,colors:["#E31C79","#1a1f36","#4CAF50","#FFC107"],style:{position:"fixed",top:0,left:0,pointerEvents:"none",width:`${d.width}px`,height:`${d.height}px`}}),o.jsxs(V,{elevation:3,sx:{p:4,maxWidth:600,width:"90%",textAlign:"center",position:"relative",zIndex:1,backgroundColor:"rgba(255, 255, 255, 0.95)"},children:[o.jsx(Bx,{sx:{fontSize:180,color:"#4CAF50",mb:3,animation:"scaleIn 0.5s ease-out"}}),o.jsx(v,{variant:"h4",component:"h1",gutterBottom:!0,sx:{color:"#1a1f36",fontWeight:600,mb:2},children:"Order Placed Successfully!"}),o.jsx(v,{variant:"h6",sx:{color:"#666",mb:4},children:"Thank you for your purchase"}),o.jsxs(v,{variant:"body1",sx:{color:"#666",mb:4,backgroundColor:"#f8f9fa",padding:"12px",borderRadius:"8px",border:"1px solid #e0e0e0"},children:["Order confirmation has been sent to ",o.jsx("strong",{children:c})]}),o.jsxs(p,{sx:{display:"flex",gap:2,justifyContent:"center"},children:[o.jsx(g,{variant:"contained",color:"primary",size:"large",onClick:()=>s("/"),sx:{backgroundColor:"#E31C79","&:hover":{backgroundColor:"#c4186a"}},children:"Continue Shopping"}),o.jsx(g,{variant:"outlined",color:"primary",size:"large",onClick:()=>s(`/order/${l}`),sx:{borderColor:"#E31C79",color:"#E31C79","&:hover":{borderColor:"#c4186a",backgroundColor:"rgba(227, 28, 121, 0.04)"}},children:"View Order"})]})]}),o.jsx("style",{children:"\n          @keyframes scaleIn {\n            from {\n              transform: scale(0);\n              opacity: 0;\n            }\n            to {\n              transform: scale(1);\n              opacity: 1;\n            }\n          }\n        "})]})},Oy=()=>{const e=At(),t=Dt().state;if(!t)return o.jsx(h,{maxWidth:"md",sx:{py:4},children:o.jsxs(V,{elevation:3,sx:{p:4,textAlign:"center"},children:[o.jsx(be,{sx:{fontSize:64,color:"#E31C79",mb:2}}),o.jsx(v,{variant:"h4",gutterBottom:!0,sx:{color:"#1a1f36",fontFamily:"Playfair Display, serif"},children:"Payment Failed"}),o.jsx(v,{variant:"body1",sx:{mb:4,color:"#666"},children:"We couldn't process your payment. Please try again or contact support if the problem persists."}),o.jsxs(p,{sx:{display:"flex",gap:2,justifyContent:"center"},children:[o.jsx(g,{variant:"contained",startIcon:o.jsx(D,{}),onClick:()=>e("/cart"),sx:{bgcolor:"#E31C79","&:hover":{bgcolor:"#d41a6b"}},children:"Return to Cart"}),o.jsx(g,{variant:"outlined",startIcon:o.jsx(je,{}),onClick:()=>e("/"),sx:{borderColor:"#E31C79",color:"#E31C79","&:hover":{borderColor:"#d41a6b",bgcolor:"rgba(227, 28, 121, 0.04)"}},children:"Continue Shopping"})]})]})});const n=Ot.useMemo((()=>t.amount.toLocaleString()),[t.amount]),i=Ot.useMemo((()=>`${t.shippingAddress.address}, ${t.shippingAddress.city}, ${t.shippingAddress.state} - ${t.shippingAddress.pincode}`),[t.shippingAddress]);return o.jsx(h,{maxWidth:"md",sx:{py:4},children:o.jsxs(V,{elevation:3,sx:{p:4,background:"linear-gradient(135deg, #ffffff 0%, #f8f8f8 100%)"},children:[o.jsxs(p,{sx:{textAlign:"center",mb:4},children:[o.jsx(be,{sx:{fontSize:64,color:"#E31C79",mb:2}}),o.jsx(v,{variant:"h4",gutterBottom:!0,sx:{color:"#1a1f36",fontFamily:"Playfair Display, serif"},children:"Payment Failed"}),o.jsx(H,{severity:"error",sx:{mb:2,mx:"auto",maxWidth:"fit-content"},children:t.error})]}),o.jsx(C,{sx:{my:3}}),o.jsxs(y,{container:!0,spacing:3,children:[o.jsxs(y,{item:!0,xs:12,md:6,children:[o.jsxs(v,{variant:"h6",gutterBottom:!0,sx:{display:"flex",alignItems:"center",gap:1},children:[o.jsx(we,{})," Order Details"]}),o.jsxs(_,{children:[o.jsxs(k,{children:[o.jsx(S,{children:o.jsx(Se,{})}),o.jsx(E,{primary:"Order ID",secondary:t.orderId})]}),o.jsxs(k,{children:[o.jsx(S,{children:o.jsx(Ce,{})}),o.jsx(E,{primary:"Total Amount",secondary:`${n}`})]})]})]}),o.jsxs(y,{item:!0,xs:12,md:6,children:[o.jsxs(v,{variant:"h6",gutterBottom:!0,sx:{display:"flex",alignItems:"center",gap:1},children:[o.jsx(he,{})," Shipping Details"]}),o.jsxs(_,{children:[o.jsx(k,{children:o.jsx(E,{primary:t.shippingAddress.fullName,secondary:`${t.shippingAddress.email} | ${t.shippingAddress.phone}`})}),o.jsx(k,{children:o.jsx(E,{secondary:i})})]})]})]}),o.jsxs(p,{sx:{mt:4},children:[o.jsx(v,{variant:"h6",gutterBottom:!0,children:"Items in Order"}),o.jsx(_,{children:t.items.map((e=>o.jsxs(k,{children:[o.jsx(E,{primary:e.name,secondary:`Quantity: ${e.quantity}`}),o.jsx(M,{label:`${(e.price*e.quantity).toLocaleString()}`,sx:{ml:2}})]},e.id)))})]}),o.jsx(C,{sx:{my:3}}),o.jsxs(y,{container:!0,spacing:2,justifyContent:"center",children:[o.jsx(y,{item:!0,xs:12,sm:6,md:4,children:o.jsx(g,{variant:"contained",fullWidth:!0,startIcon:o.jsx(Ce,{}),onClick:()=>{null==t||t.isTest,e("/cart")},sx:{bgcolor:"#E31C79","&:hover":{bgcolor:"#d41a6b"},mb:{xs:2,sm:0}},children:"Retry Payment"})}),o.jsx(y,{item:!0,xs:12,sm:6,md:4,children:o.jsx(g,{variant:"outlined",fullWidth:!0,startIcon:o.jsx(D,{}),onClick:()=>e("/cart"),sx:{borderColor:"#E31C79",color:"#E31C79","&:hover":{borderColor:"#d41a6b",bgcolor:"rgba(227, 28, 121, 0.04)"},mb:{xs:2,sm:0}},children:"Return to Cart"})}),o.jsx(y,{item:!0,xs:12,sm:6,md:4,children:o.jsx(g,{variant:"outlined",fullWidth:!0,startIcon:o.jsx(je,{}),onClick:()=>e("/"),sx:{borderColor:"#E31C79",color:"#E31C79","&:hover":{borderColor:"#d41a6b",bgcolor:"rgba(227, 28, 121, 0.04)"}},children:"Continue Shopping"})})]}),o.jsxs(p,{sx:{mt:4,textAlign:"center"},children:[o.jsx(v,{variant:"body2",color:"text.secondary",children:"Need help? Contact our support team at support@sreesathyabhamasilks.com"}),o.jsxs(v,{variant:"body2",color:"text.secondary",sx:{mt:1},children:["Please quote your Order ID: ",t.orderId," in all correspondence"]})]})]})})},My=()=>{const e=At(),{items:t}=Ws(),n=t.reduce(((e,t)=>e+t.quantity),0);return 0===n?null:o.jsx(p,{sx:{position:"fixed",right:"20px",top:"50%",transform:"translateY(-50%)",zIndex:1e3},children:o.jsx(P,{in:!0,timeout:500,children:o.jsx(V,{elevation:3,sx:{borderRadius:"50%",overflow:"hidden",cursor:"pointer","&:hover":{transform:"scale(1.05)"}},children:o.jsx(p,{onClick:()=>e("/cart"),sx:{p:2,bgcolor:"#E31C79",color:"white",display:"flex",alignItems:"center",justifyContent:"center",width:"60px",height:"60px"},children:o.jsx(m,{badgeContent:n,sx:{"& .MuiBadge-badge":{right:-3,top:3,backgroundColor:"black",color:"white",fontWeight:"bold",fontSize:"0.75rem",padding:"0 4px",minWidth:"20px",height:"20px",borderRadius:"10px"}},children:o.jsx(D,{sx:{fontSize:30}})})})})})})};function Ay(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var Ty=(()=>"function"==typeof Symbol&&Symbol.observable||"@@observable")(),Iy=()=>Math.random().toString(36).substring(7).split("").join("."),Dy={INIT:`@@redux/INIT${Iy()}`,REPLACE:`@@redux/REPLACE${Iy()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${Iy()}`};function Ry(e){if("object"!=typeof e||null===e)return!1;let t=e;for(;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||null===Object.getPrototypeOf(e)}function Fy(e,t,n){if("function"!=typeof e)throw new Error(Ay(2));if("function"==typeof t&&"function"==typeof n||"function"==typeof n&&"function"==typeof arguments[3])throw new Error(Ay(0));if("function"==typeof t&&void 0===n&&(n=t,t=void 0),void 0!==n){if("function"!=typeof n)throw new Error(Ay(1));return n(Fy)(e,t)}let i=e,r=t,s=new Map,o=s,a=0,l=!1;function c(){o===s&&(o=new Map,s.forEach(((e,t)=>{o.set(t,e)})))}function d(){if(l)throw new Error(Ay(3));return r}function h(e){if("function"!=typeof e)throw new Error(Ay(4));if(l)throw new Error(Ay(5));let t=!0;c();const n=a++;return o.set(n,e),function(){if(t){if(l)throw new Error(Ay(6));t=!1,c(),o.delete(n),s=null}}}function u(e){if(!Ry(e))throw new Error(Ay(7));if(void 0===e.type)throw new Error(Ay(8));if("string"!=typeof e.type)throw new Error(Ay(17));if(l)throw new Error(Ay(9));try{l=!0,r=i(r,e)}finally{l=!1}return(s=o).forEach((e=>{e()})),e}u({type:Dy.INIT});return{dispatch:u,subscribe:h,getState:d,replaceReducer:function(e){if("function"!=typeof e)throw new Error(Ay(10));i=e,u({type:Dy.REPLACE})},[Ty]:function(){const e=h;return{subscribe(t){if("object"!=typeof t||null===t)throw new Error(Ay(11));function n(){const e=t;e.next&&e.next(d())}n();return{unsubscribe:e(n)}},[Ty](){return this}}}}}function Ly(e){const t=Object.keys(e),n={};for(let o=0;o<t.length;o++){const i=t[o];"function"==typeof e[i]&&(n[i]=e[i])}const i=Object.keys(n);let r;try{!function(e){Object.keys(e).forEach((t=>{const n=e[t];if(void 0===n(void 0,{type:Dy.INIT}))throw new Error(Ay(12));if(void 0===n(void 0,{type:Dy.PROBE_UNKNOWN_ACTION()}))throw new Error(Ay(13))}))}(n)}catch(s){r=s}return function(e={},t){if(r)throw r;let s=!1;const o={};for(let r=0;r<i.length;r++){const a=i[r],l=n[a],c=e[a],d=l(c,t);if(void 0===d)throw t&&t.type,new Error(Ay(14));o[a]=d,s=s||d!==c}return s=s||i.length!==Object.keys(e).length,s?o:e}}function zy(...e){return 0===e.length?e=>e:1===e.length?e[0]:e.reduce(((e,t)=>(...n)=>e(t(...n))))}var By=Symbol.for("immer-nothing"),Wy=Symbol.for("immer-draftable"),Ny=Symbol.for("immer-state");function Vy(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var $y=Object.getPrototypeOf;function Uy(e){return!!e&&!!e[Ny]}function Hy(e){var t;return!!e&&(Yy(e)||Array.isArray(e)||!!e[Wy]||!!(null==(t=e.constructor)?void 0:t[Wy])||Qy(e)||Zy(e))}var qy=Object.prototype.constructor.toString();function Yy(e){if(!e||"object"!=typeof e)return!1;const t=$y(e);if(null===t)return!0;const n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return n===Object||"function"==typeof n&&Function.toString.call(n)===qy}function Gy(e,t){0===Xy(e)?Reflect.ownKeys(e).forEach((n=>{t(n,e[n],e)})):e.forEach(((n,i)=>t(i,n,e)))}function Xy(e){const t=e[Ny];return t?t.type_:Array.isArray(e)?1:Qy(e)?2:Zy(e)?3:0}function Ky(e,t){return 2===Xy(e)?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function Jy(e,t,n){const i=Xy(e);2===i?e.set(t,n):3===i?e.add(n):e[t]=n}function Qy(e){return e instanceof Map}function Zy(e){return e instanceof Set}function ev(e){return e.copy_||e.base_}function tv(e,t){if(Qy(e))return new Map(e);if(Zy(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const n=Yy(e);if(!0===t||"class_only"===t&&!n){const t=Object.getOwnPropertyDescriptors(e);delete t[Ny];let n=Reflect.ownKeys(t);for(let i=0;i<n.length;i++){const r=n[i],s=t[r];!1===s.writable&&(s.writable=!0,s.configurable=!0),(s.get||s.set)&&(t[r]={configurable:!0,writable:!0,enumerable:s.enumerable,value:e[r]})}return Object.create($y(e),t)}{const t=$y(e);if(null!==t&&n)return{...e};const i=Object.create(t);return Object.assign(i,e)}}function nv(e,t=!1){return rv(e)||Uy(e)||!Hy(e)||(Xy(e)>1&&(e.set=e.add=e.clear=e.delete=iv),Object.freeze(e),t&&Object.entries(e).forEach((([e,t])=>nv(t,!0)))),e}function iv(){Vy(2)}function rv(e){return Object.isFrozen(e)}var sv,ov={};function av(e){const t=ov[e];return t||Vy(0),t}function lv(){return sv}function cv(e,t){t&&(av("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function dv(e){hv(e),e.drafts_.forEach(pv),e.drafts_=null}function hv(e){e===sv&&(sv=e.parent_)}function uv(e){return sv={drafts_:[],parent_:sv,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function pv(e){const t=e[Ny];0===t.type_||1===t.type_?t.revoke_():t.revoked_=!0}function fv(e,t){t.unfinalizedDrafts_=t.drafts_.length;const n=t.drafts_[0];return void 0!==e&&e!==n?(n[Ny].modified_&&(dv(t),Vy(4)),Hy(e)&&(e=mv(t,e),t.parent_||xv(t,e)),t.patches_&&av("Patches").generateReplacementPatches_(n[Ny].base_,e,t.patches_,t.inversePatches_)):e=mv(t,n,[]),dv(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==By?e:void 0}function mv(e,t,n){if(rv(t))return t;const i=t[Ny];if(!i)return Gy(t,((r,s)=>gv(e,i,t,r,s,n))),t;if(i.scope_!==e)return t;if(!i.modified_)return xv(e,i.base_,!0),i.base_;if(!i.finalized_){i.finalized_=!0,i.scope_.unfinalizedDrafts_--;const t=i.copy_;let r=t,s=!1;3===i.type_&&(r=new Set(t),t.clear(),s=!0),Gy(r,((r,o)=>gv(e,i,t,r,o,n,s))),xv(e,t,!1),n&&e.patches_&&av("Patches").generatePatches_(i,n,e.patches_,e.inversePatches_)}return i.copy_}function gv(e,t,n,i,r,s,o){if(Uy(r)){const o=mv(e,r,s&&t&&3!==t.type_&&!Ky(t.assigned_,i)?s.concat(i):void 0);if(Jy(n,i,o),!Uy(o))return;e.canAutoFreeze_=!1}else o&&n.add(r);if(Hy(r)&&!rv(r)){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1)return;mv(e,r),t&&t.scope_.parent_||"symbol"==typeof i||!Object.prototype.propertyIsEnumerable.call(n,i)||xv(e,r)}}function xv(e,t,n=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&nv(t,n)}var yv={get(e,t){if(t===Ny)return e;const n=ev(e);if(!Ky(n,t))return function(e,t,n){var i;const r=jv(t,n);return r?"value"in r?r.value:null==(i=r.get)?void 0:i.call(e.draft_):void 0}(e,n,t);const i=n[t];return e.finalized_||!Hy(i)?i:i===bv(e.base_,t)?(Sv(e),e.copy_[t]=Cv(i,e)):i},has:(e,t)=>t in ev(e),ownKeys:e=>Reflect.ownKeys(ev(e)),set(e,t,n){const i=jv(ev(e),t);if(null==i?void 0:i.set)return i.set.call(e.draft_,n),!0;if(!e.modified_){const i=bv(ev(e),t),o=null==i?void 0:i[Ny];if(o&&o.base_===n)return e.copy_[t]=n,e.assigned_[t]=!1,!0;if(((r=n)===(s=i)?0!==r||1/r==1/s:r!=r&&s!=s)&&(void 0!==n||Ky(e.base_,t)))return!0;Sv(e),wv(e)}var r,s;return e.copy_[t]===n&&(void 0!==n||t in e.copy_)||Number.isNaN(n)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=n,e.assigned_[t]=!0),!0},deleteProperty:(e,t)=>(void 0!==bv(e.base_,t)||t in e.base_?(e.assigned_[t]=!1,Sv(e),wv(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0),getOwnPropertyDescriptor(e,t){const n=ev(e),i=Reflect.getOwnPropertyDescriptor(n,t);return i?{writable:!0,configurable:1!==e.type_||"length"!==t,enumerable:i.enumerable,value:n[t]}:i},defineProperty(){Vy(11)},getPrototypeOf:e=>$y(e.base_),setPrototypeOf(){Vy(12)}},vv={};function bv(e,t){const n=e[Ny];return(n?ev(n):e)[t]}function jv(e,t){if(!(t in e))return;let n=$y(e);for(;n;){const e=Object.getOwnPropertyDescriptor(n,t);if(e)return e;n=$y(n)}}function wv(e){e.modified_||(e.modified_=!0,e.parent_&&wv(e.parent_))}function Sv(e){e.copy_||(e.copy_=tv(e.base_,e.scope_.immer_.useStrictShallowCopy_))}Gy(yv,((e,t)=>{vv[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}})),vv.deleteProperty=function(e,t){return vv.set.call(this,e,t,void 0)},vv.set=function(e,t,n){return yv.set.call(this,e[0],t,n,e[0])};function Cv(e,t){const n=Qy(e)?av("MapSet").proxyMap_(e,t):Zy(e)?av("MapSet").proxySet_(e,t):function(e,t){const n=Array.isArray(e),i={type_:n?1:0,scope_:t?t.scope_:lv(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let r=i,s=yv;n&&(r=[i],s=vv);const{revoke:o,proxy:a}=Proxy.revocable(r,s);return i.draft_=a,i.revoke_=o,a}(e,t);return(t?t.scope_:lv()).drafts_.push(n),n}function _v(e){if(!Hy(e)||rv(e))return e;const t=e[Ny];let n;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,n=tv(e,t.scope_.immer_.useStrictShallowCopy_)}else n=tv(e,!0);return Gy(n,((e,t)=>{Jy(n,e,_v(t))})),t&&(t.finalized_=!1),n}var kv=new class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(e,t,n)=>{if("function"==typeof e&&"function"!=typeof t){const n=t;t=e;const i=this;return function(e=n,...r){return i.produce(e,(e=>t.call(this,e,...r)))}}let i;if("function"!=typeof t&&Vy(6),void 0!==n&&"function"!=typeof n&&Vy(7),Hy(e)){const r=uv(this),s=Cv(e,void 0);let o=!0;try{i=t(s),o=!1}finally{o?dv(r):hv(r)}return cv(r,n),fv(i,r)}if(!e||"object"!=typeof e){if(i=t(e),void 0===i&&(i=e),i===By&&(i=void 0),this.autoFreeze_&&nv(i,!0),n){const t=[],r=[];av("Patches").generateReplacementPatches_(e,i,t,r),n(t,r)}return i}Vy(1)},this.produceWithPatches=(e,t)=>{if("function"==typeof e)return(t,...n)=>this.produceWithPatches(t,(t=>e(t,...n)));let n,i;return[this.produce(e,t,((e,t)=>{n=e,i=t})),n,i]},"boolean"==typeof(null==e?void 0:e.autoFreeze)&&this.setAutoFreeze(e.autoFreeze),"boolean"==typeof(null==e?void 0:e.useStrictShallowCopy)&&this.setUseStrictShallowCopy(e.useStrictShallowCopy)}createDraft(e){Hy(e)||Vy(8),Uy(e)&&(e=function(e){Uy(e)||Vy(10);return _v(e)}(e));const t=uv(this),n=Cv(e,void 0);return n[Ny].isManual_=!0,hv(t),n}finishDraft(e,t){const n=e&&e[Ny];n&&n.isManual_||Vy(9);const{scope_:i}=n;return cv(i,t),fv(void 0,i)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}applyPatches(e,t){let n;for(n=t.length-1;n>=0;n--){const i=t[n];if(0===i.path.length&&"replace"===i.op){e=i.value;break}}n>-1&&(t=t.slice(n+1));const i=av("Patches").applyPatches_;return Uy(e)?i(e,t):this.produce(e,(e=>i(e,t)))}},Ev=kv.produce;function Pv(e){return({dispatch:t,getState:n})=>i=>r=>"function"==typeof r?r(t,n,e):i(r)}kv.produceWithPatches.bind(kv),kv.setAutoFreeze.bind(kv),kv.setUseStrictShallowCopy.bind(kv),kv.applyPatches.bind(kv),kv.createDraft.bind(kv),kv.finishDraft.bind(kv);var Ov=Pv(),Mv=Pv,Av="undefined"!=typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(0!==arguments.length)return"object"==typeof arguments[0]?zy:zy.apply(null,arguments)};function Tv(e,t){function n(...n){if(t){let i=t(...n);if(!i)throw new Error(Hv(0));return{type:e,payload:i.payload,..."meta"in i&&{meta:i.meta},..."error"in i&&{error:i.error}}}return{type:e,payload:n[0]}}return n.toString=()=>`${e}`,n.type=e,n.match=t=>function(e){return Ry(e)&&"type"in e&&"string"==typeof e.type}(t)&&t.type===e,n}var Iv=class e extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,e.prototype)}static get[Symbol.species](){return e}concat(...e){return super.concat.apply(this,e)}prepend(...t){return 1===t.length&&Array.isArray(t[0])?new e(...t[0].concat(this)):new e(...t.concat(this))}};function Dv(e){return Hy(e)?Ev(e,(()=>{})):e}function Rv(e,t,n){return e.has(t)?e.get(t):e.set(t,n(t)).get(t)}var Fv=e=>t=>{setTimeout(t,e)},Lv=e=>function(t){const{autoBatch:n=!0}=t??{};let i=new Iv(e);return n&&i.push(((e={type:"raf"})=>t=>(...n)=>{const i=t(...n);let r=!0,s=!1,o=!1;const a=new Set,l="tick"===e.type?queueMicrotask:"raf"===e.type?"undefined"!=typeof window&&window.requestAnimationFrame?window.requestAnimationFrame:Fv(10):"callback"===e.type?e.queueNotification:Fv(e.timeout),c=()=>{o=!1,s&&(s=!1,a.forEach((e=>e())))};return Object.assign({},i,{subscribe(e){const t=i.subscribe((()=>r&&e()));return a.add(e),()=>{t(),a.delete(e)}},dispatch(e){var t;try{return r=!(null==(t=null==e?void 0:e.meta)?void 0:t.RTK_autoBatch),s=!r,s&&(o||(o=!0,l(c))),i.dispatch(e)}finally{r=!0}}})})("object"==typeof n?n:void 0)),i};function zv(e){const t={},n=[];let i;const r={addCase(e,n){const i="string"==typeof e?e:e.type;if(!i)throw new Error(Hv(28));if(i in t)throw new Error(Hv(29));return t[i]=n,r},addMatcher:(e,t)=>(n.push({matcher:e,reducer:t}),r),addDefaultCase:e=>(i=e,r)};return e(r),[t,n,i]}var Bv=Symbol.for("rtk-slice-createasyncthunk");function Wv(e,t){return`${e}/${t}`}function Nv({creators:e}={}){var t;const n=null==(t=null==e?void 0:e.asyncThunk)?void 0:t[Bv];return function(e){const{name:t,reducerPath:i=t}=e;if(!t)throw new Error(Hv(11));const r=("function"==typeof e.reducers?e.reducers(function(){function e(e,t){return{_reducerDefinitionType:"asyncThunk",payloadCreator:e,...t}}return e.withTypes=()=>e,{reducer:e=>Object.assign({[e.name]:(...t)=>e(...t)}[e.name],{_reducerDefinitionType:"reducer"}),preparedReducer:(e,t)=>({_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:t}),asyncThunk:e}}()):e.reducers)||{},s=Object.keys(r),o={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},a={addCase(e,t){const n="string"==typeof e?e:e.type;if(!n)throw new Error(Hv(12));if(n in o.sliceCaseReducersByType)throw new Error(Hv(13));return o.sliceCaseReducersByType[n]=t,a},addMatcher:(e,t)=>(o.sliceMatchers.push({matcher:e,reducer:t}),a),exposeAction:(e,t)=>(o.actionCreators[e]=t,a),exposeCaseReducer:(e,t)=>(o.sliceCaseReducersByName[e]=t,a)};function l(){const[t={},n=[],i]="function"==typeof e.extraReducers?zv(e.extraReducers):[e.extraReducers],r={...t,...o.sliceCaseReducersByType};return function(e,t){let n,[i,r,s]=zv(t);if("function"==typeof e)n=()=>Dv(e());else{const t=Dv(e);n=()=>t}function o(e=n(),t){let o=[i[t.type],...r.filter((({matcher:e})=>e(t))).map((({reducer:e})=>e))];return 0===o.filter((e=>!!e)).length&&(o=[s]),o.reduce(((e,n)=>{if(n){if(Uy(e)){const i=n(e,t);return void 0===i?e:i}if(Hy(e))return Ev(e,(e=>n(e,t)));{const i=n(e,t);if(void 0===i){if(null===e)return e;throw Error("A case reducer on a non-draftable value must not return undefined")}return i}}return e}),e)}return o.getInitialState=n,o}(e.initialState,(e=>{for(let t in r)e.addCase(t,r[t]);for(let t of o.sliceMatchers)e.addMatcher(t.matcher,t.reducer);for(let t of n)e.addMatcher(t.matcher,t.reducer);i&&e.addDefaultCase(i)}))}s.forEach((i=>{const s=r[i],o={reducerName:i,type:Wv(t,i),createNotation:"function"==typeof e.reducers};!function(e){return"asyncThunk"===e._reducerDefinitionType}(s)?function({type:e,reducerName:t,createNotation:n},i,r){let s,o;if("reducer"in i){if(n&&!function(e){return"reducerWithPrepare"===e._reducerDefinitionType}(i))throw new Error(Hv(17));s=i.reducer,o=i.prepare}else s=i;r.addCase(e,s).exposeCaseReducer(t,s).exposeAction(t,o?Tv(e,o):Tv(e))}(o,s,a):function({type:e,reducerName:t},n,i,r){if(!r)throw new Error(Hv(18));const{payloadCreator:s,fulfilled:o,pending:a,rejected:l,settled:c,options:d}=n,h=r(e,s,d);i.exposeAction(t,h),o&&i.addCase(h.fulfilled,o);a&&i.addCase(h.pending,a);l&&i.addCase(h.rejected,l);c&&i.addMatcher(h.settled,c);i.exposeCaseReducer(t,{fulfilled:o||Uv,pending:a||Uv,rejected:l||Uv,settled:c||Uv})}(o,s,a,n)}));const c=e=>e,d=new Map;let h;function u(e,t){return h||(h=l()),h(e,t)}function p(){return h||(h=l()),h.getInitialState()}function f(t,n=!1){function i(e){let i=e[t];return void 0===i&&n&&(i=p()),i}function r(t=c){const i=Rv(d,n,(()=>new WeakMap));return Rv(i,t,(()=>{const i={};for(const[r,s]of Object.entries(e.selectors??{}))i[r]=Vv(s,t,p,n);return i}))}return{reducerPath:t,getSelectors:r,get selectors(){return r(i)},selectSlice:i}}const m={name:t,reducer:u,actions:o.actionCreators,caseReducers:o.sliceCaseReducersByName,getInitialState:p,...f(i),injectInto(e,{reducerPath:t,...n}={}){const r=t??i;return e.inject({reducerPath:r,reducer:u},n),{...m,...f(r,!0)}}};return m}}function Vv(e,t,n,i){function r(r,...s){let o=t(r);return void 0===o&&i&&(o=n()),e(o,...s)}return r.unwrapped=e,r}var $v=Nv();function Uv(){}function Hv(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}const qv=$v({name:"user",initialState:{email:null,isAuthenticated:!1},reducers:{setUser:(e,t)=>{e.email=t.payload.email,e.isAuthenticated=!0},clearUser:e=>{e.email=null,e.isAuthenticated=!1}}}),{setUser:Yv,clearUser:Gv}=qv.actions,Xv=qv.reducer,Kv=$v({name:"cart",initialState:{items:[],totalAmount:0},reducers:{addToCart:(e,t)=>{const n=e.items.find((e=>e.id===t.payload.id));n?n.quantity+=t.payload.quantity:e.items.push(t.payload),e.totalAmount=e.items.reduce(((e,t)=>e+t.price*t.quantity),0)},removeFromCart:(e,t)=>{e.items=e.items.filter((e=>e.id!==t.payload)),e.totalAmount=e.items.reduce(((e,t)=>e+t.price*t.quantity),0)},updateQuantity:(e,t)=>{const n=e.items.find((e=>e.id===t.payload.id));n&&(n.quantity=t.payload.quantity,e.totalAmount=e.items.reduce(((e,t)=>e+t.price*t.quantity),0))},clearCart:e=>{e.items=[],e.totalAmount=0}}}),{addToCart:Jv,removeFromCart:Qv,updateQuantity:Zv,clearCart:eb}=Kv.actions,tb=function(e){const t=function(e){const{thunk:t=!0,immutableCheck:n=!0,serializableCheck:i=!0,actionCreatorCheck:r=!0}=e??{};let s=new Iv;return t&&("boolean"==typeof t?s.push(Ov):s.push(Mv(t.extraArgument))),s},{reducer:n,middleware:i,devTools:r=!0,preloadedState:s,enhancers:o}=e||{};let a,l;if("function"==typeof n)a=n;else{if(!Ry(n))throw new Error(Hv(1));a=Ly(n)}l="function"==typeof i?i(t):t();let c=zy;r&&(c=Av({trace:!1,..."object"==typeof r&&r}));const d=function(...e){return t=>(n,i)=>{const r=t(n,i);let s=()=>{throw new Error(Ay(15))};const o={getState:r.getState,dispatch:(e,...t)=>s(e,...t)},a=e.map((e=>e(o)));return s=zy(...a)(r.dispatch),{...r,dispatch:s}}}(...l),h=Lv(d);return Fy(a,s,c(..."function"==typeof o?o(h):h()))}({reducer:{user:Xv,cart:Kv.reducer}}),nb=()=>{var e,t,n,i,r;const{orderId:s}=It(),[a,l]=Ot.useState(null),[c,d]=Ot.useState(!0),[h,u]=Ot.useState(null);Ot.useEffect((()=>{s&&(async()=>{try{d(!0);const e=await Pm(s||"");l(e)}catch(e){u("Failed to load order details"),console.error("Error fetching order details:",e)}finally{d(!1)}})()}),[s]);return c?o.jsx(p,{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"100vh",children:o.jsx(F,{})}):h||!a?o.jsx(p,{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"100vh",children:o.jsx(H,{severity:"error",children:h||"Order not found"})}):o.jsxs(p,{sx:{p:3,maxWidth:1200,margin:"0 auto"},children:[o.jsxs(V,{sx:{p:3,mb:3},children:[o.jsx(v,{variant:"h4",gutterBottom:!0,children:"Order Details"}),o.jsxs(y,{container:!0,spacing:2,children:[o.jsxs(y,{item:!0,xs:12,md:6,children:[o.jsx(v,{variant:"h6",children:"Order Information"}),o.jsxs(v,{children:["Order ID: ",a.orderId]}),o.jsxs(v,{children:["Order Date: ",(e=>{try{const t=new Date(e);return isNaN(t.getTime())?"Invalid Date":t.toLocaleDateString("en-IN",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"})}catch(t){return"Invalid Date"}})(a.orderDate)]}),o.jsxs(v,{children:["Status: ",a.status]}),o.jsxs(v,{children:["Payment Status: ",a.paymentStatus]}),o.jsxs(v,{children:["Payment Method: ",a.paymentMethod]}),o.jsxs(v,{children:["Order Type: ","pos"===a.orderType||"pos"===a.type?"POS":"Online"]})]}),o.jsxs(y,{item:!0,xs:12,md:6,children:[o.jsx(v,{variant:"h6",children:"Customer Information"}),a.shippingAddress?o.jsxs(o.Fragment,{children:[o.jsx(v,{children:a.shippingAddress.fullName}),o.jsx(v,{children:a.shippingAddress.address}),o.jsxs(v,{children:[a.shippingAddress.city,", ",a.shippingAddress.state," ",a.shippingAddress.pincode]}),o.jsx(v,{children:a.shippingAddress.country}),o.jsxs(v,{children:["Phone: ",a.shippingAddress.phone]}),o.jsxs(v,{children:["Email: ",a.shippingAddress.email]})]}):a.customerInfo||a.customer?o.jsxs(o.Fragment,{children:[o.jsxs(v,{children:["Name: ",(null==(e=a.customerInfo)?void 0:e.name)||(null==(t=a.customer)?void 0:t.name)||"Walk-in Customer"]}),o.jsxs(v,{children:["Phone: ",(null==(n=a.customer)?void 0:n.phone)||(null==(i=a.customerInfo)?void 0:i.phone)||"N/A"]}),(null==(r=a.customerInfo)?void 0:r.email)&&o.jsxs(v,{children:["Email: ",a.customerInfo.email]})]}):o.jsxs(o.Fragment,{children:[o.jsx(v,{children:"Walk-in Customer"}),("pos"===a.orderType||"pos"===a.type)&&o.jsx(v,{children:"Phone: N/A"})]})]})]})]}),o.jsxs(V,{sx:{p:3},children:[o.jsx(v,{variant:"h6",gutterBottom:!0,children:"Order Items"}),o.jsx(Y,{children:o.jsxs(G,{children:[o.jsx(X,{children:o.jsxs(K,{children:[o.jsx(J,{children:"Item"}),o.jsx(J,{children:"Image"}),o.jsx(J,{align:"right",children:"Quantity"}),o.jsx(J,{align:"right",children:"Price"}),o.jsx(J,{align:"right",children:"Total"})]})}),o.jsxs(Q,{children:[a.items.map((e=>o.jsxs(K,{children:[o.jsx(J,{children:e.name}),o.jsx(J,{children:e.image&&o.jsx("img",{src:e.image,alt:e.name,style:{width:"50px",height:"50px",objectFit:"cover"}})}),o.jsx(J,{align:"right",children:e.quantity}),o.jsxs(J,{align:"right",children:["",e.price.toFixed(2)]}),o.jsxs(J,{align:"right",children:["",(e.price*e.quantity).toFixed(2)]})]},e.id))),o.jsxs(K,{children:[o.jsx(J,{colSpan:4,align:"right",children:o.jsx("strong",{children:"Total Amount:"})}),o.jsx(J,{align:"right",children:o.jsxs("strong",{children:["",a.total.toFixed(2)]})})]})]})]})})]})]})},ib=[{year:"1978",title:"Humble Beginnings",description:"Sree Sathyabhama Silks was founded by Sathyabhama Rao with just two looms in a small village near Kanchipuram.",icon:""},{year:"1985",title:"First Retail Store",description:"Our first retail store opened in Chennai, bringing authentic handloom silk sarees directly to urban customers.",icon:""},{year:"1992",title:"Expansion & Recognition",description:"The brand expanded to multiple locations across South India and received its first national recognition for craftsmanship.",icon:""},{year:"2005",title:"Preserving Heritage",description:'Launched the "Preserve & Prosper" initiative to train young weavers and preserve traditional weaving techniques.',icon:""},{year:"2012",title:"Going Digital",description:"Embraced e-commerce to bring our exquisite silk sarees to customers across the country and overseas.",icon:""},{year:"2023",title:"Eco-Friendly Practices",description:"Implemented sustainable production practices and eco-friendly packaging to reduce environmental impact.",icon:""}],rb=()=>{const[e,t]=Ot.useState(null);return Ot.useEffect((()=>{(async()=>{try{const e=await ps.get(`${Ds}/api/settings`);t(e.data.store)}catch(e){console.error("Error fetching settings:",e),ni.error("Failed to load store information")}})()}),[]),e?o.jsxs(p,{sx:{minHeight:"100vh",bgcolor:"#f5f5f5"},children:[o.jsxs(p,{sx:{position:"relative",height:"60vh",display:"flex",alignItems:"center",justifyContent:"center",color:"white",textAlign:"center",overflow:"hidden"},children:[o.jsx(p,{sx:{position:"absolute",top:0,left:0,right:0,bottom:0,background:"linear-gradient(rgba(0,0,0,0.5), rgba(0,0,0,0.5))",zIndex:1}}),o.jsx(p,{component:"img",src:"/uploads/about/legacy-of-handloom.jpg",alt:"Silk Weaving Heritage",sx:{position:"absolute",top:0,left:0,width:"100%",height:"100%",objectFit:"cover",zIndex:0}}),o.jsxs(h,{maxWidth:"md",sx:{position:"relative",zIndex:2},children:[o.jsx(v,{variant:"h2",component:"h1",sx:{fontFamily:"Playfair Display, serif",fontWeight:700,mb:3,color:"white"},children:"Our Heritage, Our Story"}),o.jsxs(v,{variant:"h6",sx:{color:"white",opacity:.9},children:["For over four decades, ",(null==e?void 0:e.name)||"Sree Sathyabhama Silks"," has been dedicated to preserving the ancient art of silk weaving while bringing timeless elegance to the modern woman."]})]})]}),o.jsxs(h,{maxWidth:"lg",sx:{py:8},children:[o.jsxs(p,{sx:{textAlign:"center",mb:6},children:[o.jsx(v,{variant:"h3",component:"h2",sx:{fontFamily:"Playfair Display, serif",fontWeight:500,mb:2},children:"Our Story"}),o.jsx(C,{sx:{width:80,mx:"auto",borderColor:"#E31C79",borderWidth:2}})]}),o.jsxs(y,{container:!0,spacing:4,alignItems:"center",children:[o.jsxs(y,{item:!0,xs:12,md:6,children:[o.jsx(v,{variant:"body1",paragraph:!0,children:"Founded in 1978 by Sathyabhama Rao, our journey began with a small workshop of just two looms in a village near Kanchipuram, Tamil Nadu - the silk capital of India."}),o.jsx(v,{variant:"body1",paragraph:!0,children:"What started as a passion to preserve traditional weaving techniques has grown into a beloved brand synonymous with authenticity, craftsmanship, and timeless elegance."}),o.jsx(v,{variant:"body1",children:"Today, we work with over 200 skilled artisans, many from families that have been weaving silk for generations. Every saree we create is a testament to our commitment to keeping this ancient art form alive while adapting to contemporary aesthetics and needs."})]}),o.jsx(y,{item:!0,xs:12,md:6,children:o.jsxs(p,{sx:{position:"relative"},children:[o.jsx(p,{component:"img",src:`${Rs}/uploads/about/art-of-handloom.jpg`,alt:"The art of handloom",sx:{width:"100%",borderRadius:2,boxShadow:3}}),o.jsx(p,{component:"img",src:`${Rs}/uploads/about/weaving-tradition.jpg`,alt:"Weaving traditions",sx:{position:"absolute",bottom:-32,left:-32,width:160,height:160,borderRadius:2,boxShadow:2,border:"4px solid white",display:{xs:"none",md:"block"}}})]})})]})]}),o.jsx(p,{sx:{bgcolor:"grey.50",py:8},children:o.jsxs(h,{maxWidth:"lg",children:[o.jsxs(p,{sx:{textAlign:"center",mb:6},children:[o.jsx(v,{variant:"h3",component:"h2",sx:{fontFamily:"Playfair Display, serif",fontWeight:500,mb:2},children:"Our Mission"}),o.jsx(C,{sx:{width:80,mx:"auto",borderColor:"#E31C79",borderWidth:2}})]}),o.jsxs(y,{container:!0,spacing:4,children:[o.jsx(y,{item:!0,xs:12,md:4,children:o.jsxs(V,{elevation:0,sx:{p:4,textAlign:"center",height:"100%",bgcolor:"white"},children:[o.jsx(p,{sx:{color:"#E31C79",mb:3},children:o.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"64",height:"64",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",children:o.jsx("path",{d:"M12 11c0 3.517-1.009 6.799-2.753 9.571m-3.44-2.04l.054-.09A13.916 13.916 0 008 11a4 4 0 118 0c0 1.017-.07 2.019-.203 3m-2.118 6.844A21.88 21.88 0 0015.171 17m3.839 1.132c.645-2.266.99-4.659.99-7.132A8 8 0 008 4.07M3 15.364c.64-1.319 1-2.8 1-4.364 0-1.457.39-2.823 1.07-4"})})}),o.jsx(v,{variant:"h5",gutterBottom:!0,children:"Preserve Heritage"}),o.jsx(v,{variant:"body2",color:"text.secondary",children:"We are committed to preserving the rich heritage of handloom weaving by documenting traditional techniques and training new generations of weavers."})]})}),o.jsx(y,{item:!0,xs:12,md:4,children:o.jsxs(V,{elevation:0,sx:{p:4,textAlign:"center",height:"100%",bgcolor:"white"},children:[o.jsx(p,{sx:{color:"#E31C79",mb:3},children:o.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"64",height:"64",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",children:o.jsx("path",{d:"M7 21a4 4 0 01-4-4V5a2 2 0 012-2h4a2 2 0 012 2v12a4 4 0 01-4 4zm0 0h12a2 2 0 002-2v-4a2 2 0 00-2-2h-2.343M11 7.343l1.657-1.657a2 2 0 012.828 0l2.829 2.829a2 2 0 010 2.828l-8.486 8.485M7 17h.01"})})}),o.jsx(v,{variant:"h5",gutterBottom:!0,children:"Empower Artisans"}),o.jsx(v,{variant:"body2",color:"text.secondary",children:"We provide fair wages, safe working conditions, and opportunities for growth to our community of weavers, ensuring the sustainability of their livelihoods."})]})}),o.jsx(y,{item:!0,xs:12,md:4,children:o.jsxs(V,{elevation:0,sx:{p:4,textAlign:"center",height:"100%",bgcolor:"white"},children:[o.jsx(p,{sx:{color:"#E31C79",mb:3},children:o.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"64",height:"64",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",children:o.jsx("path",{d:"M3.055 11H5a2 2 0 012 2v1a2 2 0 002 2 2 2 0 012 2v2.945M8 3.935V5.5A2.5 2.5 0 0010.5 8h.5a2 2 0 012 2 2 2 0 104 0 2 2 0 012-2h1.064M15 20.488V18a2 2 0 012-2h3.064M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),o.jsx(v,{variant:"h5",gutterBottom:!0,children:"Global Reach"}),o.jsx(v,{variant:"body2",color:"text.secondary",children:"We aim to showcase the beauty and elegance of traditional Indian silk sarees to the world, bridging cultural boundaries through the language of craftsmanship."})]})})]})]})}),o.jsx(p,{sx:{py:8},children:o.jsxs(h,{maxWidth:"lg",children:[o.jsxs(p,{sx:{textAlign:"center",mb:8},children:[o.jsx(v,{variant:"h3",component:"h2",sx:{fontFamily:"Playfair Display, serif",fontWeight:500,mb:2},children:"Our Journey"}),o.jsx(C,{sx:{width:80,mx:"auto",borderColor:"#E31C79",borderWidth:2}})]}),o.jsxs(p,{sx:{mb:8},children:[o.jsx(v,{variant:"h4",component:"h3",sx:{fontFamily:"Playfair Display, serif",fontWeight:500,mb:4,textAlign:"center"},children:"Visit Us"}),o.jsx(p,{sx:{width:"100%",height:"400px",borderRadius:2,overflow:"hidden",boxShadow:3},dangerouslySetInnerHTML:{__html:e.googleMapsLocation}})]}),o.jsx(p,{sx:{position:"relative","&::before":{content:'""',position:"absolute",left:"50%",top:0,bottom:0,width:4,bgcolor:"primary.light",transform:"translateX(-50%)"}},children:ib.map(((e,t)=>o.jsx(p,{sx:{display:"flex",justifyContent:t%2==0?"flex-start":"flex-end",mb:8,position:"relative","&::before":{content:'""',position:"absolute",left:"50%",top:0,width:20,height:20,borderRadius:"50%",bgcolor:"primary.main",border:"4px solid",borderColor:"primary.light",transform:"translateX(-50%)"}},children:o.jsxs(V,{elevation:0,sx:{p:4,width:{xs:"100%",md:"45%"},bgcolor:"white",borderRadius:2,position:"relative","&::before":{content:'""',position:"absolute",top:"50%",[t%2==0?"right":"left"]:-20,transform:"translateY(-50%)",border:"10px solid transparent",borderRightColor:t%2==0?"white":"transparent",borderLeftColor:t%2==0?"transparent":"white"}},children:[o.jsxs(p,{sx:{display:"flex",alignItems:"center",mb:2},children:[o.jsx(v,{variant:"h2",sx:{mr:2},children:e.icon}),o.jsx(v,{variant:"h4",color:"primary",sx:{fontWeight:"bold"},children:e.year})]}),o.jsx(v,{variant:"h5",gutterBottom:!0,children:e.title}),o.jsx(v,{variant:"body1",color:"text.secondary",children:e.description})]})},t)))})]})})]}):null};var sb={},ob=s;Object.defineProperty(sb,"__esModule",{value:!0});var ab=sb.default=void 0,lb=ob(Yt()),cb=o;ab=sb.default=(0,lb.default)((0,cb.jsx)("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6z"}),"Add");var db={},hb=s;Object.defineProperty(db,"__esModule",{value:!0});var ub=db.default=void 0,pb=hb(Yt()),fb=o;ub=db.default=(0,pb.default)((0,fb.jsx)("path",{d:"M19 13H5v-2h14z"}),"Remove");var mb={},gb=s;Object.defineProperty(mb,"__esModule",{value:!0});var xb=mb.default=void 0,yb=gb(Yt()),vb=o;xb=mb.default=(0,yb.default)((0,vb.jsx)("path",{d:"M12 2C8.13 2 5 5.13 5 9c0 5.25 7 13 7 13s7-7.75 7-13c0-3.87-3.13-7-7-7m0 9.5c-1.38 0-2.5-1.12-2.5-2.5s1.12-2.5 2.5-2.5 2.5 1.12 2.5 2.5-1.12 2.5-2.5 2.5"}),"LocationOn");const bb=[{id:1,name:"Chennai Flagship Store",address:"42, Silk Garden Road, T. Nagar, Chennai - 600017, Tamil Nadu, India",phone:"+91 44 2834 5678",email:"chennai@sreesathyabhamasilks.com",hours:"Monday to Saturday: 10:00 AM - 8:00 PM\nSunday: 11:00 AM - 6:00 PM",isMain:!0},{id:2,name:"Coimbatore Branch",address:"15, Textile Tower, Oppanakara Street, Coimbatore - 641001, Tamil Nadu, India",phone:"+91 422 2394 4567",email:"coimbatore@sreesathyabhamasilks.com",hours:"Monday to Saturday: 10:00 AM - 8:00 PM\nSunday: Closed"},{id:3,name:"Bangalore Branch",address:"28, Silk Boulevard, Jayanagar 4th Block, Bangalore - 560041, Karnataka, India",phone:"+91 80 2664 3456",email:"bangalore@sreesathyabhamasilks.com",hours:"Monday to Saturday: 10:30 AM - 8:30 PM\nSunday: 11:00 AM - 7:00 PM"}],jb=[{question:"Do you ship internationally?",answer:"Yes, we ship to most countries worldwide. International shipping typically takes 7-14 business days depending on the destination. Customs duties and taxes may apply according to the country's regulations."},{question:"What is your return policy?",answer:"We accept returns within 14 days of delivery if the product is unused, unworn, and in its original packaging with tags intact. Please note that shipping charges are non-refundable, and the customer is responsible for return shipping costs."},{question:"How do I care for my silk saree?",answer:"We recommend dry cleaning for all our silk sarees. Store them in a cool, dry place wrapped in a cotton cloth. Avoid exposure to direct sunlight for extended periods. For minor wrinkles, use a steam iron on low heat without direct contact."},{question:"Do you provide blouse stitching services?",answer:"Yes, we offer customized blouse stitching services. You can provide your measurements at checkout, and our expert tailors will craft a perfectly fitting blouse. Please allow an additional 5-7 days for stitching and delivery."},{question:"Can I customize my saree order?",answer:"For bulk orders, we offer customization options such as color variations, border designs, and pallu patterns. Please contact our customer service team directly for customization requests at least 30 days before your required delivery date."}],wb=()=>{const[e,t]=Ot.useState(null),[n,i]=Ot.useState({name:"",email:"",phone:"",subject:"",message:""}),[r,s]=Ot.useState(!1),[a,l]=Ot.useState(!1),[c,d]=Ot.useState(!1),[u,f]=Ot.useState(!1),[m,x]=Ot.useState(!1),[b,j]=Ot.useState(null);if(Ot.useEffect((()=>{(async()=>{try{const e=await ps.get(`${Ds}/api/settings`);t(e.data.store)}catch(e){console.error("Error fetching settings:",e),ni.error("Failed to load store information")}})()}),[]),!e)return null;const w=e=>{const{name:t,value:n}=e.target;i((e=>({...e,[t]:n})))};return o.jsxs(p,{sx:{minHeight:"100vh",bgcolor:"#f5f5f5"},children:[o.jsxs(p,{sx:{position:"relative",height:"40vh",display:"flex",alignItems:"center",justifyContent:"center",color:"white",textAlign:"center",overflow:"hidden"},children:[o.jsx(p,{sx:{position:"absolute",top:0,left:0,right:0,bottom:0,background:"linear-gradient(rgba(0,0,0,0.5), rgba(0,0,0,0.5))",zIndex:1}}),o.jsx(p,{component:"img",src:"/uploads/contact/contact-banner.jpg",alt:"Contact Us",sx:{position:"absolute",top:0,left:0,width:"100%",height:"100%",objectFit:"cover",zIndex:0}}),o.jsxs(h,{maxWidth:"md",sx:{position:"relative",zIndex:2},children:[o.jsx(v,{variant:"h2",component:"h1",sx:{fontFamily:"Playfair Display, serif",fontWeight:700,mb:3,color:"white"},children:"Contact Us"}),o.jsx(v,{variant:"h6",sx:{color:"white",opacity:.9},children:"Have questions or need assistance? We're here to help. Reach out to our team for personalized service and expert advice."})]})]}),o.jsxs(h,{maxWidth:"lg",sx:{py:8},children:[o.jsxs(p,{sx:{mb:8},children:[o.jsx(v,{variant:"h4",component:"h3",sx:{fontFamily:"Playfair Display, serif",fontWeight:500,mb:4,textAlign:"center"},children:"Find Us"}),o.jsx(p,{sx:{width:"100%",height:"400px",borderRadius:2,overflow:"hidden",boxShadow:3},dangerouslySetInnerHTML:{__html:e.googleMapsLocation}})]}),o.jsxs(y,{container:!0,spacing:4,sx:{mb:8},children:[o.jsx(y,{item:!0,xs:12,md:4,children:o.jsxs(V,{elevation:0,sx:{p:4,textAlign:"center",height:"100%",bgcolor:"white"},children:[o.jsx(p,{sx:{color:"#E31C79",mb:3},children:o.jsx(ax,{sx:{fontSize:48}})}),o.jsx(v,{variant:"h5",gutterBottom:!0,children:"Call Us"}),o.jsx(v,{variant:"body2",color:"text.secondary",paragraph:!0,children:"Our customer service team is available to help you with any inquiries."}),o.jsx(g,{href:"tel:+914428345678",sx:{color:"#E31C79","&:hover":{textDecoration:"underline"}},children:"+91 44 2834 5678"}),o.jsx(v,{variant:"body2",color:"text.secondary",sx:{mt:1},children:"Mon-Sat: 9:00 AM - 6:00 PM"})]})}),o.jsx(y,{item:!0,xs:12,md:4,children:o.jsxs(V,{elevation:0,sx:{p:4,textAlign:"center",height:"100%",bgcolor:"white"},children:[o.jsx(p,{sx:{color:"#E31C79",mb:3},children:o.jsx(nx,{sx:{fontSize:48}})}),o.jsx(v,{variant:"h5",gutterBottom:!0,children:"Email Us"}),o.jsx(v,{variant:"body2",color:"text.secondary",paragraph:!0,children:"Send us an email and we'll get back to you within 24 hours."}),o.jsx(g,{href:"mailto:info@sreesathyabhamasilks.com",sx:{color:"#E31C79","&:hover":{textDecoration:"underline"}},children:"info@sreesathyabhamasilks.com"}),o.jsx(v,{variant:"body2",color:"text.secondary",sx:{mt:1},children:"24/7 Email Support"})]})}),o.jsx(y,{item:!0,xs:12,md:4,children:o.jsxs(V,{elevation:0,sx:{p:4,textAlign:"center",height:"100%",bgcolor:"white"},children:[o.jsx(p,{sx:{color:"#E31C79",mb:3},children:o.jsx(xb,{sx:{fontSize:48}})}),o.jsx(v,{variant:"h5",gutterBottom:!0,children:"Visit Us"}),o.jsx(v,{variant:"body2",color:"text.secondary",paragraph:!0,children:"Experience our collection in person at one of our stores."}),o.jsx(v,{variant:"h6",color:"primary",gutterBottom:!0,children:"3 Locations in India"}),o.jsx(v,{variant:"body2",color:"text.secondary",children:"See store details below for timings"})]})})]}),o.jsxs(y,{container:!0,spacing:6,children:[o.jsxs(y,{item:!0,xs:12,lg:6,children:[o.jsx(v,{variant:"h3",component:"h2",sx:{fontFamily:"Playfair Display, serif",fontWeight:500,mb:4},children:"Send a Message"}),o.jsx(v,{variant:"body1",color:"text.secondary",paragraph:!0,children:"Have a question or inquiry? Fill out the form below and our team will get back to you as soon as possible."}),m&&o.jsx(H,{severity:"success",sx:{mb:4},children:"Thank you for contacting us! Your message has been received. One of our team members will contact you shortly."}),b&&o.jsx(H,{severity:"error",sx:{mb:4},children:b}),o.jsx(V,{component:"form",onSubmit:async e=>{var t,r,s,o;if(e.preventDefault(),f(!0),j(null),x(!1),!n.name||!n.email||!n.message)return l(!0),j("All fields are required"),void f(!1);try{await ps.post(`${Ds}/api/email/contact`,n),response.data.success?(x(!0),i({name:"",email:"",phone:"",subject:"",message:""}),ni.success("Message sent successfully!")):j(response.data.message||"Failed to send message")}catch(a){j((null==(r=null==(t=a.response)?void 0:t.data)?void 0:r.message)||(null==(o=null==(s=a.response)?void 0:s.data)?void 0:o.details)||"Failed to send message")}finally{f(!1)}},elevation:0,sx:{p:4,bgcolor:"white",borderRadius:2},children:o.jsxs(y,{container:!0,spacing:3,children:[o.jsx(y,{item:!0,xs:12,sm:6,children:o.jsx(R,{required:!0,fullWidth:!0,label:"Your Name",name:"name",value:n.name,onChange:w,error:a&&!n.name,helperText:a&&!n.name?"Name is required":""})}),o.jsx(y,{item:!0,xs:12,sm:6,children:o.jsx(R,{required:!0,fullWidth:!0,label:"Email Address",name:"email",type:"email",value:n.email,onChange:w,error:a&&!n.email,helperText:a&&!n.email?"Email is required":""})}),o.jsx(y,{item:!0,xs:12,sm:6,children:o.jsx(R,{fullWidth:!0,label:"Phone Number",name:"phone",value:n.phone,onChange:w})}),o.jsx(y,{item:!0,xs:12,sm:6,children:o.jsx(R,{fullWidth:!0,label:"Subject",name:"subject",value:n.subject,onChange:w})}),o.jsx(y,{item:!0,xs:12,children:o.jsx(R,{required:!0,fullWidth:!0,label:"Your Message",name:"message",multiline:!0,rows:5,value:n.message,onChange:w,error:a&&!n.message,helperText:a&&!n.message?"Message is required":""})}),o.jsx(y,{item:!0,xs:12,children:o.jsx(g,{type:"submit",variant:"contained",size:"large",fullWidth:!0,sx:{bgcolor:"#E31C79","&:hover":{bgcolor:"#C41E3A"}},disabled:u,children:u?"Sending...":"Send Message"})})]})})]}),o.jsxs(y,{item:!0,xs:12,lg:6,children:[o.jsx(v,{variant:"h3",component:"h2",sx:{fontFamily:"Playfair Display, serif",fontWeight:500,mb:4},children:"Our Stores"}),o.jsx(v,{variant:"body1",color:"text.secondary",paragraph:!0,children:"Visit one of our stores to experience our exquisite collection in person. Our knowledgeable staff is ready to assist you."}),o.jsx(p,{sx:{display:"flex",flexDirection:"column",gap:3},children:bb.map((e=>o.jsxs(V,{elevation:0,sx:{p:3,bgcolor:"white",borderRadius:2,borderLeft:4,borderColor:e.isMain?"#E31C79":"grey.200"},children:[o.jsxs(p,{sx:{display:"flex",alignItems:"center",mb:2},children:[o.jsx(v,{variant:"h6",sx:{flex:1},children:e.name}),e.isMain&&o.jsx(v,{variant:"caption",sx:{bgcolor:"primary.light",color:"primary.main",px:1,py:.5,borderRadius:1,textTransform:"uppercase"},children:"Main"})]}),o.jsx(v,{variant:"body2",color:"text.secondary",paragraph:!0,children:e.address}),o.jsxs(p,{sx:{display:"flex",gap:2,mb:1},children:[o.jsx(g,{href:`tel:${e.phone.replace(/\s/g,"")}`,size:"small",sx:{color:"#E31C79"},children:e.phone}),o.jsx(g,{href:`mailto:${e.email}`,size:"small",sx:{color:"#E31C79"},children:e.email})]}),o.jsx(v,{variant:"body2",color:"text.secondary",sx:{whiteSpace:"pre-line"},children:e.hours})]},e.id)))})]})]}),o.jsxs(p,{sx:{mt:8},children:[o.jsxs(p,{sx:{textAlign:"center",mb:6},children:[o.jsx(v,{variant:"h3",component:"h2",sx:{fontFamily:"Playfair Display, serif",fontWeight:500,mb:2},children:"Frequently Asked Questions"}),o.jsx(v,{variant:"body1",color:"text.secondary",sx:{maxWidth:800,mx:"auto"},children:"Find answers to common questions about our products, services, and policies. If you don't see your question answered here, please contact us directly."})]}),o.jsx(p,{sx:{maxWidth:800,mx:"auto"},children:jb.map(((e,t)=>{return o.jsxs(_e,{expanded:c===`panel${t}`,onChange:(n=`panel${t}`,(e,t)=>{d(!!t&&n)}),sx:{"&:not(:last-child)":{mb:2},"&:before":{display:"none"}},children:[o.jsx(ke,{expandIcon:c===`panel${t}`?o.jsx(ub,{}):o.jsx(ab,{}),sx:{bgcolor:"white",borderRadius:2,"&:hover":{bgcolor:"grey.50"}},children:o.jsx(v,{variant:"h6",children:e.question})}),o.jsx(Ee,{sx:{bgcolor:"grey.50"},children:o.jsx(v,{variant:"body1",color:"text.secondary",children:e.answer})})]},t);var n}))})]})]})]})},Sb=()=>o.jsx(h,{maxWidth:"lg",sx:{py:8},children:o.jsxs(V,{elevation:3,sx:{p:4,mb:4},children:[o.jsx(v,{variant:"h3",component:"h1",gutterBottom:!0,align:"center",color:"primary",children:"Shipping Policy"}),o.jsxs(p,{sx:{display:"flex",flexDirection:"column",gap:4},children:[o.jsx(v,{variant:"h5",gutterBottom:!0,color:"primary",children:"Delivery Time"}),o.jsx(v,{variant:"body1",paragraph:!0,children:"We process all orders within 24-48 hours of receiving them. Delivery time varies based on your location:"}),o.jsxs(v,{variant:"body1",component:"ul",sx:{pl:4},children:[o.jsx("li",{children:"Within Kurnool: 1-2 business days"}),o.jsx("li",{children:"Other cities in Andhra Pradesh: 2-3 business days"}),o.jsx("li",{children:"Other states in India: 3-5 business days"})]}),o.jsx(v,{variant:"h5",gutterBottom:!0,color:"primary",children:"Shipping Methods"}),o.jsx(v,{variant:"body1",paragraph:!0,children:"We use reliable courier services to ensure safe and timely delivery of your orders. All shipments are fully insured and tracked."}),o.jsx(v,{variant:"h5",gutterBottom:!0,color:"primary",children:"Shipping Charges"}),o.jsxs(v,{variant:"body1",paragraph:!0,children:[" Free shipping on orders above 5000",o.jsx("br",{})," Standard shipping charges apply for orders below 5000",o.jsx("br",{})," Express delivery available at additional cost"]}),o.jsx(v,{variant:"h5",gutterBottom:!0,color:"primary",children:"Order Tracking"}),o.jsx(v,{variant:"body1",paragraph:!0,children:"Once your order is shipped, you will receive a tracking number via email and SMS. You can use this number to track your order's status on our website or the courier service's website."}),o.jsx(v,{variant:"h5",gutterBottom:!0,color:"primary",children:"International Shipping"}),o.jsx(v,{variant:"body1",paragraph:!0,children:"Currently, we only ship within India. International shipping services will be available soon."}),o.jsx(v,{variant:"h5",gutterBottom:!0,color:"primary",children:"Delivery Address"}),o.jsx(v,{variant:"body1",paragraph:!0,children:"Please ensure that your delivery address is complete and accurate. We are not responsible for delays caused by incorrect addresses or recipient unavailability."})]})]})}),Cb=()=>o.jsx(h,{maxWidth:"lg",sx:{py:8},children:o.jsxs(V,{elevation:3,sx:{p:4,mb:4},children:[o.jsx(v,{variant:"h3",component:"h1",gutterBottom:!0,align:"center",color:"primary",children:"Refund Policy"}),o.jsxs(p,{sx:{display:"flex",flexDirection:"column",gap:4},children:[o.jsx(v,{variant:"h5",gutterBottom:!0,color:"primary",children:"Return Period"}),o.jsx(v,{variant:"body1",paragraph:!0,children:"We offer a 7-day return window from the date of delivery for all our products. The item must be unworn, unwashed, and in its original packaging with all tags attached."}),o.jsx(v,{variant:"h5",gutterBottom:!0,color:"primary",children:"Return Process"}),o.jsxs(v,{variant:"body1",paragraph:!0,children:["1. Log in to your account and go to your order history",o.jsx("br",{}),"2. Select the order you want to return",o.jsx("br",{}),"3. Choose the items you want to return and provide a reason",o.jsx("br",{}),"4. Print the return label and packing slip",o.jsx("br",{}),"5. Pack the items securely in their original packaging",o.jsx("br",{}),"6. Drop off the package at any authorized courier center"]}),o.jsx(v,{variant:"h5",gutterBottom:!0,color:"primary",children:"Refund Process"}),o.jsxs(v,{variant:"body1",paragraph:!0,children:[" Once we receive and inspect your return, we will process the refund within 5-7 business days",o.jsx("br",{})," The refund will be issued to the original payment method",o.jsx("br",{})," You will receive an email confirmation when the refund is processed",o.jsx("br",{})," The refund amount will reflect in your account within 5-10 business days, depending on your bank"]}),o.jsx(v,{variant:"h5",gutterBottom:!0,color:"primary",children:"Non-Returnable Items"}),o.jsxs(v,{variant:"body1",paragraph:!0,children:["The following items cannot be returned:",o.jsx("br",{})," Customized or personalized items",o.jsx("br",{}),' Items marked as "Final Sale"',o.jsx("br",{})," Items damaged due to customer misuse",o.jsx("br",{})," Items without original tags and packaging"]}),o.jsx(v,{variant:"h5",gutterBottom:!0,color:"primary",children:"Exchange Policy"}),o.jsx(v,{variant:"body1",paragraph:!0,children:"We offer size/color exchanges for eligible items. The exchange process follows the same steps as returns, but you can select the new size/color during the process."}),o.jsx(v,{variant:"h5",gutterBottom:!0,color:"primary",children:"Damaged Items"}),o.jsx(v,{variant:"body1",paragraph:!0,children:"If you receive a damaged item, please contact our customer service within 48 hours of delivery. Include photos of the damage, and we will arrange for a replacement or refund."})]})]})}),_b=()=>o.jsx(h,{maxWidth:"lg",sx:{py:8},children:o.jsxs(V,{elevation:3,sx:{p:4,mb:4},children:[o.jsx(v,{variant:"h3",component:"h1",gutterBottom:!0,align:"center",color:"primary",children:"Terms and Conditions"}),o.jsxs(p,{sx:{display:"flex",flexDirection:"column",gap:4},children:[o.jsx(v,{variant:"h5",gutterBottom:!0,color:"primary",children:"1. Acceptance of Terms"}),o.jsx(v,{variant:"body1",paragraph:!0,children:"By accessing and using this website, you accept and agree to be bound by the terms and conditions of this agreement."}),o.jsx(v,{variant:"h5",gutterBottom:!0,color:"primary",children:"2. Use License"}),o.jsx(v,{variant:"body1",paragraph:!0,children:"Permission is granted to temporarily download one copy of the materials (information or software) on Sree Sathyabhama Silks's website for personal, non-commercial transitory viewing only."}),o.jsx(v,{variant:"h5",gutterBottom:!0,color:"primary",children:"3. Disclaimer"}),o.jsx(v,{variant:"body1",paragraph:!0,children:"The materials on Sree Sathyabhama Silks's website are provided on an 'as is' basis. Sree Sathyabhama Silks makes no warranties, expressed or implied, and hereby disclaims and negates all other warranties including, without limitation, implied warranties or conditions of merchantability, fitness for a particular purpose, or non-infringement of intellectual property or other violation of rights."}),o.jsx(v,{variant:"h5",gutterBottom:!0,color:"primary",children:"4. Limitations"}),o.jsx(v,{variant:"body1",paragraph:!0,children:"In no event shall Sree Sathyabhama Silks or its suppliers be liable for any damages (including, without limitation, damages for loss of data or profit, or due to business interruption) arising out of the use or inability to use the materials on Sree Sathyabhama Silks's website."}),o.jsx(v,{variant:"h5",gutterBottom:!0,color:"primary",children:"5. Accuracy of Materials"}),o.jsx(v,{variant:"body1",paragraph:!0,children:"The materials appearing on Sree Sathyabhama Silks's website could include technical, typographical, or photographic errors. Sree Sathyabhama Silks does not warrant that any of the materials on its website are accurate, complete, or current."}),o.jsx(v,{variant:"h5",gutterBottom:!0,color:"primary",children:"6. Links"}),o.jsx(v,{variant:"body1",paragraph:!0,children:"Sree Sathyabhama Silks has not reviewed all of the sites linked to its website and is not responsible for the contents of any such linked site. The inclusion of any link does not imply endorsement by Sree Sathyabhama Silks of the site."}),o.jsx(v,{variant:"h5",gutterBottom:!0,color:"primary",children:"7. Modifications"}),o.jsx(v,{variant:"body1",paragraph:!0,children:"Sree Sathyabhama Silks may revise these terms of service for its website at any time without notice. By using this website, you are agreeing to be bound by the then current version of these terms of service."}),o.jsx(v,{variant:"h5",gutterBottom:!0,color:"primary",children:"8. Governing Law"}),o.jsx(v,{variant:"body1",paragraph:!0,children:"These terms and conditions are governed by and construed in accordance with the laws of India and you irrevocably submit to the exclusive jurisdiction of the courts in that location."})]})]})}),kb=()=>o.jsx(h,{maxWidth:"lg",sx:{py:8},children:o.jsxs(V,{elevation:3,sx:{p:4,mb:4},children:[o.jsx(v,{variant:"h3",component:"h1",gutterBottom:!0,align:"center",color:"primary",children:"Privacy Policy"}),o.jsxs(p,{sx:{display:"flex",flexDirection:"column",gap:4},children:[o.jsx(v,{variant:"h5",gutterBottom:!0,color:"primary",children:"Information We Collect"}),o.jsxs(v,{variant:"body1",paragraph:!0,children:["We collect information that you provide directly to us, including:",o.jsx("br",{})," Name and contact information",o.jsx("br",{})," Billing and shipping addresses",o.jsx("br",{})," Payment information",o.jsx("br",{})," Order history",o.jsx("br",{})," Email communications"]}),o.jsx(v,{variant:"h5",gutterBottom:!0,color:"primary",children:"How We Use Your Information"}),o.jsxs(v,{variant:"body1",paragraph:!0,children:["We use the information we collect to:",o.jsx("br",{})," Process your orders and payments",o.jsx("br",{})," Send you order confirmations and updates",o.jsx("br",{})," Communicate with you about products and services",o.jsx("br",{})," Improve our website and customer service",o.jsx("br",{})," Comply with legal obligations"]}),o.jsx(v,{variant:"h5",gutterBottom:!0,color:"primary",children:"Information Sharing"}),o.jsxs(v,{variant:"body1",paragraph:!0,children:["We do not sell or rent your personal information to third parties. We may share your information with:",o.jsx("br",{})," Service providers who assist in our operations",o.jsx("br",{})," Payment processors",o.jsx("br",{})," Shipping partners",o.jsx("br",{})," Law enforcement when required by law"]}),o.jsx(v,{variant:"h5",gutterBottom:!0,color:"primary",children:"Data Security"}),o.jsx(v,{variant:"body1",paragraph:!0,children:"We implement appropriate security measures to protect your personal information. However, no method of transmission over the internet is 100% secure."}),o.jsx(v,{variant:"h5",gutterBottom:!0,color:"primary",children:"Cookies and Tracking"}),o.jsxs(v,{variant:"body1",paragraph:!0,children:["We use cookies and similar tracking technologies to:",o.jsx("br",{})," Remember your preferences",o.jsx("br",{})," Analyze website traffic",o.jsx("br",{})," Improve user experience",o.jsx("br",{})," Provide personalized content"]}),o.jsx(v,{variant:"h5",gutterBottom:!0,color:"primary",children:"Your Rights"}),o.jsxs(v,{variant:"body1",paragraph:!0,children:["You have the right to:",o.jsx("br",{})," Access your personal information",o.jsx("br",{})," Correct inaccurate data",o.jsx("br",{})," Request deletion of your data",o.jsx("br",{})," Opt-out of marketing communications",o.jsx("br",{})," Export your data"]}),o.jsx(v,{variant:"h5",gutterBottom:!0,color:"primary",children:"Contact Us"}),o.jsxs(v,{variant:"body1",paragraph:!0,children:["If you have any questions about this Privacy Policy, please contact us at:",o.jsx("br",{}),"Email: studioktexdesign@gmail.com",o.jsx("br",{}),"Phone: +91-94407 53583",o.jsx("br",{}),"Address: #38/5, Minchin Bazaar, Kurnool, Andhra Pradesh- 518001"]})]})]})});var Eb={},Pb=s;Object.defineProperty(Eb,"__esModule",{value:!0});var Ob=Eb.default=void 0,Mb=Pb(Yt()),Ab=o;Ob=Eb.default=(0,Mb.default)((0,Ab.jsx)("path",{d:"M16.59 8.59 12 13.17 7.41 8.59 6 10l6 6 6-6z"}),"ExpandMore");const Tb=()=>{const[e,t]=Ot.useState(!1);return o.jsx(h,{maxWidth:"lg",sx:{py:8},children:o.jsxs(V,{elevation:3,sx:{p:4,mb:4},children:[o.jsx(v,{variant:"h3",component:"h1",gutterBottom:!0,align:"center",color:"primary",children:"Frequently Asked Questions"}),o.jsx(v,{variant:"body1",paragraph:!0,align:"center",sx:{mb:4},children:"Find answers to common questions about our silk sarees and services"}),o.jsx(p,{sx:{display:"flex",flexDirection:"column",gap:2},children:[{question:"What is the difference between pure silk and artificial silk?",answer:"Pure silk is made from natural silk fibers produced by silkworms, while artificial silk (rayon/viscose) is man-made. Pure silk has a more luxurious feel, better durability, and natural temperature regulation. It also has a distinct sheen and texture that artificial silk cannot replicate."},{question:"How do I care for my silk saree?",answer:"Silk sarees should be dry cleaned only. Store them in a cool, dry place away from direct sunlight. Use acid-free tissue paper between folds to prevent creasing. Avoid hanging them for long periods as it may cause stretching. Keep them away from perfumes and deodorants."},{question:"What is the best way to drape a silk saree?",answer:"Start by tucking the plain end into your petticoat at the waist. Make pleats (5-7) and tuck them in. Wrap the remaining fabric around your body once. Drape the pallu over your shoulder. For detailed instructions, please refer to our saree draping guide."},{question:"How can I identify authentic silk?",answer:"Authentic silk has a natural sheen that changes with light, a slightly rough texture, and a distinct smell when burned. It's also heavier than artificial silk. We provide authenticity certificates with all our pure silk products."},{question:"What occasions are suitable for silk sarees?",answer:"Silk sarees are perfect for weddings, festivals, religious ceremonies, and formal events. Different types of silk sarees suit different occasions - Kanjivaram for weddings, Banarasi for celebrations, and lighter silk sarees for daytime events."},{question:"Do you offer customization services?",answer:"Yes, we offer customization services for our silk sarees. You can choose specific colors, patterns, and designs. Custom orders typically take 2-3 weeks to complete. Please contact our customer service for more details."},{question:"What is your exchange policy for silk sarees?",answer:"We offer a 7-day exchange period for all silk sarees. The item must be unworn, unwashed, and in its original packaging with all tags attached. Custom-made sarees are not eligible for exchange."},{question:"How do I measure for a silk saree?",answer:"Standard silk sarees are 5.5 to 6 meters in length. The width varies between 45-48 inches. We recommend checking your height and comfort level when choosing the length. Our size guide provides detailed measurements for different body types."}].map(((n,i)=>{return o.jsxs(_e,{expanded:e===`panel${i}`,onChange:(r=`panel${i}`,(e,n)=>{t(!!n&&r)}),sx:{"&:before":{display:"none"}},children:[o.jsx(ke,{expandIcon:o.jsx(Ob,{}),"aria-controls":`panel${i}bh-content`,id:`panel${i}bh-header`,children:o.jsx(v,{variant:"h6",color:"primary",children:n.question})}),o.jsx(Ee,{children:o.jsx(v,{variant:"body1",children:n.answer})})]},i);var r}))})]})})},Ib=280;function Db(){var e,t;const n=At(),i=l(),r=c(i.breakpoints.down("sm")),[s,a]=Ot.useState(!r),[h,g]=Ot.useState({orders:0,products:0,categories:0,customers:0,totalStock:0,lowStock:0}),[x,y]=Ot.useState(""),[P,O]=Ot.useState([]),[M,A]=Ot.useState(!1),[T,I]=Ot.useState(null);Ot.useEffect((()=>{(async()=>{try{const[e,t,n,i]=await Promise.all([Em(),wm(),Tm(),fm()]),r=new Set(e.map((e=>{var t;return null==(t=e.shippingAddress)?void 0:t.email})).filter(Boolean)),s=i.filter((e=>!r.has(e.email))).length,o=t.filter((e=>e.stock<10)).length,a=t.reduce(((e,t)=>e+t.stock),0),l=e.filter((e=>"completed"===e.paymentStatus||"pos"===e.type));g({orders:l.length,products:t.length,categories:n.length,customers:r.size+s,totalStock:a,lowStock:o})}catch(e){console.error("Error fetching counts:",e)}})()}),[]);const F=()=>{a(!s)},L=e=>"dashboard"===e?"/admin"===location.pathname||"/admin/dashboard"===location.pathname:location.pathname===`/admin/${e}`,z=e=>{if("login"===e)localStorage.removeItem("adminAuth"),n("/login");else{const t=e.replace("/admin/","");n(`/admin/${t}`)}r&&a(!1)},B=[{text:"Dashboard",icon:o.jsx(Pe,{}),path:"dashboard"},{text:"Products",icon:o.jsx(Oe,{}),path:"products",badge:h.products,badgeColor:h.lowStock>0?"error":"primary"},{text:"Categories",icon:o.jsx(Me,{}),path:"categories",badge:h.categories,badgeColor:"primary"},{text:"Orders",icon:o.jsx(D,{}),path:"orders",badge:h.orders,badgeColor:"primary"},{text:"Customers",icon:o.jsx(Ae,{}),path:"customers",badge:h.customers,badgeColor:"primary"},{text:"Settings",icon:o.jsx(Te,{}),path:"settings"}],W=[{path:"login",label:"Logout",icon:o.jsx(ze,{})}],N=o.jsxs(p,{sx:{height:"100%",display:"flex",flexDirection:"column",bgcolor:"#f8f9fa"},children:[o.jsxs(p,{sx:{p:3,display:"flex",alignItems:"center",gap:2},children:[o.jsx(Ie,{sx:{width:40,height:40,bgcolor:i.palette.primary.main,fontFamily:"Playfair Display, serif"},children:"A"}),o.jsx(v,{variant:"h6",sx:{fontWeight:600,color:"#1a1f36",fontFamily:"Playfair Display, serif"},children:"Admin Panel"})]}),o.jsx(C,{sx:{mx:2,bgcolor:"rgba(0,0,0,0.06)"}}),o.jsx(p,{sx:{p:2},children:o.jsxs(V,{sx:{p:1,display:"flex",alignItems:"center",gap:1,bgcolor:"white",position:"relative"},children:[o.jsx(De,{sx:{color:"#666"}}),o.jsx(R,{fullWidth:!0,placeholder:"Search orders, products, customers (try: pos, online, low stock, etc.)",variant:"standard",size:"small",value:x,onChange:e=>(async e=>{if(y(e),!e.trim())return O([]),void A(!1);try{const[t,n,i,r]=await Promise.all([wm(),Em(),Tm(),fm()]),s=e.toLowerCase().trim(),o=s.includes("pos")||s.includes("offline"),a=s.includes("online")||s.includes("web"),l=s.includes("guest")||s.includes("walk-in")||s.includes("walkin"),c=s.includes("pending"),d=s.includes("processing"),h=s.includes("shipped"),u=s.includes("delivered"),p=s.includes("cancelled")||s.includes("canceled"),f=s.includes("paid")||s.includes("completed"),m=s.includes("unpaid")||s.includes("pending payment"),g=s.includes("low stock")||s.includes("lowstock"),x=s.includes("out of stock")||s.includes("outofstock"),y=n.filter((e=>{var t,n,i,r,g,x,y,v,b,j,w,S;if(o&&"pos"!==e.type&&"pos"!==e.orderType)return!1;if(a&&("pos"===e.type||"pos"===e.orderType))return!1;if(c&&"pending"!==e.status)return!1;if(d&&"processing"!==e.status)return!1;if(h&&"shipped"!==e.status)return!1;if(u&&"delivered"!==e.status)return!1;if(p&&"cancelled"!==e.status)return!1;if(f&&"completed"!==e.paymentStatus&&"pos"!==e.type&&"pos"!==e.orderType)return!1;if(m&&("completed"===e.paymentStatus||"pos"===e.type||"pos"===e.orderType))return!1;if("pos"===e.type||"pos"===e.orderType){const o=!(null==(t=e.customer)?void 0:t.name)||"Walk-in Customer"===e.customer.name;return!(l&&!o)&&((null==(i=null==(n=e.customer)?void 0:n.phone)?void 0:i.toLowerCase().includes(s))||(null==(g=null==(r=e.customer)?void 0:r.name)?void 0:g.toLowerCase().includes(s))||e.id.toLowerCase().includes(s)||e.total.toString().includes(s))}const C="string"==typeof e.shippingAddress?JSON.parse(e.shippingAddress):e.shippingAddress;return(null==(x=null==C?void 0:C.fullName)?void 0:x.toLowerCase().includes(s))||(null==(y=null==C?void 0:C.email)?void 0:y.toLowerCase().includes(s))||(null==(v=null==C?void 0:C.phone)?void 0:v.toLowerCase().includes(s))||(null==(b=null==C?void 0:C.address)?void 0:b.toLowerCase().includes(s))||(null==(j=null==C?void 0:C.city)?void 0:j.toLowerCase().includes(s))||(null==(w=null==C?void 0:C.state)?void 0:w.toLowerCase().includes(s))||(null==(S=null==C?void 0:C.pincode)?void 0:S.includes(s))||e.id.toLowerCase().includes(s)||e.total.toString().includes(s)})),v=[...t.filter((e=>{var t,n;return!(g&&e.stock>=10)&&(!x||0!==e.stock)&&(e.name.toLowerCase().includes(s)||(null==(t=e.description)?void 0:t.toLowerCase().includes(s))||(null==(n=e.category)?void 0:n.toLowerCase().includes(s))||e.sku&&e.sku.toLowerCase().includes(s)||e.price.toString().includes(s)||e.stock.toString().includes(s))})).map((e=>({type:"Product",name:e.name,id:e.id,path:"/admin/products",details:`Stock: ${e.stock} | Price: ${e.price}${e.stock<10?" | Low Stock":""}${0===e.stock?" | Out of Stock":""}`}))),...y.map((e=>({type:"Order",name:`Order #${e.id}`,id:e.id,path:"/admin/orders",details:`${"pos"===e.type?"POS Order":"Online Order"} | ${e.status} | Total: ${e.total}`}))),...i.filter((e=>e.name.toLowerCase().includes(s))).map((e=>({type:"Category",name:e.name,id:e.id,path:"/admin/categories",details:`${t.filter((t=>t.category===e.name)).length} products`}))),...r.filter((e=>{var t,n;return(!l||"Walk-in Customer"===e.name)&&((null==(t=e.name)?void 0:t.toLowerCase().includes(s))||(null==(n=e.phone)?void 0:n.toLowerCase().includes(s))||e.email&&e.email.toLowerCase().includes(s))})).map((e=>({type:"Customer",name:e.name||"Walk-in Customer",id:e.phone,phone:e.phone,path:"/admin/customers",details:`Phone: ${e.phone}${e.totalOrders?` | Orders: ${e.totalOrders}`:""}`})))].filter(((e,t,n)=>t===n.findIndex((t=>t.type===e.type&&t.id===e.id))));O(v),A(!0)}catch(t){console.error("Error searching:",t)}})(e.target.value),InputProps:{startAdornment:o.jsx(q,{position:"start",children:o.jsx(De,{})}),endAdornment:x&&o.jsx(q,{position:"end",children:o.jsx(f,{size:"small",onClick:()=>{y(""),O([]),A(!1)},sx:{p:.5},children:o.jsx(Re,{})})})},sx:{"& .MuiInputBase-root":{"&:before":{display:"none"},"&:after":{display:"none"}}}}),M&&P.length>0&&o.jsx(V,{sx:{position:"absolute",top:"100%",left:0,right:0,mt:1,maxHeight:300,overflow:"auto",zIndex:1e3,boxShadow:"0 4px 6px rgba(0,0,0,0.1)"},children:P.map((e=>o.jsxs(k,{onClick:()=>(e=>{switch(y(""),O([]),A(!1),e.type){case"Order":n(`/admin/orders?highlight=${e.id}`);break;case"Product":n(`/admin/products?highlight=${e.id}`);break;case"Category":n(`/admin/categories?highlight=${e.id}`);break;case"Customer":n(`/admin/customers?highlight=${e.id}&phone=${e.phone}`);break;default:n(e.path)}})(e),sx:{cursor:"pointer","&:hover":{bgcolor:"rgba(227, 28, 121, 0.1)"}},children:[o.jsxs(S,{children:["Product"===e.type&&o.jsx(Oe,{}),"Order"===e.type&&o.jsx(D,{}),"Category"===e.type&&o.jsx(Me,{}),"Customer"===e.type&&o.jsx(Ae,{})]}),o.jsx(E,{primary:e.name,secondary:o.jsxs(p,{component:"span",children:[o.jsx(v,{variant:"body2",color:"text.secondary",children:e.details}),o.jsx(v,{variant:"caption",color:"text.secondary",children:e.type})]})})]},`${e.type}-${e.id}`)))})]})}),o.jsx(_,{sx:{flex:1,px:2},children:B.map((e=>o.jsxs(k,{component:"div",onClick:()=>z(e.path),sx:{borderRadius:1,mb:.5,cursor:"pointer",bgcolor:L(e.path)?"rgba(227, 28, 121, 0.08)":"transparent","&:hover":{bgcolor:L(e.path)?"rgba(227, 28, 121, 0.12)":"rgba(0, 0, 0, 0.04)"}},children:[o.jsx(S,{sx:{color:L(e.path)?"#E31C79":"inherit",minWidth:40},children:e.icon}),o.jsx(E,{primary:e.text,sx:{color:L(e.path)?"#E31C79":"inherit","& .MuiTypography-root":{fontWeight:L(e.path)?600:400}}}),e.badge&&o.jsx(m,{badgeContent:e.badge,color:"error"===e.badgeColor?"error":"primary",max:999999,sx:{"& .MuiBadge-badge":{right:-3,top:3,backgroundColor:"error"===e.badgeColor?"#E31C79":"#1a1f36",color:"white",fontWeight:"bold",fontSize:"0.75rem",padding:"0 4px",minWidth:"20px",height:"20px",borderRadius:"10px"}}})]},e.text)))}),o.jsx(C,{sx:{mx:2,bgcolor:"rgba(0,0,0,0.06)"}}),o.jsx(_,{sx:{px:2,pb:2},children:W.map((e=>o.jsxs(k,{onClick:()=>z(e.path),sx:{mb:1,borderRadius:2,cursor:"pointer",color:"#1a1f36","&:hover":{bgcolor:"rgba(0,0,0,0.04)",transform:"translateX(5px)",transition:"all 0.3s ease"},transition:"all 0.3s ease"},children:[o.jsx(S,{sx:{color:"#1a1f36",minWidth:40},children:e.icon}),o.jsx(E,{primary:e.label,primaryTypographyProps:{fontSize:"0.875rem",fontWeight:500}})]},e.path)))})]});return o.jsxs(p,{sx:{display:"flex"},children:[o.jsx(Fe,{}),o.jsx(d,{position:"fixed",sx:{width:{sm:"calc(100% - 280px)"},ml:{sm:"280px"},bgcolor:"white",color:"#1a1f36",boxShadow:"none",borderBottom:"1px solid rgba(0,0,0,0.06)"},children:o.jsxs(u,{children:[o.jsx(f,{color:"inherit","aria-label":"open drawer",edge:"start",onClick:F,sx:{mr:2,display:{sm:"none"}},children:o.jsx(Le,{})}),o.jsx(v,{variant:"h6",sx:{fontWeight:600,fontSize:"1.25rem"},children:"/admin"===location.pathname||"/admin/dashboard"===location.pathname?"Dashboard":(null==(e=location.pathname.split("/").pop())?void 0:e.charAt(0).toUpperCase())+((null==(t=location.pathname.split("/").pop())?void 0:t.slice(1))||"")}),o.jsx(p,{sx:{flexGrow:1}}),o.jsx(Ie,{onClick:e=>I(e.currentTarget),sx:{bgcolor:i.palette.primary.main,cursor:"pointer","&:hover":{opacity:.9}},children:"A"}),o.jsx(j,{anchorEl:T,open:Boolean(T),onClose:()=>I(null),PaperProps:{elevation:0,sx:{overflow:"visible",filter:"drop-shadow(0px 2px 8px rgba(0,0,0,0.32))"}},transformOrigin:{horizontal:"right",vertical:"bottom"},anchorOrigin:{horizontal:"right",vertical:"top"},children:o.jsxs(w,{onClick:()=>{localStorage.removeItem("adminAuth"),n("/login")},children:[o.jsx(S,{children:o.jsx(ze,{fontSize:"small"})}),"Logout"]})})]})}),o.jsx(p,{component:"nav",sx:{width:{sm:Ib},flexShrink:{sm:0}},children:o.jsx(b,{variant:r?"temporary":"permanent",open:s,onClose:F,ModalProps:{keepMounted:!0},sx:{"& .MuiDrawer-paper":{boxSizing:"border-box",width:Ib,borderRight:"none",boxShadow:"0 0 20px rgba(0,0,0,0.04)"}},children:N})}),o.jsx(p,{component:"main",sx:{flexGrow:1,p:2,width:{sm:"calc(100% - 280px)"},mt:8,bgcolor:"#f8f9fa",minHeight:"auto",display:"block"},children:o.jsx(Rt,{})})]})}
/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function Rb(e){return e+.5|0}const Fb=(e,t,n)=>Math.max(Math.min(e,n),t);function Lb(e){return Fb(Rb(2.55*e),0,255)}function zb(e){return Fb(Rb(255*e),0,255)}function Bb(e){return Fb(Rb(e/2.55)/100,0,1)}function Wb(e){return Fb(Rb(100*e),0,100)}const Nb={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},Vb=[..."0123456789ABCDEF"],$b=e=>Vb[15&e],Ub=e=>Vb[(240&e)>>4]+Vb[15&e],Hb=e=>(240&e)>>4==(15&e);function qb(e){var t=(e=>Hb(e.r)&&Hb(e.g)&&Hb(e.b)&&Hb(e.a))(e)?$b:Ub;return e?"#"+t(e.r)+t(e.g)+t(e.b)+((e,t)=>e<255?t(e):"")(e.a,t):void 0}const Yb=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function Gb(e,t,n){const i=t*Math.min(n,1-n),r=(t,r=(t+e/30)%12)=>n-i*Math.max(Math.min(r-3,9-r,1),-1);return[r(0),r(8),r(4)]}function Xb(e,t,n){const i=(i,r=(i+e/60)%6)=>n-n*t*Math.max(Math.min(r,4-r,1),0);return[i(5),i(3),i(1)]}function Kb(e,t,n){const i=Gb(e,1,.5);let r;for(t+n>1&&(r=1/(t+n),t*=r,n*=r),r=0;r<3;r++)i[r]*=1-t-n,i[r]+=t;return i}function Jb(e){const t=e.r/255,n=e.g/255,i=e.b/255,r=Math.max(t,n,i),s=Math.min(t,n,i),o=(r+s)/2;let a,l,c;return r!==s&&(c=r-s,l=o>.5?c/(2-r-s):c/(r+s),a=function(e,t,n,i,r){return e===r?(t-n)/i+(t<n?6:0):t===r?(n-e)/i+2:(e-t)/i+4}(t,n,i,c,r),a=60*a+.5),[0|a,l||0,o]}function Qb(e,t,n,i){return(Array.isArray(t)?e(t[0],t[1],t[2]):e(t,n,i)).map(zb)}function Zb(e,t,n){return Qb(Gb,e,t,n)}function ej(e){return(e%360+360)%360}function tj(e){const t=Yb.exec(e);let n,i=255;if(!t)return;t[5]!==n&&(i=t[6]?Lb(+t[5]):zb(+t[5]));const r=ej(+t[2]),s=+t[3]/100,o=+t[4]/100;return n="hwb"===t[1]?function(e,t,n){return Qb(Kb,e,t,n)}(r,s,o):"hsv"===t[1]?function(e,t,n){return Qb(Xb,e,t,n)}(r,s,o):Zb(r,s,o),{r:n[0],g:n[1],b:n[2],a:i}}const nj={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},ij={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};let rj;function sj(e){rj||(rj=function(){const e={},t=Object.keys(ij),n=Object.keys(nj);let i,r,s,o,a;for(i=0;i<t.length;i++){for(o=a=t[i],r=0;r<n.length;r++)s=n[r],a=a.replace(s,nj[s]);s=parseInt(ij[o],16),e[a]=[s>>16&255,s>>8&255,255&s]}return e}(),rj.transparent=[0,0,0,0]);const t=rj[e.toLowerCase()];return t&&{r:t[0],g:t[1],b:t[2],a:4===t.length?t[3]:255}}const oj=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;const aj=e=>e<=.0031308?12.92*e:1.055*Math.pow(e,1/2.4)-.055,lj=e=>e<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4);function cj(e,t,n){if(e){let i=Jb(e);i[t]=Math.max(0,Math.min(i[t]+i[t]*n,0===t?360:1)),i=Zb(i),e.r=i[0],e.g=i[1],e.b=i[2]}}function dj(e,t){return e?Object.assign(t||{},e):e}function hj(e){var t={r:0,g:0,b:0,a:255};return Array.isArray(e)?e.length>=3&&(t={r:e[0],g:e[1],b:e[2],a:255},e.length>3&&(t.a=zb(e[3]))):(t=dj(e,{r:0,g:0,b:0,a:1})).a=zb(t.a),t}function uj(e){return"r"===e.charAt(0)?function(e){const t=oj.exec(e);let n,i,r,s=255;if(t){if(t[7]!==n){const e=+t[7];s=t[8]?Lb(e):Fb(255*e,0,255)}return n=+t[1],i=+t[3],r=+t[5],n=255&(t[2]?Lb(n):Fb(n,0,255)),i=255&(t[4]?Lb(i):Fb(i,0,255)),r=255&(t[6]?Lb(r):Fb(r,0,255)),{r:n,g:i,b:r,a:s}}}(e):tj(e)}class pj{constructor(e){if(e instanceof pj)return e;const t=typeof e;let n;var i,r,s;"object"===t?n=hj(e):"string"===t&&(s=(i=e).length,"#"===i[0]&&(4===s||5===s?r={r:255&17*Nb[i[1]],g:255&17*Nb[i[2]],b:255&17*Nb[i[3]],a:5===s?17*Nb[i[4]]:255}:7!==s&&9!==s||(r={r:Nb[i[1]]<<4|Nb[i[2]],g:Nb[i[3]]<<4|Nb[i[4]],b:Nb[i[5]]<<4|Nb[i[6]],a:9===s?Nb[i[7]]<<4|Nb[i[8]]:255})),n=r||sj(e)||uj(e)),this._rgb=n,this._valid=!!n}get valid(){return this._valid}get rgb(){var e=dj(this._rgb);return e&&(e.a=Bb(e.a)),e}set rgb(e){this._rgb=hj(e)}rgbString(){return this._valid?(e=this._rgb)&&(e.a<255?`rgba(${e.r}, ${e.g}, ${e.b}, ${Bb(e.a)})`:`rgb(${e.r}, ${e.g}, ${e.b})`):void 0;var e}hexString(){return this._valid?qb(this._rgb):void 0}hslString(){return this._valid?function(e){if(!e)return;const t=Jb(e),n=t[0],i=Wb(t[1]),r=Wb(t[2]);return e.a<255?`hsla(${n}, ${i}%, ${r}%, ${Bb(e.a)})`:`hsl(${n}, ${i}%, ${r}%)`}(this._rgb):void 0}mix(e,t){if(e){const n=this.rgb,i=e.rgb;let r;const s=t===r?.5:t,o=2*s-1,a=n.a-i.a,l=((o*a==-1?o:(o+a)/(1+o*a))+1)/2;r=1-l,n.r=255&l*n.r+r*i.r+.5,n.g=255&l*n.g+r*i.g+.5,n.b=255&l*n.b+r*i.b+.5,n.a=s*n.a+(1-s)*i.a,this.rgb=n}return this}interpolate(e,t){return e&&(this._rgb=function(e,t,n){const i=lj(Bb(e.r)),r=lj(Bb(e.g)),s=lj(Bb(e.b));return{r:zb(aj(i+n*(lj(Bb(t.r))-i))),g:zb(aj(r+n*(lj(Bb(t.g))-r))),b:zb(aj(s+n*(lj(Bb(t.b))-s))),a:e.a+n*(t.a-e.a)}}(this._rgb,e._rgb,t)),this}clone(){return new pj(this.rgb)}alpha(e){return this._rgb.a=zb(e),this}clearer(e){return this._rgb.a*=1-e,this}greyscale(){const e=this._rgb,t=Rb(.3*e.r+.59*e.g+.11*e.b);return e.r=e.g=e.b=t,this}opaquer(e){return this._rgb.a*=1+e,this}negate(){const e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return cj(this._rgb,2,e),this}darken(e){return cj(this._rgb,2,-e),this}saturate(e){return cj(this._rgb,1,e),this}desaturate(e){return cj(this._rgb,1,-e),this}rotate(e){return function(e,t){var n=Jb(e);n[0]=ej(n[0]+t),n=Zb(n),e.r=n[0],e.g=n[1],e.b=n[2]}(this._rgb,e),this}}
/*!
 * Chart.js v4.4.8
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */function fj(){}const mj=(()=>{let e=0;return()=>e++})();function gj(e){return null==e}function xj(e){if(Array.isArray&&Array.isArray(e))return!0;const t=Object.prototype.toString.call(e);return"[object"===t.slice(0,7)&&"Array]"===t.slice(-6)}function yj(e){return null!==e&&"[object Object]"===Object.prototype.toString.call(e)}function vj(e){return("number"==typeof e||e instanceof Number)&&isFinite(+e)}function bj(e,t){return vj(e)?e:t}function jj(e,t){return void 0===e?t:e}function wj(e,t,n){if(e&&"function"==typeof e.call)return e.apply(n,t)}function Sj(e,t,n,i){let r,s,o;if(xj(e))for(s=e.length,r=0;r<s;r++)t.call(n,e[r],r);else if(yj(e))for(o=Object.keys(e),s=o.length,r=0;r<s;r++)t.call(n,e[o[r]],o[r])}function Cj(e,t){let n,i,r,s;if(!e||!t||e.length!==t.length)return!1;for(n=0,i=e.length;n<i;++n)if(r=e[n],s=t[n],r.datasetIndex!==s.datasetIndex||r.index!==s.index)return!1;return!0}function _j(e){if(xj(e))return e.map(_j);if(yj(e)){const t=Object.create(null),n=Object.keys(e),i=n.length;let r=0;for(;r<i;++r)t[n[r]]=_j(e[n[r]]);return t}return e}function kj(e){return-1===["__proto__","prototype","constructor"].indexOf(e)}function Ej(e,t,n,i){if(!kj(e))return;const r=t[e],s=n[e];yj(r)&&yj(s)?Pj(r,s,i):t[e]=_j(s)}function Pj(e,t,n){const i=xj(t)?t:[t],r=i.length;if(!yj(e))return e;const s=(n=n||{}).merger||Ej;let o;for(let a=0;a<r;++a){if(o=i[a],!yj(o))continue;const t=Object.keys(o);for(let i=0,r=t.length;i<r;++i)s(t[i],e,o,n)}return e}function Oj(e,t){return Pj(e,t,{merger:Mj})}function Mj(e,t,n){if(!kj(e))return;const i=t[e],r=n[e];yj(i)&&yj(r)?Oj(i,r):Object.prototype.hasOwnProperty.call(t,e)||(t[e]=_j(r))}const Aj={"":e=>e,x:e=>e.x,y:e=>e.y};function Tj(e,t){const n=Aj[t]||(Aj[t]=function(e){const t=function(e){const t=e.split("."),n=[];let i="";for(const r of t)i+=r,i.endsWith("\\")?i=i.slice(0,-1)+".":(n.push(i),i="");return n}(e);return e=>{for(const n of t){if(""===n)break;e=e&&e[n]}return e}}(t));return n(e)}function Ij(e){return e.charAt(0).toUpperCase()+e.slice(1)}const Dj=e=>void 0!==e,Rj=e=>"function"==typeof e,Fj=(e,t)=>{if(e.size!==t.size)return!1;for(const n of e)if(!t.has(n))return!1;return!0};const Lj=Math.PI,zj=2*Lj,Bj=zj+Lj,Wj=Number.POSITIVE_INFINITY,Nj=Lj/180,Vj=Lj/2,$j=Lj/4,Uj=2*Lj/3,Hj=Math.log10,qj=Math.sign;function Yj(e,t,n){return Math.abs(e-t)<n}function Gj(e){const t=Math.round(e);e=Yj(e,t,e/1e3)?t:e;const n=Math.pow(10,Math.floor(Hj(e))),i=e/n;return(i<=1?1:i<=2?2:i<=5?5:10)*n}function Xj(e){return!function(e){return"symbol"==typeof e||"object"==typeof e&&null!==e&&!(Symbol.toPrimitive in e||"toString"in e||"valueOf"in e)}(e)&&!isNaN(parseFloat(e))&&isFinite(e)}function Kj(e){return e*(Lj/180)}function Jj(e){if(!vj(e))return;let t=1,n=0;for(;Math.round(e*t)/t!==e;)t*=10,n++;return n}function Qj(e,t){const n=t.x-e.x,i=t.y-e.y,r=Math.sqrt(n*n+i*i);let s=Math.atan2(i,n);return s<-.5*Lj&&(s+=zj),{angle:s,distance:r}}function Zj(e,t){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}function ew(e,t){return(e-t+Bj)%zj-Lj}function tw(e){return(e%zj+zj)%zj}function nw(e,t,n,i){const r=tw(e),s=tw(t),o=tw(n),a=tw(s-r),l=tw(o-r),c=tw(r-s),d=tw(r-o);return r===s||r===o||i&&s===o||a>l&&c<d}function iw(e,t,n){return Math.max(t,Math.min(n,e))}function rw(e,t,n,i=1e-6){return e>=Math.min(t,n)-i&&e<=Math.max(t,n)+i}function sw(e,t,n){n=n||(n=>e[n]<t);let i,r=e.length-1,s=0;for(;r-s>1;)i=s+r>>1,n(i)?s=i:r=i;return{lo:s,hi:r}}const ow=(e,t,n,i)=>sw(e,n,i?i=>{const r=e[i][t];return r<n||r===n&&e[i+1][t]===n}:i=>e[i][t]<n),aw=(e,t,n)=>sw(e,n,(i=>e[i][t]>=n));const lw=["push","pop","shift","splice","unshift"];function cw(e,t){const n=e._chartjs;if(!n)return;const i=n.listeners,r=i.indexOf(t);-1!==r&&i.splice(r,1),i.length>0||(lw.forEach((t=>{delete e[t]})),delete e._chartjs)}const dw="undefined"==typeof window?function(e){return e()}:window.requestAnimationFrame;function hw(e,t){let n=[],i=!1;return function(...r){n=r,i||(i=!0,dw.call(window,(()=>{i=!1,e.apply(t,n)})))}}const uw=e=>"start"===e?"left":"end"===e?"right":"center",pw=(e,t,n)=>"start"===e?t:"end"===e?n:(t+n)/2;const fw=e=>0===e||1===e,mw=(e,t,n)=>-Math.pow(2,10*(e-=1))*Math.sin((e-t)*zj/n),gw=(e,t,n)=>Math.pow(2,-10*e)*Math.sin((e-t)*zj/n)+1,xw={linear:e=>e,easeInQuad:e=>e*e,easeOutQuad:e=>-e*(e-2),easeInOutQuad:e=>(e/=.5)<1?.5*e*e:-.5*(--e*(e-2)-1),easeInCubic:e=>e*e*e,easeOutCubic:e=>(e-=1)*e*e+1,easeInOutCubic:e=>(e/=.5)<1?.5*e*e*e:.5*((e-=2)*e*e+2),easeInQuart:e=>e*e*e*e,easeOutQuart:e=>-((e-=1)*e*e*e-1),easeInOutQuart:e=>(e/=.5)<1?.5*e*e*e*e:-.5*((e-=2)*e*e*e-2),easeInQuint:e=>e*e*e*e*e,easeOutQuint:e=>(e-=1)*e*e*e*e+1,easeInOutQuint:e=>(e/=.5)<1?.5*e*e*e*e*e:.5*((e-=2)*e*e*e*e+2),easeInSine:e=>1-Math.cos(e*Vj),easeOutSine:e=>Math.sin(e*Vj),easeInOutSine:e=>-.5*(Math.cos(Lj*e)-1),easeInExpo:e=>0===e?0:Math.pow(2,10*(e-1)),easeOutExpo:e=>1===e?1:1-Math.pow(2,-10*e),easeInOutExpo:e=>fw(e)?e:e<.5?.5*Math.pow(2,10*(2*e-1)):.5*(2-Math.pow(2,-10*(2*e-1))),easeInCirc:e=>e>=1?e:-(Math.sqrt(1-e*e)-1),easeOutCirc:e=>Math.sqrt(1-(e-=1)*e),easeInOutCirc:e=>(e/=.5)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1),easeInElastic:e=>fw(e)?e:mw(e,.075,.3),easeOutElastic:e=>fw(e)?e:gw(e,.075,.3),easeInOutElastic(e){const t=.1125;return fw(e)?e:e<.5?.5*mw(2*e,t,.45):.5+.5*gw(2*e-1,t,.45)},easeInBack(e){const t=1.70158;return e*e*((t+1)*e-t)},easeOutBack(e){const t=1.70158;return(e-=1)*e*((t+1)*e+t)+1},easeInOutBack(e){let t=1.70158;return(e/=.5)<1?e*e*((1+(t*=1.525))*e-t)*.5:.5*((e-=2)*e*((1+(t*=1.525))*e+t)+2)},easeInBounce:e=>1-xw.easeOutBounce(1-e),easeOutBounce(e){const t=7.5625,n=2.75;return e<1/n?t*e*e:e<2/n?t*(e-=1.5/n)*e+.75:e<2.5/n?t*(e-=2.25/n)*e+.9375:t*(e-=2.625/n)*e+.984375},easeInOutBounce:e=>e<.5?.5*xw.easeInBounce(2*e):.5*xw.easeOutBounce(2*e-1)+.5};function yw(e){if(e&&"object"==typeof e){const t=e.toString();return"[object CanvasPattern]"===t||"[object CanvasGradient]"===t}return!1}function vw(e){return yw(e)?e:new pj(e)}function bw(e){return yw(e)?e:new pj(e).saturate(.5).darken(.1).hexString()}const jw=["x","y","borderWidth","radius","tension"],ww=["color","borderColor","backgroundColor"];const Sw=new Map;function Cw(e,t,n){return function(e,t){t=t||{};const n=e+JSON.stringify(t);let i=Sw.get(n);return i||(i=new Intl.NumberFormat(e,t),Sw.set(n,i)),i}(t,n).format(e)}var _w={formatters:{values:e=>xj(e)?e:""+e,numeric(e,t,n){if(0===e)return"0";const i=this.chart.options.locale;let r,s=e;if(n.length>1){const t=Math.max(Math.abs(n[0].value),Math.abs(n[n.length-1].value));(t<1e-4||t>1e15)&&(r="scientific"),s=function(e,t){let n=t.length>3?t[2].value-t[1].value:t[1].value-t[0].value;Math.abs(n)>=1&&e!==Math.floor(e)&&(n=e-Math.floor(e));return n}(e,n)}const o=Hj(Math.abs(s)),a=isNaN(o)?1:Math.max(Math.min(-1*Math.floor(o),20),0),l={notation:r,minimumFractionDigits:a,maximumFractionDigits:a};return Object.assign(l,this.options.ticks.format),Cw(e,i,l)}}};const kw=Object.create(null),Ew=Object.create(null);function Pw(e,t){if(!t)return e;const n=t.split(".");for(let i=0,r=n.length;i<r;++i){const t=n[i];e=e[t]||(e[t]=Object.create(null))}return e}function Ow(e,t,n){return"string"==typeof t?Pj(Pw(e,t),n):Pj(Pw(e,""),t)}class Mw{constructor(e,t){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=e=>e.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(e,t)=>bw(t.backgroundColor),this.hoverBorderColor=(e,t)=>bw(t.borderColor),this.hoverColor=(e,t)=>bw(t.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e),this.apply(t)}set(e,t){return Ow(this,e,t)}get(e){return Pw(this,e)}describe(e,t){return Ow(Ew,e,t)}override(e,t){return Ow(kw,e,t)}route(e,t,n,i){const r=Pw(this,e),s=Pw(this,n),o="_"+t;Object.defineProperties(r,{[o]:{value:r[t],writable:!0},[t]:{enumerable:!0,get(){const e=this[o],t=s[i];return yj(e)?Object.assign({},t,e):jj(e,t)},set(e){this[o]=e}}})}apply(e){e.forEach((e=>e(this)))}}var Aw=new Mw({_scriptable:e=>!e.startsWith("on"),_indexable:e=>"events"!==e,hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[function(e){e.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),e.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>"onProgress"!==e&&"onComplete"!==e&&"fn"!==e}),e.set("animations",{colors:{type:"color",properties:ww},numbers:{type:"number",properties:jw}}),e.describe("animations",{_fallback:"animation"}),e.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>0|e}}}})},function(e){e.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})},function(e){e.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,t)=>t.lineWidth,tickColor:(e,t)=>t.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:_w.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),e.route("scale.ticks","color","","color"),e.route("scale.grid","color","","borderColor"),e.route("scale.border","color","","borderColor"),e.route("scale.title","color","","color"),e.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&"callback"!==e&&"parser"!==e,_indexable:e=>"borderDash"!==e&&"tickBorderDash"!==e&&"dash"!==e}),e.describe("scales",{_fallback:"scale"}),e.describe("scale.ticks",{_scriptable:e=>"backdropPadding"!==e&&"callback"!==e,_indexable:e=>"backdropPadding"!==e})}]);function Tw(e,t,n,i,r){let s=t[r];return s||(s=t[r]=e.measureText(r).width,n.push(r)),s>i&&(i=s),i}function Iw(e,t,n){const i=e.currentDevicePixelRatio,r=0!==n?Math.max(n/2,.5):0;return Math.round((t-r)*i)/i+r}function Dw(e,t){(t||e)&&((t=t||e.getContext("2d")).save(),t.resetTransform(),t.clearRect(0,0,e.width,e.height),t.restore())}function Rw(e,t,n,i){Fw(e,t,n,i,null)}function Fw(e,t,n,i,r){let s,o,a,l,c,d,h,u;const p=t.pointStyle,f=t.rotation,m=t.radius;let g=(f||0)*Nj;if(p&&"object"==typeof p&&(s=p.toString(),"[object HTMLImageElement]"===s||"[object HTMLCanvasElement]"===s))return e.save(),e.translate(n,i),e.rotate(g),e.drawImage(p,-p.width/2,-p.height/2,p.width,p.height),void e.restore();if(!(isNaN(m)||m<=0)){switch(e.beginPath(),p){default:r?e.ellipse(n,i,r/2,m,0,0,zj):e.arc(n,i,m,0,zj),e.closePath();break;case"triangle":d=r?r/2:m,e.moveTo(n+Math.sin(g)*d,i-Math.cos(g)*m),g+=Uj,e.lineTo(n+Math.sin(g)*d,i-Math.cos(g)*m),g+=Uj,e.lineTo(n+Math.sin(g)*d,i-Math.cos(g)*m),e.closePath();break;case"rectRounded":c=.516*m,l=m-c,o=Math.cos(g+$j)*l,h=Math.cos(g+$j)*(r?r/2-c:l),a=Math.sin(g+$j)*l,u=Math.sin(g+$j)*(r?r/2-c:l),e.arc(n-h,i-a,c,g-Lj,g-Vj),e.arc(n+u,i-o,c,g-Vj,g),e.arc(n+h,i+a,c,g,g+Vj),e.arc(n-u,i+o,c,g+Vj,g+Lj),e.closePath();break;case"rect":if(!f){l=Math.SQRT1_2*m,d=r?r/2:l,e.rect(n-d,i-l,2*d,2*l);break}g+=$j;case"rectRot":h=Math.cos(g)*(r?r/2:m),o=Math.cos(g)*m,a=Math.sin(g)*m,u=Math.sin(g)*(r?r/2:m),e.moveTo(n-h,i-a),e.lineTo(n+u,i-o),e.lineTo(n+h,i+a),e.lineTo(n-u,i+o),e.closePath();break;case"crossRot":g+=$j;case"cross":h=Math.cos(g)*(r?r/2:m),o=Math.cos(g)*m,a=Math.sin(g)*m,u=Math.sin(g)*(r?r/2:m),e.moveTo(n-h,i-a),e.lineTo(n+h,i+a),e.moveTo(n+u,i-o),e.lineTo(n-u,i+o);break;case"star":h=Math.cos(g)*(r?r/2:m),o=Math.cos(g)*m,a=Math.sin(g)*m,u=Math.sin(g)*(r?r/2:m),e.moveTo(n-h,i-a),e.lineTo(n+h,i+a),e.moveTo(n+u,i-o),e.lineTo(n-u,i+o),g+=$j,h=Math.cos(g)*(r?r/2:m),o=Math.cos(g)*m,a=Math.sin(g)*m,u=Math.sin(g)*(r?r/2:m),e.moveTo(n-h,i-a),e.lineTo(n+h,i+a),e.moveTo(n+u,i-o),e.lineTo(n-u,i+o);break;case"line":o=r?r/2:Math.cos(g)*m,a=Math.sin(g)*m,e.moveTo(n-o,i-a),e.lineTo(n+o,i+a);break;case"dash":e.moveTo(n,i),e.lineTo(n+Math.cos(g)*(r?r/2:m),i+Math.sin(g)*m);break;case!1:e.closePath()}e.fill(),t.borderWidth>0&&e.stroke()}}function Lw(e,t,n){return n=n||.5,!t||e&&e.x>t.left-n&&e.x<t.right+n&&e.y>t.top-n&&e.y<t.bottom+n}function zw(e,t){e.save(),e.beginPath(),e.rect(t.left,t.top,t.right-t.left,t.bottom-t.top),e.clip()}function Bw(e){e.restore()}function Ww(e,t,n,i,r){if(!t)return e.lineTo(n.x,n.y);if("middle"===r){const i=(t.x+n.x)/2;e.lineTo(i,t.y),e.lineTo(i,n.y)}else"after"===r!=!!i?e.lineTo(t.x,n.y):e.lineTo(n.x,t.y);e.lineTo(n.x,n.y)}function Nw(e,t,n,i){if(!t)return e.lineTo(n.x,n.y);e.bezierCurveTo(i?t.cp1x:t.cp2x,i?t.cp1y:t.cp2y,i?n.cp2x:n.cp1x,i?n.cp2y:n.cp1y,n.x,n.y)}function Vw(e,t,n,i,r){if(r.strikethrough||r.underline){const s=e.measureText(i),o=t-s.actualBoundingBoxLeft,a=t+s.actualBoundingBoxRight,l=n-s.actualBoundingBoxAscent,c=n+s.actualBoundingBoxDescent,d=r.strikethrough?(l+c)/2:c;e.strokeStyle=e.fillStyle,e.beginPath(),e.lineWidth=r.decorationWidth||2,e.moveTo(o,d),e.lineTo(a,d),e.stroke()}}function $w(e,t){const n=e.fillStyle;e.fillStyle=t.color,e.fillRect(t.left,t.top,t.width,t.height),e.fillStyle=n}function Uw(e,t,n,i,r,s={}){const o=xj(t)?t:[t],a=s.strokeWidth>0&&""!==s.strokeColor;let l,c;for(e.save(),e.font=r.string,function(e,t){t.translation&&e.translate(t.translation[0],t.translation[1]),gj(t.rotation)||e.rotate(t.rotation),t.color&&(e.fillStyle=t.color),t.textAlign&&(e.textAlign=t.textAlign),t.textBaseline&&(e.textBaseline=t.textBaseline)}(e,s),l=0;l<o.length;++l)c=o[l],s.backdrop&&$w(e,s.backdrop),a&&(s.strokeColor&&(e.strokeStyle=s.strokeColor),gj(s.strokeWidth)||(e.lineWidth=s.strokeWidth),e.strokeText(c,n,i,s.maxWidth)),e.fillText(c,n,i,s.maxWidth),Vw(e,n,i,c,s),i+=Number(r.lineHeight);e.restore()}function Hw(e,t){const{x:n,y:i,w:r,h:s,radius:o}=t;e.arc(n+o.topLeft,i+o.topLeft,o.topLeft,1.5*Lj,Lj,!0),e.lineTo(n,i+s-o.bottomLeft),e.arc(n+o.bottomLeft,i+s-o.bottomLeft,o.bottomLeft,Lj,Vj,!0),e.lineTo(n+r-o.bottomRight,i+s),e.arc(n+r-o.bottomRight,i+s-o.bottomRight,o.bottomRight,Vj,0,!0),e.lineTo(n+r,i+o.topRight),e.arc(n+r-o.topRight,i+o.topRight,o.topRight,0,-Vj,!0),e.lineTo(n+o.topLeft,i)}const qw=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,Yw=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function Gw(e,t){const n=(""+e).match(qw);if(!n||"normal"===n[1])return 1.2*t;switch(e=+n[2],n[3]){case"px":return e;case"%":e/=100}return t*e}function Xw(e,t){const n={},i=yj(t),r=i?Object.keys(t):t,s=yj(e)?i?n=>jj(e[n],e[t[n]]):t=>e[t]:()=>e;for(const o of r)n[o]=+s(o)||0;return n}function Kw(e){return Xw(e,["topLeft","topRight","bottomLeft","bottomRight"])}function Jw(e){const t=function(e){return Xw(e,{top:"y",right:"x",bottom:"y",left:"x"})}(e);return t.width=t.left+t.right,t.height=t.top+t.bottom,t}function Qw(e,t){e=e||{},t=t||Aw.font;let n=jj(e.size,t.size);"string"==typeof n&&(n=parseInt(n,10));let i=jj(e.style,t.style);i&&!(""+i).match(Yw)&&(console.warn('Invalid font style specified: "'+i+'"'),i=void 0);const r={family:jj(e.family,t.family),lineHeight:Gw(jj(e.lineHeight,t.lineHeight),n),size:n,style:i,weight:jj(e.weight,t.weight),string:""};return r.string=function(e){return!e||gj(e.size)||gj(e.family)?null:(e.style?e.style+" ":"")+(e.weight?e.weight+" ":"")+e.size+"px "+e.family}(r),r}function Zw(e,t,n,i){let r,s,o;for(r=0,s=e.length;r<s;++r)if(o=e[r],void 0!==o&&void 0!==o)return o}function eS(e,t,n){const{min:i,max:r}=e,s=(a=(r-i)/2,"string"==typeof(o=t)&&o.endsWith("%")?parseFloat(o)/100*a:+o);var o,a;const l=(e,t)=>n&&0===e?0:e+t;return{min:l(i,-Math.abs(s)),max:l(r,s)}}function tS(e,t){return Object.assign(Object.create(e),t)}function nS(e,t=[""],n,i,r=()=>e[0]){const s=n||e;void 0===i&&(i=pS("_fallback",e));const o={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:e,_rootScopes:s,_fallback:i,_getTarget:r,override:n=>nS([n,...e],t,s,i)};return new Proxy(o,{deleteProperty:(t,n)=>(delete t[n],delete t._keys,delete e[0][n],!0),get:(n,i)=>aS(n,i,(()=>function(e,t,n,i){let r;for(const s of t)if(r=pS(sS(s,e),n),void 0!==r)return oS(e,r)?hS(n,i,e,r):r}(i,t,e,n))),getOwnPropertyDescriptor:(e,t)=>Reflect.getOwnPropertyDescriptor(e._scopes[0],t),getPrototypeOf:()=>Reflect.getPrototypeOf(e[0]),has:(e,t)=>fS(e).includes(t),ownKeys:e=>fS(e),set(e,t,n){const i=e._storage||(e._storage=r());return e[t]=i[t]=n,delete e._keys,!0}})}function iS(e,t,n,i){const r={_cacheable:!1,_proxy:e,_context:t,_subProxy:n,_stack:new Set,_descriptors:rS(e,i),setContext:t=>iS(e,t,n,i),override:r=>iS(e.override(r),t,n,i)};return new Proxy(r,{deleteProperty:(t,n)=>(delete t[n],delete e[n],!0),get:(e,t,n)=>aS(e,t,(()=>function(e,t,n){const{_proxy:i,_context:r,_subProxy:s,_descriptors:o}=e;let a=i[t];Rj(a)&&o.isScriptable(t)&&(a=function(e,t,n,i){const{_proxy:r,_context:s,_subProxy:o,_stack:a}=n;if(a.has(e))throw new Error("Recursion detected: "+Array.from(a).join("->")+"->"+e);a.add(e);let l=t(s,o||i);a.delete(e),oS(e,l)&&(l=hS(r._scopes,r,e,l));return l}(t,a,e,n));xj(a)&&a.length&&(a=function(e,t,n,i){const{_proxy:r,_context:s,_subProxy:o,_descriptors:a}=n;if(void 0!==s.index&&i(e))return t[s.index%t.length];if(yj(t[0])){const n=t,i=r._scopes.filter((e=>e!==n));t=[];for(const l of n){const n=hS(i,r,e,l);t.push(iS(n,s,o&&o[e],a))}}return t}(t,a,e,o.isIndexable));oS(t,a)&&(a=iS(a,r,s&&s[t],o));return a}(e,t,n))),getOwnPropertyDescriptor:(t,n)=>t._descriptors.allKeys?Reflect.has(e,n)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(e,n),getPrototypeOf:()=>Reflect.getPrototypeOf(e),has:(t,n)=>Reflect.has(e,n),ownKeys:()=>Reflect.ownKeys(e),set:(t,n,i)=>(e[n]=i,delete t[n],!0)})}function rS(e,t={scriptable:!0,indexable:!0}){const{_scriptable:n=t.scriptable,_indexable:i=t.indexable,_allKeys:r=t.allKeys}=e;return{allKeys:r,scriptable:n,indexable:i,isScriptable:Rj(n)?n:()=>n,isIndexable:Rj(i)?i:()=>i}}const sS=(e,t)=>e?e+Ij(t):t,oS=(e,t)=>yj(t)&&"adapters"!==e&&(null===Object.getPrototypeOf(t)||t.constructor===Object);function aS(e,t,n){if(Object.prototype.hasOwnProperty.call(e,t)||"constructor"===t)return e[t];const i=n();return e[t]=i,i}function lS(e,t,n){return Rj(e)?e(t,n):e}const cS=(e,t)=>!0===e?t:"string"==typeof e?Tj(t,e):void 0;function dS(e,t,n,i,r){for(const s of t){const t=cS(n,s);if(t){e.add(t);const s=lS(t._fallback,n,r);if(void 0!==s&&s!==n&&s!==i)return s}else if(!1===t&&void 0!==i&&n!==i)return null}return!1}function hS(e,t,n,i){const r=t._rootScopes,s=lS(t._fallback,n,i),o=[...e,...r],a=new Set;a.add(i);let l=uS(a,o,n,s||n,i);return null!==l&&((void 0===s||s===n||(l=uS(a,o,s,l,i),null!==l))&&nS(Array.from(a),[""],r,s,(()=>function(e,t,n){const i=e._getTarget();t in i||(i[t]={});const r=i[t];if(xj(r)&&yj(n))return n;return r||{}}(t,n,i))))}function uS(e,t,n,i,r){for(;n;)n=dS(e,t,n,i,r);return n}function pS(e,t){for(const n of t){if(!n)continue;const t=n[e];if(void 0!==t)return t}}function fS(e){let t=e._keys;return t||(t=e._keys=function(e){const t=new Set;for(const n of e)for(const e of Object.keys(n).filter((e=>!e.startsWith("_"))))t.add(e);return Array.from(t)}(e._scopes)),t}const mS=Number.EPSILON||1e-14,gS=(e,t)=>t<e.length&&!e[t].skip&&e[t],xS=e=>"x"===e?"y":"x";function yS(e,t,n,i){const r=e.skip?t:e,s=t,o=n.skip?t:n,a=Zj(s,r),l=Zj(o,s);let c=a/(a+l),d=l/(a+l);c=isNaN(c)?0:c,d=isNaN(d)?0:d;const h=i*c,u=i*d;return{previous:{x:s.x-h*(o.x-r.x),y:s.y-h*(o.y-r.y)},next:{x:s.x+u*(o.x-r.x),y:s.y+u*(o.y-r.y)}}}function vS(e,t="x"){const n=xS(t),i=e.length,r=Array(i).fill(0),s=Array(i);let o,a,l,c=gS(e,0);for(o=0;o<i;++o)if(a=l,l=c,c=gS(e,o+1),l){if(c){const e=c[t]-l[t];r[o]=0!==e?(c[n]-l[n])/e:0}s[o]=a?c?qj(r[o-1])!==qj(r[o])?0:(r[o-1]+r[o])/2:r[o-1]:r[o]}!function(e,t,n){const i=e.length;let r,s,o,a,l,c=gS(e,0);for(let d=0;d<i-1;++d)l=c,c=gS(e,d+1),l&&c&&(Yj(t[d],0,mS)?n[d]=n[d+1]=0:(r=n[d]/t[d],s=n[d+1]/t[d],a=Math.pow(r,2)+Math.pow(s,2),a<=9||(o=3/Math.sqrt(a),n[d]=r*o*t[d],n[d+1]=s*o*t[d])))}(e,r,s),function(e,t,n="x"){const i=xS(n),r=e.length;let s,o,a,l=gS(e,0);for(let c=0;c<r;++c){if(o=a,a=l,l=gS(e,c+1),!a)continue;const r=a[n],d=a[i];o&&(s=(r-o[n])/3,a[`cp1${n}`]=r-s,a[`cp1${i}`]=d-s*t[c]),l&&(s=(l[n]-r)/3,a[`cp2${n}`]=r+s,a[`cp2${i}`]=d+s*t[c])}}(e,s,t)}function bS(e,t,n){return Math.max(Math.min(e,n),t)}function jS(e,t,n,i,r){let s,o,a,l;if(t.spanGaps&&(e=e.filter((e=>!e.skip))),"monotone"===t.cubicInterpolationMode)vS(e,r);else{let n=i?e[e.length-1]:e[0];for(s=0,o=e.length;s<o;++s)a=e[s],l=yS(n,a,e[Math.min(s+1,o-(i?0:1))%o],t.tension),a.cp1x=l.previous.x,a.cp1y=l.previous.y,a.cp2x=l.next.x,a.cp2y=l.next.y,n=a}t.capBezierPoints&&function(e,t){let n,i,r,s,o,a=Lw(e[0],t);for(n=0,i=e.length;n<i;++n)o=s,s=a,a=n<i-1&&Lw(e[n+1],t),s&&(r=e[n],o&&(r.cp1x=bS(r.cp1x,t.left,t.right),r.cp1y=bS(r.cp1y,t.top,t.bottom)),a&&(r.cp2x=bS(r.cp2x,t.left,t.right),r.cp2y=bS(r.cp2y,t.top,t.bottom)))}(e,n)}function wS(){return"undefined"!=typeof window&&"undefined"!=typeof document}function SS(e){let t=e.parentNode;return t&&"[object ShadowRoot]"===t.toString()&&(t=t.host),t}function CS(e,t,n){let i;return"string"==typeof e?(i=parseInt(e,10),-1!==e.indexOf("%")&&(i=i/100*t.parentNode[n])):i=e,i}const _S=e=>e.ownerDocument.defaultView.getComputedStyle(e,null);const kS=["top","right","bottom","left"];function ES(e,t,n){const i={};n=n?"-"+n:"";for(let r=0;r<4;r++){const s=kS[r];i[s]=parseFloat(e[t+"-"+s+n])||0}return i.width=i.left+i.right,i.height=i.top+i.bottom,i}function PS(e,t){if("native"in e)return e;const{canvas:n,currentDevicePixelRatio:i}=t,r=_S(n),s="border-box"===r.boxSizing,o=ES(r,"padding"),a=ES(r,"border","width"),{x:l,y:c,box:d}=function(e,t){const n=e.touches,i=n&&n.length?n[0]:e,{offsetX:r,offsetY:s}=i;let o,a,l=!1;if(((e,t,n)=>(e>0||t>0)&&(!n||!n.shadowRoot))(r,s,e.target))o=r,a=s;else{const e=t.getBoundingClientRect();o=i.clientX-e.left,a=i.clientY-e.top,l=!0}return{x:o,y:a,box:l}}(e,n),h=o.left+(d&&a.left),u=o.top+(d&&a.top);let{width:p,height:f}=t;return s&&(p-=o.width+a.width,f-=o.height+a.height),{x:Math.round((l-h)/p*n.width/i),y:Math.round((c-u)/f*n.height/i)}}const OS=e=>Math.round(10*e)/10;function MS(e,t,n,i){const r=_S(e),s=ES(r,"margin"),o=CS(r.maxWidth,e,"clientWidth")||Wj,a=CS(r.maxHeight,e,"clientHeight")||Wj,l=function(e,t,n){let i,r;if(void 0===t||void 0===n){const s=e&&SS(e);if(s){const e=s.getBoundingClientRect(),o=_S(s),a=ES(o,"border","width"),l=ES(o,"padding");t=e.width-l.width-a.width,n=e.height-l.height-a.height,i=CS(o.maxWidth,s,"clientWidth"),r=CS(o.maxHeight,s,"clientHeight")}else t=e.clientWidth,n=e.clientHeight}return{width:t,height:n,maxWidth:i||Wj,maxHeight:r||Wj}}(e,t,n);let{width:c,height:d}=l;if("content-box"===r.boxSizing){const e=ES(r,"border","width"),t=ES(r,"padding");c-=t.width+e.width,d-=t.height+e.height}c=Math.max(0,c-s.width),d=Math.max(0,i?c/i:d-s.height),c=OS(Math.min(c,o,l.maxWidth)),d=OS(Math.min(d,a,l.maxHeight)),c&&!d&&(d=OS(c/2));return(void 0!==t||void 0!==n)&&i&&l.height&&d>l.height&&(d=l.height,c=OS(Math.floor(d*i))),{width:c,height:d}}function AS(e,t,n){const i=t||1,r=Math.floor(e.height*i),s=Math.floor(e.width*i);e.height=Math.floor(e.height),e.width=Math.floor(e.width);const o=e.canvas;return o.style&&(n||!o.style.height&&!o.style.width)&&(o.style.height=`${e.height}px`,o.style.width=`${e.width}px`),(e.currentDevicePixelRatio!==i||o.height!==r||o.width!==s)&&(e.currentDevicePixelRatio=i,o.height=r,o.width=s,e.ctx.setTransform(i,0,0,i,0,0),!0)}const TS=function(){let e=!1;try{const t={get passive(){return e=!0,!1}};wS()&&(window.addEventListener("test",null,t),window.removeEventListener("test",null,t))}catch(t){}return e}();function IS(e,t){const n=function(e,t){return _S(e).getPropertyValue(t)}(e,t),i=n&&n.match(/^(\d+)(\.\d+)?px$/);return i?+i[1]:void 0}function DS(e,t,n,i){return{x:e.x+n*(t.x-e.x),y:e.y+n*(t.y-e.y)}}function RS(e,t,n,i){return{x:e.x+n*(t.x-e.x),y:"middle"===i?n<.5?e.y:t.y:"after"===i?n<1?e.y:t.y:n>0?t.y:e.y}}function FS(e,t,n,i){const r={x:e.cp2x,y:e.cp2y},s={x:t.cp1x,y:t.cp1y},o=DS(e,r,n),a=DS(r,s,n),l=DS(s,t,n),c=DS(o,a,n),d=DS(a,l,n);return DS(c,d,n)}function LS(e,t,n){return e?function(e,t){return{x:n=>e+e+t-n,setWidth(e){t=e},textAlign:e=>"center"===e?e:"right"===e?"left":"right",xPlus:(e,t)=>e-t,leftForLtr:(e,t)=>e-t}}(t,n):{x:e=>e,setWidth(e){},textAlign:e=>e,xPlus:(e,t)=>e+t,leftForLtr:(e,t)=>e}}function zS(e,t){let n,i;"ltr"!==t&&"rtl"!==t||(n=e.canvas.style,i=[n.getPropertyValue("direction"),n.getPropertyPriority("direction")],n.setProperty("direction",t,"important"),e.prevTextDirection=i)}function BS(e,t){void 0!==t&&(delete e.prevTextDirection,e.canvas.style.setProperty("direction",t[0],t[1]))}function WS(e){return"angle"===e?{between:nw,compare:ew,normalize:tw}:{between:rw,compare:(e,t)=>e-t,normalize:e=>e}}function NS({start:e,end:t,count:n,loop:i,style:r}){return{start:e%n,end:t%n,loop:i&&(t-e+1)%n==0,style:r}}function VS(e,t,n){if(!n)return[e];const{property:i,start:r,end:s}=n,o=t.length,{compare:a,between:l,normalize:c}=WS(i),{start:d,end:h,loop:u,style:p}=function(e,t,n){const{property:i,start:r,end:s}=n,{between:o,normalize:a}=WS(i),l=t.length;let c,d,{start:h,end:u,loop:p}=e;if(p){for(h+=l,u+=l,c=0,d=l;c<d&&o(a(t[h%l][i]),r,s);++c)h--,u--;h%=l,u%=l}return u<h&&(u+=l),{start:h,end:u,loop:p,style:e.style}}(e,t,n),f=[];let m,g,x,y=!1,v=null;const b=()=>y||l(r,x,m)&&0!==a(r,x),j=()=>!y||0===a(s,m)||l(s,x,m);for(let w=d,S=d;w<=h;++w)g=t[w%o],g.skip||(m=c(g[i]),m!==x&&(y=l(m,r,s),null===v&&b()&&(v=0===a(m,r)?w:S),null!==v&&j()&&(f.push(NS({start:v,end:w,loop:u,count:o,style:p})),v=null),S=w,x=m));return null!==v&&f.push(NS({start:v,end:h,loop:u,count:o,style:p})),f}function $S(e,t){const n=[],i=e.segments;for(let r=0;r<i.length;r++){const s=VS(i[r],e.points,t);s.length&&n.push(...s)}return n}function US(e,t,n,i){return i&&i.setContext&&n?function(e,t,n,i){const r=e._chart.getContext(),s=HS(e.options),{_datasetIndex:o,options:{spanGaps:a}}=e,l=n.length,c=[];let d=s,h=t[0].start,u=h;function p(e,t,i,r){const s=a?-1:1;if(e!==t){for(e+=l;n[e%l].skip;)e-=s;for(;n[t%l].skip;)t+=s;e%l!=t%l&&(c.push({start:e%l,end:t%l,loop:i,style:r}),d=r,h=t%l)}}for(const f of t){h=a?h:f.start;let e,t=n[h%l];for(u=h+1;u<=f.end;u++){const s=n[u%l];e=HS(i.setContext(tS(r,{type:"segment",p0:t,p1:s,p0DataIndex:(u-1)%l,p1DataIndex:u%l,datasetIndex:o}))),qS(e,d)&&p(h,u-1,f.loop,d),t=s,d=e}h<u-1&&p(h,u-1,f.loop,d)}return c}(e,t,n,i):t}function HS(e){return{backgroundColor:e.backgroundColor,borderCapStyle:e.borderCapStyle,borderDash:e.borderDash,borderDashOffset:e.borderDashOffset,borderJoinStyle:e.borderJoinStyle,borderWidth:e.borderWidth,borderColor:e.borderColor}}function qS(e,t){if(!t)return!1;const n=[],i=function(e,t){return yw(t)?(n.includes(t)||n.push(t),n.indexOf(t)):t};return JSON.stringify(e,i)!==JSON.stringify(t,i)}
/*!
 * Chart.js v4.4.8
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */class YS{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,t,n,i){const r=t.listeners[i],s=t.duration;r.forEach((i=>i({chart:e,initial:t.initial,numSteps:s,currentStep:Math.min(n-t.start,s)})))}_refresh(){this._request||(this._running=!0,this._request=dw.call(window,(()=>{this._update(),this._request=null,this._running&&this._refresh()})))}_update(e=Date.now()){let t=0;this._charts.forEach(((n,i)=>{if(!n.running||!n.items.length)return;const r=n.items;let s,o=r.length-1,a=!1;for(;o>=0;--o)s=r[o],s._active?(s._total>n.duration&&(n.duration=s._total),s.tick(e),a=!0):(r[o]=r[r.length-1],r.pop());a&&(i.draw(),this._notify(i,n,e,"progress")),r.length||(n.running=!1,this._notify(i,n,e,"complete"),n.initial=!1),t+=r.length})),this._lastDate=e,0===t&&(this._running=!1)}_getAnims(e){const t=this._charts;let n=t.get(e);return n||(n={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},t.set(e,n)),n}listen(e,t,n){this._getAnims(e).listeners[t].push(n)}add(e,t){t&&t.length&&this._getAnims(e).items.push(...t)}has(e){return this._getAnims(e).items.length>0}start(e){const t=this._charts.get(e);t&&(t.running=!0,t.start=Date.now(),t.duration=t.items.reduce(((e,t)=>Math.max(e,t._duration)),0),this._refresh())}running(e){if(!this._running)return!1;const t=this._charts.get(e);return!!(t&&t.running&&t.items.length)}stop(e){const t=this._charts.get(e);if(!t||!t.items.length)return;const n=t.items;let i=n.length-1;for(;i>=0;--i)n[i].cancel();t.items=[],this._notify(e,t,Date.now(),"complete")}remove(e){return this._charts.delete(e)}}var GS=new YS;const XS="transparent",KS={boolean:(e,t,n)=>n>.5?t:e,color(e,t,n){const i=vw(e||XS),r=i.valid&&vw(t||XS);return r&&r.valid?r.mix(i,n).hexString():t},number:(e,t,n)=>e+(t-e)*n};class JS{constructor(e,t,n,i){const r=t[n];i=Zw([e.to,i,r,e.from]);const s=Zw([e.from,r,i]);this._active=!0,this._fn=e.fn||KS[e.type||typeof s],this._easing=xw[e.easing]||xw.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=t,this._prop=n,this._from=s,this._to=i,this._promises=void 0}active(){return this._active}update(e,t,n){if(this._active){this._notify(!1);const i=this._target[this._prop],r=n-this._start,s=this._duration-r;this._start=n,this._duration=Math.floor(Math.max(s,e.duration)),this._total+=r,this._loop=!!e.loop,this._to=Zw([e.to,t,i,e.from]),this._from=Zw([e.from,i,t])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){const t=e-this._start,n=this._duration,i=this._prop,r=this._from,s=this._loop,o=this._to;let a;if(this._active=r!==o&&(s||t<n),!this._active)return this._target[i]=o,void this._notify(!0);t<0?this._target[i]=r:(a=t/n%2,a=s&&a>1?2-a:a,a=this._easing(Math.min(1,Math.max(0,a))),this._target[i]=this._fn(r,o,a))}wait(){const e=this._promises||(this._promises=[]);return new Promise(((t,n)=>{e.push({res:t,rej:n})}))}_notify(e){const t=e?"res":"rej",n=this._promises||[];for(let i=0;i<n.length;i++)n[i][t]()}}class QS{constructor(e,t){this._chart=e,this._properties=new Map,this.configure(t)}configure(e){if(!yj(e))return;const t=Object.keys(Aw.animation),n=this._properties;Object.getOwnPropertyNames(e).forEach((i=>{const r=e[i];if(!yj(r))return;const s={};for(const e of t)s[e]=r[e];(xj(r.properties)&&r.properties||[i]).forEach((e=>{e!==i&&n.has(e)||n.set(e,s)}))}))}_animateOptions(e,t){const n=t.options,i=function(e,t){if(!t)return;let n=e.options;if(!n)return void(e.options=t);n.$shared&&(e.options=n=Object.assign({},n,{$shared:!1,$animations:{}}));return n}(e,n);if(!i)return[];const r=this._createAnimations(i,n);return n.$shared&&function(e,t){const n=[],i=Object.keys(t);for(let r=0;r<i.length;r++){const t=e[i[r]];t&&t.active()&&n.push(t.wait())}return Promise.all(n)}(e.options.$animations,n).then((()=>{e.options=n}),(()=>{})),r}_createAnimations(e,t){const n=this._properties,i=[],r=e.$animations||(e.$animations={}),s=Object.keys(t),o=Date.now();let a;for(a=s.length-1;a>=0;--a){const l=s[a];if("$"===l.charAt(0))continue;if("options"===l){i.push(...this._animateOptions(e,t));continue}const c=t[l];let d=r[l];const h=n.get(l);if(d){if(h&&d.active()){d.update(h,c,o);continue}d.cancel()}h&&h.duration?(r[l]=d=new JS(h,e,l,c),i.push(d)):e[l]=c}return i}update(e,t){if(0===this._properties.size)return void Object.assign(e,t);const n=this._createAnimations(e,t);return n.length?(GS.add(this._chart,n),!0):void 0}}function ZS(e,t){const n=e&&e.options||{},i=n.reverse,r=void 0===n.min?t:0,s=void 0===n.max?t:0;return{start:i?s:r,end:i?r:s}}function eC(e,t){const n=[],i=e._getSortedDatasetMetas(t);let r,s;for(r=0,s=i.length;r<s;++r)n.push(i[r].index);return n}function tC(e,t,n,i={}){const r=e.keys,s="single"===i.mode;let o,a,l,c;if(null===t)return;let d=!1;for(o=0,a=r.length;o<a;++o){if(l=+r[o],l===n){if(d=!0,i.all)continue;break}c=e.values[l],vj(c)&&(s||0===t||qj(t)===qj(c))&&(t+=c)}return d||i.all?t:0}function nC(e,t){const n=e&&e.options.stacked;return n||void 0===n&&void 0!==t.stack}function iC(e,t,n){const i=e[t]||(e[t]={});return i[n]||(i[n]={})}function rC(e,t,n,i){for(const r of t.getMatchingVisibleMetas(i).reverse()){const t=e[r.index];if(n&&t>0||!n&&t<0)return r.index}return null}function sC(e,t){const{chart:n,_cachedMeta:i}=e,r=n._stacks||(n._stacks={}),{iScale:s,vScale:o,index:a}=i,l=s.axis,c=o.axis,d=function(e,t,n){return`${e.id}.${t.id}.${n.stack||n.type}`}(s,o,i),h=t.length;let u;for(let p=0;p<h;++p){const e=t[p],{[l]:n,[c]:s}=e;u=(e._stacks||(e._stacks={}))[c]=iC(r,d,n),u[a]=s,u._top=rC(u,o,!0,i.type),u._bottom=rC(u,o,!1,i.type);(u._visualValues||(u._visualValues={}))[a]=s}}function oC(e,t){const n=e.scales;return Object.keys(n).filter((e=>n[e].axis===t)).shift()}function aC(e,t){const n=e.controller.index,i=e.vScale&&e.vScale.axis;if(i){t=t||e._parsed;for(const e of t){const t=e._stacks;if(!t||void 0===t[i]||void 0===t[i][n])return;delete t[i][n],void 0!==t[i]._visualValues&&void 0!==t[i]._visualValues[n]&&delete t[i]._visualValues[n]}}}const lC=e=>"reset"===e||"none"===e,cC=(e,t)=>t?e:Object.assign({},e);class dC{constructor(e,t){this.chart=e,this._ctx=e.ctx,this.index=t,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=nC(e.vScale,e),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(e){this.index!==e&&aC(this._cachedMeta),this.index=e}linkScales(){const e=this.chart,t=this._cachedMeta,n=this.getDataset(),i=(e,t,n,i)=>"x"===e?t:"r"===e?i:n,r=t.xAxisID=jj(n.xAxisID,oC(e,"x")),s=t.yAxisID=jj(n.yAxisID,oC(e,"y")),o=t.rAxisID=jj(n.rAxisID,oC(e,"r")),a=t.indexAxis,l=t.iAxisID=i(a,r,s,o),c=t.vAxisID=i(a,s,r,o);t.xScale=this.getScaleForId(r),t.yScale=this.getScaleForId(s),t.rScale=this.getScaleForId(o),t.iScale=this.getScaleForId(l),t.vScale=this.getScaleForId(c)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const t=this._cachedMeta;return e===t.iScale?t.vScale:t.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&cw(this._data,this),e._stacked&&aC(e)}_dataCheck(){const e=this.getDataset(),t=e.data||(e.data=[]),n=this._data;if(yj(t)){const e=this._cachedMeta;this._data=function(e,t){const{iScale:n,vScale:i}=t,r="x"===n.axis?"x":"y",s="x"===i.axis?"x":"y",o=Object.keys(e),a=new Array(o.length);let l,c,d;for(l=0,c=o.length;l<c;++l)d=o[l],a[l]={[r]:d,[s]:e[d]};return a}(t,e)}else if(n!==t){if(n){cw(n,this);const e=this._cachedMeta;aC(e),e._parsed=[]}t&&Object.isExtensible(t)&&(r=this,(i=t)._chartjs?i._chartjs.listeners.push(r):(Object.defineProperty(i,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[r]}}),lw.forEach((e=>{const t="_onData"+Ij(e),n=i[e];Object.defineProperty(i,e,{configurable:!0,enumerable:!1,value(...e){const r=n.apply(this,e);return i._chartjs.listeners.forEach((n=>{"function"==typeof n[t]&&n[t](...e)})),r}})})))),this._syncList=[],this._data=t}var i,r}addElements(){const e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){const t=this._cachedMeta,n=this.getDataset();let i=!1;this._dataCheck();const r=t._stacked;t._stacked=nC(t.vScale,t),t.stack!==n.stack&&(i=!0,aC(t),t.stack=n.stack),this._resyncElements(e),(i||r!==t._stacked)&&(sC(this,t._parsed),t._stacked=nC(t.vScale,t))}configure(){const e=this.chart.config,t=e.datasetScopeKeys(this._type),n=e.getOptionScopes(this.getDataset(),t,!0);this.options=e.createResolver(n,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,t){const{_cachedMeta:n,_data:i}=this,{iScale:r,_stacked:s}=n,o=r.axis;let a,l,c,d=0===e&&t===i.length||n._sorted,h=e>0&&n._parsed[e-1];if(!1===this._parsing)n._parsed=i,n._sorted=!0,c=i;else{c=xj(i[e])?this.parseArrayData(n,i,e,t):yj(i[e])?this.parseObjectData(n,i,e,t):this.parsePrimitiveData(n,i,e,t);const r=()=>null===l[o]||h&&l[o]<h[o];for(a=0;a<t;++a)n._parsed[a+e]=l=c[a],d&&(r()&&(d=!1),h=l);n._sorted=d}s&&sC(this,c)}parsePrimitiveData(e,t,n,i){const{iScale:r,vScale:s}=e,o=r.axis,a=s.axis,l=r.getLabels(),c=r===s,d=new Array(i);let h,u,p;for(h=0,u=i;h<u;++h)p=h+n,d[h]={[o]:c||r.parse(l[p],p),[a]:s.parse(t[p],p)};return d}parseArrayData(e,t,n,i){const{xScale:r,yScale:s}=e,o=new Array(i);let a,l,c,d;for(a=0,l=i;a<l;++a)c=a+n,d=t[c],o[a]={x:r.parse(d[0],c),y:s.parse(d[1],c)};return o}parseObjectData(e,t,n,i){const{xScale:r,yScale:s}=e,{xAxisKey:o="x",yAxisKey:a="y"}=this._parsing,l=new Array(i);let c,d,h,u;for(c=0,d=i;c<d;++c)h=c+n,u=t[h],l[c]={x:r.parse(Tj(u,o),h),y:s.parse(Tj(u,a),h)};return l}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,t,n){const i=this.chart,r=this._cachedMeta,s=t[e.axis];return tC({keys:eC(i,!0),values:t._stacks[e.axis]._visualValues},s,r.index,{mode:n})}updateRangeFromParsed(e,t,n,i){const r=n[t.axis];let s=null===r?NaN:r;const o=i&&n._stacks[t.axis];i&&o&&(i.values=o,s=tC(i,r,this._cachedMeta.index)),e.min=Math.min(e.min,s),e.max=Math.max(e.max,s)}getMinMax(e,t){const n=this._cachedMeta,i=n._parsed,r=n._sorted&&e===n.iScale,s=i.length,o=this._getOtherScale(e),a=((e,t,n)=>e&&!t.hidden&&t._stacked&&{keys:eC(n,!0),values:null})(t,n,this.chart),l={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:c,max:d}=function(e){const{min:t,max:n,minDefined:i,maxDefined:r}=e.getUserBounds();return{min:i?t:Number.NEGATIVE_INFINITY,max:r?n:Number.POSITIVE_INFINITY}}(o);let h,u;function p(){u=i[h];const t=u[o.axis];return!vj(u[e.axis])||c>t||d<t}for(h=0;h<s&&(p()||(this.updateRangeFromParsed(l,e,u,a),!r));++h);if(r)for(h=s-1;h>=0;--h)if(!p()){this.updateRangeFromParsed(l,e,u,a);break}return l}getAllParsedValues(e){const t=this._cachedMeta._parsed,n=[];let i,r,s;for(i=0,r=t.length;i<r;++i)s=t[i][e.axis],vj(s)&&n.push(s);return n}getMaxOverflow(){return!1}getLabelAndValue(e){const t=this._cachedMeta,n=t.iScale,i=t.vScale,r=this.getParsed(e);return{label:n?""+n.getLabelForValue(r[n.axis]):"",value:i?""+i.getLabelForValue(r[i.axis]):""}}_update(e){const t=this._cachedMeta;this.update(e||"default"),t._clip=function(e){let t,n,i,r;return yj(e)?(t=e.top,n=e.right,i=e.bottom,r=e.left):t=n=i=r=e,{top:t,right:n,bottom:i,left:r,disabled:!1===e}}(jj(this.options.clip,function(e,t,n){if(!1===n)return!1;const i=ZS(e,n),r=ZS(t,n);return{top:r.end,right:i.end,bottom:r.start,left:i.start}}(t.xScale,t.yScale,this.getMaxOverflow())))}update(e){}draw(){const e=this._ctx,t=this.chart,n=this._cachedMeta,i=n.data||[],r=t.chartArea,s=[],o=this._drawStart||0,a=this._drawCount||i.length-o,l=this.options.drawActiveElementsOnTop;let c;for(n.dataset&&n.dataset.draw(e,r,o,a),c=o;c<o+a;++c){const t=i[c];t.hidden||(t.active&&l?s.push(t):t.draw(e,r))}for(c=0;c<s.length;++c)s[c].draw(e,r)}getStyle(e,t){const n=t?"active":"default";return void 0===e&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(n):this.resolveDataElementOptions(e||0,n)}getContext(e,t,n){const i=this.getDataset();let r;if(e>=0&&e<this._cachedMeta.data.length){const t=this._cachedMeta.data[e];r=t.$context||(t.$context=function(e,t,n){return tS(e,{active:!1,dataIndex:t,parsed:void 0,raw:void 0,element:n,index:t,mode:"default",type:"data"})}(this.getContext(),e,t)),r.parsed=this.getParsed(e),r.raw=i.data[e],r.index=r.dataIndex=e}else r=this.$context||(this.$context=function(e,t){return tS(e,{active:!1,dataset:void 0,datasetIndex:t,index:t,mode:"default",type:"dataset"})}(this.chart.getContext(),this.index)),r.dataset=i,r.index=r.datasetIndex=this.index;return r.active=!!t,r.mode=n,r}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,t){return this._resolveElementOptions(this.dataElementType.id,t,e)}_resolveElementOptions(e,t="default",n){const i="active"===t,r=this._cachedDataOpts,s=e+"-"+t,o=r[s],a=this.enableOptionSharing&&Dj(n);if(o)return cC(o,a);const l=this.chart.config,c=l.datasetElementScopeKeys(this._type,e),d=i?[`${e}Hover`,"hover",e,""]:[e,""],h=l.getOptionScopes(this.getDataset(),c),u=Object.keys(Aw.elements[e]),p=l.resolveNamedOptions(h,u,(()=>this.getContext(n,i,t)),d);return p.$shared&&(p.$shared=a,r[s]=Object.freeze(cC(p,a))),p}_resolveAnimations(e,t,n){const i=this.chart,r=this._cachedDataOpts,s=`animation-${t}`,o=r[s];if(o)return o;let a;if(!1!==i.options.animation){const i=this.chart.config,r=i.datasetAnimationScopeKeys(this._type,t),s=i.getOptionScopes(this.getDataset(),r);a=i.createResolver(s,this.getContext(e,n,t))}const l=new QS(i,a&&a.animations);return a&&a._cacheable&&(r[s]=Object.freeze(l)),l}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,t){return!t||lC(e)||this.chart._animationsDisabled}_getSharedOptions(e,t){const n=this.resolveDataElementOptions(e,t),i=this._sharedOptions,r=this.getSharedOptions(n),s=this.includeOptions(t,r)||r!==i;return this.updateSharedOptions(r,t,n),{sharedOptions:r,includeOptions:s}}updateElement(e,t,n,i){lC(i)?Object.assign(e,n):this._resolveAnimations(t,i).update(e,n)}updateSharedOptions(e,t,n){e&&!lC(t)&&this._resolveAnimations(void 0,t).update(e,n)}_setStyle(e,t,n,i){e.active=i;const r=this.getStyle(t,i);this._resolveAnimations(t,n,i).update(e,{options:!i&&this.getSharedOptions(r)||r})}removeHoverStyle(e,t,n){this._setStyle(e,n,"active",!1)}setHoverStyle(e,t,n){this._setStyle(e,n,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const t=this._data,n=this._cachedMeta.data;for(const[o,a,l]of this._syncList)this[o](a,l);this._syncList=[];const i=n.length,r=t.length,s=Math.min(r,i);s&&this.parse(0,s),r>i?this._insertElements(i,r-i,e):r<i&&this._removeElements(r,i-r)}_insertElements(e,t,n=!0){const i=this._cachedMeta,r=i.data,s=e+t;let o;const a=e=>{for(e.length+=t,o=e.length-1;o>=s;o--)e[o]=e[o-t]};for(a(r),o=e;o<s;++o)r[o]=new this.dataElementType;this._parsing&&a(i._parsed),this.parse(e,t),n&&this.updateElements(r,e,t,"reset")}updateElements(e,t,n,i){}_removeElements(e,t){const n=this._cachedMeta;if(this._parsing){const i=n._parsed.splice(e,t);n._stacked&&aC(n,i)}n.data.splice(e,t)}_sync(e){if(this._parsing)this._syncList.push(e);else{const[t,n,i]=e;this[t](n,i)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){const e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,t){t&&this._sync(["_removeElements",e,t]);const n=arguments.length-2;n&&this._sync(["_insertElements",e,n])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}i(dC,"defaults",{}),i(dC,"datasetElementType",null),i(dC,"dataElementType",null);class hC extends dC{initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(e){const t=this._cachedMeta,{dataset:n,data:i=[],_dataset:r}=t,s=this.chart._animationsDisabled;let{start:o,count:a}=function(e,t,n){const i=t.length;let r=0,s=i;if(e._sorted){const{iScale:o,vScale:a,_parsed:l}=e,c=e.dataset&&e.dataset.options?e.dataset.options.spanGaps:null,d=o.axis,{min:h,max:u,minDefined:p,maxDefined:f}=o.getUserBounds();if(p){if(r=Math.min(ow(l,d,h).lo,n?i:ow(t,d,o.getPixelForValue(h)).lo),c){const e=l.slice(0,r+1).reverse().findIndex((e=>!gj(e[a.axis])));r-=Math.max(0,e)}r=iw(r,0,i-1)}if(f){let e=Math.max(ow(l,o.axis,u,!0).hi+1,n?0:ow(t,d,o.getPixelForValue(u),!0).hi+1);if(c){const t=l.slice(e-1).findIndex((e=>!gj(e[a.axis])));e+=Math.max(0,t)}s=iw(e,r,i)-r}else s=i-r}return{start:r,count:s}}(t,i,s);this._drawStart=o,this._drawCount=a,function(e){const{xScale:t,yScale:n,_scaleRanges:i}=e,r={xmin:t.min,xmax:t.max,ymin:n.min,ymax:n.max};if(!i)return e._scaleRanges=r,!0;const s=i.xmin!==t.min||i.xmax!==t.max||i.ymin!==n.min||i.ymax!==n.max;return Object.assign(i,r),s}(t)&&(o=0,a=i.length),n._chart=this.chart,n._datasetIndex=this.index,n._decimated=!!r._decimated,n.points=i;const l=this.resolveDatasetElementOptions(e);this.options.showLine||(l.borderWidth=0),l.segment=this.options.segment,this.updateElement(n,void 0,{animated:!s,options:l},e),this.updateElements(i,o,a,e)}updateElements(e,t,n,i){const r="reset"===i,{iScale:s,vScale:o,_stacked:a,_dataset:l}=this._cachedMeta,{sharedOptions:c,includeOptions:d}=this._getSharedOptions(t,i),h=s.axis,u=o.axis,{spanGaps:p,segment:f}=this.options,m=Xj(p)?p:Number.POSITIVE_INFINITY,g=this.chart._animationsDisabled||r||"none"===i,x=t+n,y=e.length;let v=t>0&&this.getParsed(t-1);for(let b=0;b<y;++b){const n=e[b],p=g?n:{};if(b<t||b>=x){p.skip=!0;continue}const y=this.getParsed(b),j=gj(y[u]),w=p[h]=s.getPixelForValue(y[h],b),S=p[u]=r||j?o.getBasePixel():o.getPixelForValue(a?this.applyStack(o,y,a):y[u],b);p.skip=isNaN(w)||isNaN(S)||j,p.stop=b>0&&Math.abs(y[h]-v[h])>m,f&&(p.parsed=y,p.raw=l.data[b]),d&&(p.options=c||this.resolveDataElementOptions(b,n.active?"active":i)),g||this.updateElement(n,b,p,i),v=y}}getMaxOverflow(){const e=this._cachedMeta,t=e.dataset,n=t.options&&t.options.borderWidth||0,i=e.data||[];if(!i.length)return n;const r=i[0].size(this.resolveDataElementOptions(0)),s=i[i.length-1].size(this.resolveDataElementOptions(i.length-1));return Math.max(n,r,s)/2}draw(){const e=this._cachedMeta;e.dataset.updateControlPoints(this.chart.chartArea,e.iScale.axis),super.draw()}}function uC(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}i(hC,"id","line"),i(hC,"defaults",{datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1}),i(hC,"overrides",{scales:{_index_:{type:"category"},_value_:{type:"linear"}}});class pC{constructor(e){i(this,"options"),this.options=e||{}}static override(e){Object.assign(pC.prototype,e)}init(){}formats(){return uC()}parse(){return uC()}format(){return uC()}add(){return uC()}diff(){return uC()}startOf(){return uC()}endOf(){return uC()}}var fC=pC;function mC(e,t,n,i){const{controller:r,data:s,_sorted:o}=e,a=r._cachedMeta.iScale,l=e.dataset&&e.dataset.options?e.dataset.options.spanGaps:null;if(a&&t===a.axis&&"r"!==t&&o&&s.length){const o=a._reversePixels?aw:ow;if(!i){const i=o(s,t,n);if(l){const{vScale:t}=r._cachedMeta,{_parsed:n}=e,s=n.slice(0,i.lo+1).reverse().findIndex((e=>!gj(e[t.axis])));i.lo-=Math.max(0,s);const o=n.slice(i.hi).findIndex((e=>!gj(e[t.axis])));i.hi+=Math.max(0,o)}return i}if(r._sharedOptions){const e=s[0],i="function"==typeof e.getRange&&e.getRange(t);if(i){const e=o(s,t,n-i),r=o(s,t,n+i);return{lo:e.lo,hi:r.hi}}}}return{lo:0,hi:s.length-1}}function gC(e,t,n,i,r){const s=e.getSortedVisibleDatasetMetas(),o=n[t];for(let a=0,l=s.length;a<l;++a){const{index:e,data:n}=s[a],{lo:l,hi:c}=mC(s[a],t,o,r);for(let t=l;t<=c;++t){const r=n[t];r.skip||i(r,e,t)}}}function xC(e,t,n,i,r){const s=[];if(!r&&!e.isPointInArea(t))return s;return gC(e,n,t,(function(n,o,a){(r||Lw(n,e.chartArea,0))&&n.inRange(t.x,t.y,i)&&s.push({element:n,datasetIndex:o,index:a})}),!0),s}function yC(e,t,n,i,r,s){let o=[];const a=function(e){const t=-1!==e.indexOf("x"),n=-1!==e.indexOf("y");return function(e,i){const r=t?Math.abs(e.x-i.x):0,s=n?Math.abs(e.y-i.y):0;return Math.sqrt(Math.pow(r,2)+Math.pow(s,2))}}(n);let l=Number.POSITIVE_INFINITY;return gC(e,n,t,(function(n,c,d){const h=n.inRange(t.x,t.y,r);if(i&&!h)return;const u=n.getCenterPoint(r);if(!(!!s||e.isPointInArea(u))&&!h)return;const p=a(t,u);p<l?(o=[{element:n,datasetIndex:c,index:d}],l=p):p===l&&o.push({element:n,datasetIndex:c,index:d})})),o}function vC(e,t,n,i,r,s){return s||e.isPointInArea(t)?"r"!==n||i?yC(e,t,n,i,r,s):function(e,t,n,i){let r=[];return gC(e,n,t,(function(e,n,s){const{startAngle:o,endAngle:a}=e.getProps(["startAngle","endAngle"],i),{angle:l}=Qj(e,{x:t.x,y:t.y});nw(l,o,a)&&r.push({element:e,datasetIndex:n,index:s})})),r}(e,t,n,r):[]}function bC(e,t,n,i,r){const s=[],o="x"===n?"inXRange":"inYRange";let a=!1;return gC(e,n,t,((e,i,l)=>{e[o]&&e[o](t[n],r)&&(s.push({element:e,datasetIndex:i,index:l}),a=a||e.inRange(t.x,t.y,r))})),i&&!a?[]:s}var jC={modes:{index(e,t,n,i){const r=PS(t,e),s=n.axis||"x",o=n.includeInvisible||!1,a=n.intersect?xC(e,r,s,i,o):vC(e,r,s,!1,i,o),l=[];return a.length?(e.getSortedVisibleDatasetMetas().forEach((e=>{const t=a[0].index,n=e.data[t];n&&!n.skip&&l.push({element:n,datasetIndex:e.index,index:t})})),l):[]},dataset(e,t,n,i){const r=PS(t,e),s=n.axis||"xy",o=n.includeInvisible||!1;let a=n.intersect?xC(e,r,s,i,o):vC(e,r,s,!1,i,o);if(a.length>0){const t=a[0].datasetIndex,n=e.getDatasetMeta(t).data;a=[];for(let e=0;e<n.length;++e)a.push({element:n[e],datasetIndex:t,index:e})}return a},point:(e,t,n,i)=>xC(e,PS(t,e),n.axis||"xy",i,n.includeInvisible||!1),nearest(e,t,n,i){const r=PS(t,e),s=n.axis||"xy",o=n.includeInvisible||!1;return vC(e,r,s,n.intersect,i,o)},x:(e,t,n,i)=>bC(e,PS(t,e),"x",n.intersect,i),y:(e,t,n,i)=>bC(e,PS(t,e),"y",n.intersect,i)}};const wC=["left","top","right","bottom"];function SC(e,t){return e.filter((e=>e.pos===t))}function CC(e,t){return e.filter((e=>-1===wC.indexOf(e.pos)&&e.box.axis===t))}function _C(e,t){return e.sort(((e,n)=>{const i=t?n:e,r=t?e:n;return i.weight===r.weight?i.index-r.index:i.weight-r.weight}))}function kC(e,t){const n=function(e){const t={};for(const n of e){const{stack:e,pos:i,stackWeight:r}=n;if(!e||!wC.includes(i))continue;const s=t[e]||(t[e]={count:0,placed:0,weight:0,size:0});s.count++,s.weight+=r}return t}(e),{vBoxMaxWidth:i,hBoxMaxHeight:r}=t;let s,o,a;for(s=0,o=e.length;s<o;++s){a=e[s];const{fullSize:o}=a.box,l=n[a.stack],c=l&&a.stackWeight/l.weight;a.horizontal?(a.width=c?c*i:o&&t.availableWidth,a.height=r):(a.width=i,a.height=c?c*r:o&&t.availableHeight)}return n}function EC(e,t,n,i){return Math.max(e[n],t[n])+Math.max(e[i],t[i])}function PC(e,t){e.top=Math.max(e.top,t.top),e.left=Math.max(e.left,t.left),e.bottom=Math.max(e.bottom,t.bottom),e.right=Math.max(e.right,t.right)}function OC(e,t,n,i){const{pos:r,box:s}=n,o=e.maxPadding;if(!yj(r)){n.size&&(e[r]-=n.size);const t=i[n.stack]||{size:0,count:1};t.size=Math.max(t.size,n.horizontal?s.height:s.width),n.size=t.size/t.count,e[r]+=n.size}s.getPadding&&PC(o,s.getPadding());const a=Math.max(0,t.outerWidth-EC(o,e,"left","right")),l=Math.max(0,t.outerHeight-EC(o,e,"top","bottom")),c=a!==e.w,d=l!==e.h;return e.w=a,e.h=l,n.horizontal?{same:c,other:d}:{same:d,other:c}}function MC(e,t){const n=t.maxPadding;function i(e){const i={left:0,top:0,right:0,bottom:0};return e.forEach((e=>{i[e]=Math.max(t[e],n[e])})),i}return i(e?["left","right"]:["top","bottom"])}function AC(e,t,n,i){const r=[];let s,o,a,l,c,d;for(s=0,o=e.length,c=0;s<o;++s){a=e[s],l=a.box,l.update(a.width||t.w,a.height||t.h,MC(a.horizontal,t));const{same:o,other:h}=OC(t,n,a,i);c|=o&&r.length,d=d||h,l.fullSize||r.push(a)}return c&&AC(r,t,n,i)||d}function TC(e,t,n,i,r){e.top=n,e.left=t,e.right=t+i,e.bottom=n+r,e.width=i,e.height=r}function IC(e,t,n,i){const r=n.padding;let{x:s,y:o}=t;for(const a of e){const e=a.box,l=i[a.stack]||{placed:0,weight:1},c=a.stackWeight/l.weight||1;if(a.horizontal){const i=t.w*c,s=l.size||e.height;Dj(l.start)&&(o=l.start),e.fullSize?TC(e,r.left,o,n.outerWidth-r.right-r.left,s):TC(e,t.left+l.placed,o,i,s),l.start=o,l.placed+=i,o=e.bottom}else{const i=t.h*c,o=l.size||e.width;Dj(l.start)&&(s=l.start),e.fullSize?TC(e,s,r.top,o,n.outerHeight-r.bottom-r.top):TC(e,s,t.top+l.placed,o,i),l.start=s,l.placed+=i,s=e.right}}t.x=s,t.y=o}var DC={addBox(e,t){e.boxes||(e.boxes=[]),t.fullSize=t.fullSize||!1,t.position=t.position||"top",t.weight=t.weight||0,t._layers=t._layers||function(){return[{z:0,draw(e){t.draw(e)}}]},e.boxes.push(t)},removeBox(e,t){const n=e.boxes?e.boxes.indexOf(t):-1;-1!==n&&e.boxes.splice(n,1)},configure(e,t,n){t.fullSize=n.fullSize,t.position=n.position,t.weight=n.weight},update(e,t,n,i){if(!e)return;const r=Jw(e.options.layout.padding),s=Math.max(t-r.width,0),o=Math.max(n-r.height,0),a=function(e){const t=function(e){const t=[];let n,i,r,s,o,a;for(n=0,i=(e||[]).length;n<i;++n)r=e[n],({position:s,options:{stack:o,stackWeight:a=1}}=r),t.push({index:n,box:r,pos:s,horizontal:r.isHorizontal(),weight:r.weight,stack:o&&s+o,stackWeight:a});return t}(e),n=_C(t.filter((e=>e.box.fullSize)),!0),i=_C(SC(t,"left"),!0),r=_C(SC(t,"right")),s=_C(SC(t,"top"),!0),o=_C(SC(t,"bottom")),a=CC(t,"x"),l=CC(t,"y");return{fullSize:n,leftAndTop:i.concat(s),rightAndBottom:r.concat(l).concat(o).concat(a),chartArea:SC(t,"chartArea"),vertical:i.concat(r).concat(l),horizontal:s.concat(o).concat(a)}}(e.boxes),l=a.vertical,c=a.horizontal;Sj(e.boxes,(e=>{"function"==typeof e.beforeLayout&&e.beforeLayout()}));const d=l.reduce(((e,t)=>t.box.options&&!1===t.box.options.display?e:e+1),0)||1,h=Object.freeze({outerWidth:t,outerHeight:n,padding:r,availableWidth:s,availableHeight:o,vBoxMaxWidth:s/2/d,hBoxMaxHeight:o/2}),u=Object.assign({},r);PC(u,Jw(i));const p=Object.assign({maxPadding:u,w:s,h:o,x:r.left,y:r.top},r),f=kC(l.concat(c),h);AC(a.fullSize,p,h,f),AC(l,p,h,f),AC(c,p,h,f)&&AC(l,p,h,f),function(e){const t=e.maxPadding;function n(n){const i=Math.max(t[n]-e[n],0);return e[n]+=i,i}e.y+=n("top"),e.x+=n("left"),n("right"),n("bottom")}(p),IC(a.leftAndTop,p,h,f),p.x+=p.w,p.y+=p.h,IC(a.rightAndBottom,p,h,f),e.chartArea={left:p.left,top:p.top,right:p.left+p.w,bottom:p.top+p.h,height:p.h,width:p.w},Sj(a.chartArea,(t=>{const n=t.box;Object.assign(n,e.chartArea),n.update(p.w,p.h,{left:0,top:0,right:0,bottom:0})}))}};class RC{acquireContext(e,t){}releaseContext(e){return!1}addEventListener(e,t,n){}removeEventListener(e,t,n){}getDevicePixelRatio(){return 1}getMaximumSize(e,t,n,i){return t=Math.max(0,t||e.width),n=n||e.height,{width:t,height:Math.max(0,i?Math.floor(t/i):n)}}isAttached(e){return!0}updateConfig(e){}}class FC extends RC{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}}const LC="$chartjs",zC={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},BC=e=>null===e||""===e;const WC=!!TS&&{passive:!0};function NC(e,t,n){e&&e.canvas&&e.canvas.removeEventListener(t,n,WC)}function VC(e,t){for(const n of e)if(n===t||n.contains(t))return!0}function $C(e,t,n){const i=e.canvas,r=new MutationObserver((e=>{let t=!1;for(const n of e)t=t||VC(n.addedNodes,i),t=t&&!VC(n.removedNodes,i);t&&n()}));return r.observe(document,{childList:!0,subtree:!0}),r}function UC(e,t,n){const i=e.canvas,r=new MutationObserver((e=>{let t=!1;for(const n of e)t=t||VC(n.removedNodes,i),t=t&&!VC(n.addedNodes,i);t&&n()}));return r.observe(document,{childList:!0,subtree:!0}),r}const HC=new Map;let qC=0;function YC(){const e=window.devicePixelRatio;e!==qC&&(qC=e,HC.forEach(((t,n)=>{n.currentDevicePixelRatio!==e&&t()})))}function GC(e,t,n){const i=e.canvas,r=i&&SS(i);if(!r)return;const s=hw(((e,t)=>{const i=r.clientWidth;n(e,t),i<r.clientWidth&&n()}),window),o=new ResizeObserver((e=>{const t=e[0],n=t.contentRect.width,i=t.contentRect.height;0===n&&0===i||s(n,i)}));return o.observe(r),function(e,t){HC.size||window.addEventListener("resize",YC),HC.set(e,t)}(e,s),o}function XC(e,t,n){n&&n.disconnect(),"resize"===t&&function(e){HC.delete(e),HC.size||window.removeEventListener("resize",YC)}(e)}function KC(e,t,n){const i=e.canvas,r=hw((t=>{null!==e.ctx&&n(function(e,t){const n=zC[e.type]||e.type,{x:i,y:r}=PS(e,t);return{type:n,chart:t,native:e,x:void 0!==i?i:null,y:void 0!==r?r:null}}(t,e))}),e);return function(e,t,n){e&&e.addEventListener(t,n,WC)}(i,t,r),r}class JC extends RC{acquireContext(e,t){const n=e&&e.getContext&&e.getContext("2d");return n&&n.canvas===e?(function(e,t){const n=e.style,i=e.getAttribute("height"),r=e.getAttribute("width");if(e[LC]={initial:{height:i,width:r,style:{display:n.display,height:n.height,width:n.width}}},n.display=n.display||"block",n.boxSizing=n.boxSizing||"border-box",BC(r)){const t=IS(e,"width");void 0!==t&&(e.width=t)}if(BC(i))if(""===e.style.height)e.height=e.width/(t||2);else{const t=IS(e,"height");void 0!==t&&(e.height=t)}}(e,t),n):null}releaseContext(e){const t=e.canvas;if(!t[LC])return!1;const n=t[LC].initial;["height","width"].forEach((e=>{const i=n[e];gj(i)?t.removeAttribute(e):t.setAttribute(e,i)}));const i=n.style||{};return Object.keys(i).forEach((e=>{t.style[e]=i[e]})),t.width=t.width,delete t[LC],!0}addEventListener(e,t,n){this.removeEventListener(e,t);const i=e.$proxies||(e.$proxies={}),r={attach:$C,detach:UC,resize:GC}[t]||KC;i[t]=r(e,t,n)}removeEventListener(e,t){const n=e.$proxies||(e.$proxies={}),i=n[t];if(!i)return;({attach:XC,detach:XC,resize:XC}[t]||NC)(e,t,i),n[t]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,t,n,i){return MS(e,t,n,i)}isAttached(e){const t=e&&SS(e);return!(!t||!t.isConnected)}}let QC=(e=class{constructor(){i(this,"x"),i(this,"y"),i(this,"active",!1),i(this,"options"),i(this,"$animations")}tooltipPosition(e){const{x:t,y:n}=this.getProps(["x","y"],e);return{x:t,y:n}}hasValue(){return Xj(this.x)&&Xj(this.y)}getProps(e,t){const n=this.$animations;if(!t||!n)return this;const i={};return e.forEach((e=>{i[e]=n[e]&&n[e].active()?n[e]._to:this[e]})),i}},i(e,"defaults",{}),i(e,"defaultRoutes"),e);function ZC(e,t){const n=e.options.ticks,i=function(e){const t=e.options.offset,n=e._tickSize(),i=e._length/n+(t?0:1),r=e._maxLength/n;return Math.floor(Math.min(i,r))}(e),r=Math.min(n.maxTicksLimit||i,i),s=n.major.enabled?function(e){const t=[];let n,i;for(n=0,i=e.length;n<i;n++)e[n].major&&t.push(n);return t}(t):[],o=s.length,a=s[0],l=s[o-1],c=[];if(o>r)return function(e,t,n,i){let r,s=0,o=n[0];for(i=Math.ceil(i),r=0;r<e.length;r++)r===o&&(t.push(e[r]),s++,o=n[s*i])}(t,c,s,o/r),c;const d=function(e,t,n){const i=function(e){const t=e.length;let n,i;if(t<2)return!1;for(i=e[0],n=1;n<t;++n)if(e[n]-e[n-1]!==i)return!1;return i}(e),r=t.length/n;if(!i)return Math.max(r,1);const s=function(e){const t=[],n=Math.sqrt(e);let i;for(i=1;i<n;i++)e%i==0&&(t.push(i),t.push(e/i));return n===(0|n)&&t.push(n),t.sort(((e,t)=>e-t)).pop(),t}(i);for(let o=0,a=s.length-1;o<a;o++){const e=s[o];if(e>r)return e}return Math.max(r,1)}(s,t,r);if(o>0){let e,n;const i=o>1?Math.round((l-a)/(o-1)):null;for(e_(t,c,d,gj(i)?0:a-i,a),e=0,n=o-1;e<n;e++)e_(t,c,d,s[e],s[e+1]);return e_(t,c,d,l,gj(i)?t.length:l+i),c}return e_(t,c,d),c}function e_(e,t,n,i,r){const s=jj(i,0),o=Math.min(jj(r,e.length),e.length);let a,l,c,d=0;for(n=Math.ceil(n),r&&(a=r-i,n=a/Math.floor(a/n)),c=s;c<0;)d++,c=Math.round(s+d*n);for(l=Math.max(s,0);l<o;l++)l===c&&(t.push(e[l]),d++,c=Math.round(s+d*n))}const t_=(e,t,n)=>"top"===t||"left"===t?e[t]+n:e[t]-n,n_=(e,t)=>Math.min(t||e,e);function i_(e,t){const n=[],i=e.length/t,r=e.length;let s=0;for(;s<r;s+=i)n.push(e[Math.floor(s)]);return n}function r_(e,t,n){const i=e.ticks.length,r=Math.min(t,i-1),s=e._startPixel,o=e._endPixel,a=1e-6;let l,c=e.getPixelForTick(r);if(!(n&&(l=1===i?Math.max(c-s,o-c):0===t?(e.getPixelForTick(1)-c)/2:(c-e.getPixelForTick(r-1))/2,c+=r<t?l:-l,c<s-a||c>o+a)))return c}function s_(e){return e.drawTicks?e.tickLength:0}function o_(e,t){if(!e.display)return 0;const n=Qw(e.font,t),i=Jw(e.padding);return(xj(e.text)?e.text.length:1)*n.lineHeight+i.height}function a_(e,t,n){let i=uw(e);return(n&&"right"!==t||!n&&"right"===t)&&(i=(e=>"left"===e?"right":"right"===e?"left":e)(i)),i}class l_ extends QC{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,t){return e}getUserBounds(){let{_userMin:e,_userMax:t,_suggestedMin:n,_suggestedMax:i}=this;return e=bj(e,Number.POSITIVE_INFINITY),t=bj(t,Number.NEGATIVE_INFINITY),n=bj(n,Number.POSITIVE_INFINITY),i=bj(i,Number.NEGATIVE_INFINITY),{min:bj(e,n),max:bj(t,i),minDefined:vj(e),maxDefined:vj(t)}}getMinMax(e){let t,{min:n,max:i,minDefined:r,maxDefined:s}=this.getUserBounds();if(r&&s)return{min:n,max:i};const o=this.getMatchingVisibleMetas();for(let a=0,l=o.length;a<l;++a)t=o[a].controller.getMinMax(this,e),r||(n=Math.min(n,t.min)),s||(i=Math.max(i,t.max));return n=s&&n>i?i:n,i=r&&n>i?n:i,{min:bj(n,bj(i,n)),max:bj(i,bj(n,i))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}getLabelItems(e=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(e))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){wj(this.options.beforeUpdate,[this])}update(e,t,n){const{beginAtZero:i,grace:r,ticks:s}=this.options,o=s.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=t,this._margins=n=Object.assign({left:0,right:0,top:0,bottom:0},n),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+n.left+n.right:this.height+n.top+n.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=eS(this,r,i),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const a=o<this.ticks.length;this._convertTicksToLabels(a?i_(this.ticks,o):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),s.display&&(s.autoSkip||"auto"===s.source)&&(this.ticks=ZC(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),a&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e,t,n=this.options.reverse;this.isHorizontal()?(e=this.left,t=this.right):(e=this.top,t=this.bottom,n=!n),this._startPixel=e,this._endPixel=t,this._reversePixels=n,this._length=t-e,this._alignToPixels=this.options.alignToPixels}afterUpdate(){wj(this.options.afterUpdate,[this])}beforeSetDimensions(){wj(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){wj(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),wj(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){wj(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){const t=this.options.ticks;let n,i,r;for(n=0,i=e.length;n<i;n++)r=e[n],r.label=wj(t.callback,[r.value,n,e],this)}afterTickToLabelConversion(){wj(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){wj(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const e=this.options,t=e.ticks,n=n_(this.ticks.length,e.ticks.maxTicksLimit),i=t.minRotation||0,r=t.maxRotation;let s,o,a,l=i;if(!this._isVisible()||!t.display||i>=r||n<=1||!this.isHorizontal())return void(this.labelRotation=i);const c=this._getLabelSizes(),d=c.widest.width,h=c.highest.height,u=iw(this.chart.width-d,0,this.maxWidth);s=e.offset?this.maxWidth/n:u/(n-1),d+6>s&&(s=u/(n-(e.offset?.5:1)),o=this.maxHeight-s_(e.grid)-t.padding-o_(e.title,this.chart.options.font),a=Math.sqrt(d*d+h*h),l=Math.min(Math.asin(iw((c.highest.height+6)/s,-1,1)),Math.asin(iw(o/a,-1,1))-Math.asin(iw(h/a,-1,1)))*(180/Lj),l=Math.max(i,Math.min(r,l))),this.labelRotation=l}afterCalculateLabelRotation(){wj(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){wj(this.options.beforeFit,[this])}fit(){const e={width:0,height:0},{chart:t,options:{ticks:n,title:i,grid:r}}=this,s=this._isVisible(),o=this.isHorizontal();if(s){const s=o_(i,t.options.font);if(o?(e.width=this.maxWidth,e.height=s_(r)+s):(e.height=this.maxHeight,e.width=s_(r)+s),n.display&&this.ticks.length){const{first:t,last:i,widest:r,highest:s}=this._getLabelSizes(),a=2*n.padding,l=Kj(this.labelRotation),c=Math.cos(l),d=Math.sin(l);if(o){const t=n.mirror?0:d*r.width+c*s.height;e.height=Math.min(this.maxHeight,e.height+t+a)}else{const t=n.mirror?0:c*r.width+d*s.height;e.width=Math.min(this.maxWidth,e.width+t+a)}this._calculatePadding(t,i,d,c)}}this._handleMargins(),o?(this.width=this._length=t.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=t.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,t,n,i){const{ticks:{align:r,padding:s},position:o}=this.options,a=0!==this.labelRotation,l="top"!==o&&"x"===this.axis;if(this.isHorizontal()){const o=this.getPixelForTick(0)-this.left,c=this.right-this.getPixelForTick(this.ticks.length-1);let d=0,h=0;a?l?(d=i*e.width,h=n*t.height):(d=n*e.height,h=i*t.width):"start"===r?h=t.width:"end"===r?d=e.width:"inner"!==r&&(d=e.width/2,h=t.width/2),this.paddingLeft=Math.max((d-o+s)*this.width/(this.width-o),0),this.paddingRight=Math.max((h-c+s)*this.width/(this.width-c),0)}else{let n=t.height/2,i=e.height/2;"start"===r?(n=0,i=e.height):"end"===r&&(n=t.height,i=0),this.paddingTop=n+s,this.paddingBottom=i+s}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){wj(this.options.afterFit,[this])}isHorizontal(){const{axis:e,position:t}=this.options;return"top"===t||"bottom"===t||"x"===e}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){let t,n;for(this.beforeTickToLabelConversion(),this.generateTickLabels(e),t=0,n=e.length;t<n;t++)gj(e[t].label)&&(e.splice(t,1),n--,t--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){const t=this.options.ticks.sampleSize;let n=this.ticks;t<n.length&&(n=i_(n,t)),this._labelSizes=e=this._computeLabelSizes(n,n.length,this.options.ticks.maxTicksLimit)}return e}_computeLabelSizes(e,t,n){const{ctx:i,_longestTextCache:r}=this,s=[],o=[],a=Math.floor(t/n_(t,n));let l,c,d,h,u,p,f,m,g,x,y,v=0,b=0;for(l=0;l<t;l+=a){if(h=e[l].label,u=this._resolveTickFontOptions(l),i.font=p=u.string,f=r[p]=r[p]||{data:{},gc:[]},m=u.lineHeight,g=x=0,gj(h)||xj(h)){if(xj(h))for(c=0,d=h.length;c<d;++c)y=h[c],gj(y)||xj(y)||(g=Tw(i,f.data,f.gc,g,y),x+=m)}else g=Tw(i,f.data,f.gc,g,h),x=m;s.push(g),o.push(x),v=Math.max(g,v),b=Math.max(x,b)}!function(e,t){Sj(e,(e=>{const n=e.gc,i=n.length/2;let r;if(i>t){for(r=0;r<i;++r)delete e.data[n[r]];n.splice(0,i)}}))}(r,t);const j=s.indexOf(v),w=o.indexOf(b),S=e=>({width:s[e]||0,height:o[e]||0});return{first:S(0),last:S(t-1),widest:S(j),highest:S(w),widths:s,heights:o}}getLabelForValue(e){return e}getPixelForValue(e,t){return NaN}getValueForPixel(e){}getPixelForTick(e){const t=this.ticks;return e<0||e>t.length-1?null:this.getPixelForValue(t[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);const t=this._startPixel+e*this._length;return iw(this._alignToPixels?Iw(this.chart,t,0):t,-32768,32767)}getDecimalForPixel(e){const t=(e-this._startPixel)/this._length;return this._reversePixels?1-t:t}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:e,max:t}=this;return e<0&&t<0?t:e>0&&t>0?e:0}getContext(e){const t=this.ticks||[];if(e>=0&&e<t.length){const n=t[e];return n.$context||(n.$context=function(e,t,n){return tS(e,{tick:n,index:t,type:"tick"})}(this.getContext(),e,n))}return this.$context||(this.$context=tS(this.chart.getContext(),{scale:this,type:"scale"}))}_tickSize(){const e=this.options.ticks,t=Kj(this.labelRotation),n=Math.abs(Math.cos(t)),i=Math.abs(Math.sin(t)),r=this._getLabelSizes(),s=e.autoSkipPadding||0,o=r?r.widest.width+s:0,a=r?r.highest.height+s:0;return this.isHorizontal()?a*n>o*i?o/n:a/i:a*i<o*n?a/n:o/i}_isVisible(){const e=this.options.display;return"auto"!==e?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){const t=this.axis,n=this.chart,i=this.options,{grid:r,position:s,border:o}=i,a=r.offset,l=this.isHorizontal(),c=this.ticks.length+(a?1:0),d=s_(r),h=[],u=o.setContext(this.getContext()),p=u.display?u.width:0,f=p/2,m=function(e){return Iw(n,e,p)};let g,x,y,v,b,j,w,S,C,_,k,E;if("top"===s)g=m(this.bottom),j=this.bottom-d,S=g-f,_=m(e.top)+f,E=e.bottom;else if("bottom"===s)g=m(this.top),_=e.top,E=m(e.bottom)-f,j=g+f,S=this.top+d;else if("left"===s)g=m(this.right),b=this.right-d,w=g-f,C=m(e.left)+f,k=e.right;else if("right"===s)g=m(this.left),C=e.left,k=m(e.right)-f,b=g+f,w=this.left+d;else if("x"===t){if("center"===s)g=m((e.top+e.bottom)/2+.5);else if(yj(s)){const e=Object.keys(s)[0],t=s[e];g=m(this.chart.scales[e].getPixelForValue(t))}_=e.top,E=e.bottom,j=g+f,S=j+d}else if("y"===t){if("center"===s)g=m((e.left+e.right)/2);else if(yj(s)){const e=Object.keys(s)[0],t=s[e];g=m(this.chart.scales[e].getPixelForValue(t))}b=g-f,w=b-d,C=e.left,k=e.right}const P=jj(i.ticks.maxTicksLimit,c),O=Math.max(1,Math.ceil(c/P));for(x=0;x<c;x+=O){const e=this.getContext(x),t=r.setContext(e),i=o.setContext(e),s=t.lineWidth,c=t.color,d=i.dash||[],u=i.dashOffset,p=t.tickWidth,f=t.tickColor,m=t.tickBorderDash||[],g=t.tickBorderDashOffset;y=r_(this,x,a),void 0!==y&&(v=Iw(n,y,s),l?b=w=C=k=v:j=S=_=E=v,h.push({tx1:b,ty1:j,tx2:w,ty2:S,x1:C,y1:_,x2:k,y2:E,width:s,color:c,borderDash:d,borderDashOffset:u,tickWidth:p,tickColor:f,tickBorderDash:m,tickBorderDashOffset:g}))}return this._ticksLength=c,this._borderValue=g,h}_computeLabelItems(e){const t=this.axis,n=this.options,{position:i,ticks:r}=n,s=this.isHorizontal(),o=this.ticks,{align:a,crossAlign:l,padding:c,mirror:d}=r,h=s_(n.grid),u=h+c,p=d?-c:u,f=-Kj(this.labelRotation),m=[];let g,x,y,v,b,j,w,S,C,_,k,E,P="middle";if("top"===i)j=this.bottom-p,w=this._getXAxisLabelAlignment();else if("bottom"===i)j=this.top+p,w=this._getXAxisLabelAlignment();else if("left"===i){const e=this._getYAxisLabelAlignment(h);w=e.textAlign,b=e.x}else if("right"===i){const e=this._getYAxisLabelAlignment(h);w=e.textAlign,b=e.x}else if("x"===t){if("center"===i)j=(e.top+e.bottom)/2+u;else if(yj(i)){const e=Object.keys(i)[0],t=i[e];j=this.chart.scales[e].getPixelForValue(t)+u}w=this._getXAxisLabelAlignment()}else if("y"===t){if("center"===i)b=(e.left+e.right)/2-u;else if(yj(i)){const e=Object.keys(i)[0],t=i[e];b=this.chart.scales[e].getPixelForValue(t)}w=this._getYAxisLabelAlignment(h).textAlign}"y"===t&&("start"===a?P="top":"end"===a&&(P="bottom"));const O=this._getLabelSizes();for(g=0,x=o.length;g<x;++g){y=o[g],v=y.label;const e=r.setContext(this.getContext(g));S=this.getPixelForTick(g)+r.labelOffset,C=this._resolveTickFontOptions(g),_=C.lineHeight,k=xj(v)?v.length:1;const t=k/2,n=e.color,a=e.textStrokeColor,c=e.textStrokeWidth;let h,u=w;if(s?(b=S,"inner"===w&&(u=g===x-1?this.options.reverse?"left":"right":0===g?this.options.reverse?"right":"left":"center"),E="top"===i?"near"===l||0!==f?-k*_+_/2:"center"===l?-O.highest.height/2-t*_+_:-O.highest.height+_/2:"near"===l||0!==f?_/2:"center"===l?O.highest.height/2-t*_:O.highest.height-k*_,d&&(E*=-1),0===f||e.showLabelBackdrop||(b+=_/2*Math.sin(f))):(j=S,E=(1-k)*_/2),e.showLabelBackdrop){const t=Jw(e.backdropPadding),n=O.heights[g],i=O.widths[g];let r=E-t.top,s=0-t.left;switch(P){case"middle":r-=n/2;break;case"bottom":r-=n}switch(w){case"center":s-=i/2;break;case"right":s-=i;break;case"inner":g===x-1?s-=i:g>0&&(s-=i/2)}h={left:s,top:r,width:i+t.width,height:n+t.height,color:e.backdropColor}}m.push({label:v,font:C,textOffset:E,options:{rotation:f,color:n,strokeColor:a,strokeWidth:c,textAlign:u,textBaseline:P,translation:[b,j],backdrop:h}})}return m}_getXAxisLabelAlignment(){const{position:e,ticks:t}=this.options;if(-Kj(this.labelRotation))return"top"===e?"left":"right";let n="center";return"start"===t.align?n="left":"end"===t.align?n="right":"inner"===t.align&&(n="inner"),n}_getYAxisLabelAlignment(e){const{position:t,ticks:{crossAlign:n,mirror:i,padding:r}}=this.options,s=e+r,o=this._getLabelSizes().widest.width;let a,l;return"left"===t?i?(l=this.right+r,"near"===n?a="left":"center"===n?(a="center",l+=o/2):(a="right",l+=o)):(l=this.right-s,"near"===n?a="right":"center"===n?(a="center",l-=o/2):(a="left",l=this.left)):"right"===t?i?(l=this.left+r,"near"===n?a="right":"center"===n?(a="center",l-=o/2):(a="left",l-=o)):(l=this.left+s,"near"===n?a="left":"center"===n?(a="center",l+=o/2):(a="right",l=this.right)):a="right",{textAlign:a,x:l}}_computeLabelArea(){if(this.options.ticks.mirror)return;const e=this.chart,t=this.options.position;return"left"===t||"right"===t?{top:0,left:this.left,bottom:e.height,right:this.right}:"top"===t||"bottom"===t?{top:this.top,left:0,bottom:this.bottom,right:e.width}:void 0}drawBackground(){const{ctx:e,options:{backgroundColor:t},left:n,top:i,width:r,height:s}=this;t&&(e.save(),e.fillStyle=t,e.fillRect(n,i,r,s),e.restore())}getLineWidthForValue(e){const t=this.options.grid;if(!this._isVisible()||!t.display)return 0;const n=this.ticks.findIndex((t=>t.value===e));if(n>=0){return t.setContext(this.getContext(n)).lineWidth}return 0}drawGrid(e){const t=this.options.grid,n=this.ctx,i=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e));let r,s;const o=(e,t,i)=>{i.width&&i.color&&(n.save(),n.lineWidth=i.width,n.strokeStyle=i.color,n.setLineDash(i.borderDash||[]),n.lineDashOffset=i.borderDashOffset,n.beginPath(),n.moveTo(e.x,e.y),n.lineTo(t.x,t.y),n.stroke(),n.restore())};if(t.display)for(r=0,s=i.length;r<s;++r){const e=i[r];t.drawOnChartArea&&o({x:e.x1,y:e.y1},{x:e.x2,y:e.y2},e),t.drawTicks&&o({x:e.tx1,y:e.ty1},{x:e.tx2,y:e.ty2},{color:e.tickColor,width:e.tickWidth,borderDash:e.tickBorderDash,borderDashOffset:e.tickBorderDashOffset})}}drawBorder(){const{chart:e,ctx:t,options:{border:n,grid:i}}=this,r=n.setContext(this.getContext()),s=n.display?r.width:0;if(!s)return;const o=i.setContext(this.getContext(0)).lineWidth,a=this._borderValue;let l,c,d,h;this.isHorizontal()?(l=Iw(e,this.left,s)-s/2,c=Iw(e,this.right,o)+o/2,d=h=a):(d=Iw(e,this.top,s)-s/2,h=Iw(e,this.bottom,o)+o/2,l=c=a),t.save(),t.lineWidth=r.width,t.strokeStyle=r.color,t.beginPath(),t.moveTo(l,d),t.lineTo(c,h),t.stroke(),t.restore()}drawLabels(e){if(!this.options.ticks.display)return;const t=this.ctx,n=this._computeLabelArea();n&&zw(t,n);const i=this.getLabelItems(e);for(const r of i){const e=r.options,n=r.font;Uw(t,r.label,0,r.textOffset,n,e)}n&&Bw(t)}drawTitle(){const{ctx:e,options:{position:t,title:n,reverse:i}}=this;if(!n.display)return;const r=Qw(n.font),s=Jw(n.padding),o=n.align;let a=r.lineHeight/2;"bottom"===t||"center"===t||yj(t)?(a+=s.bottom,xj(n.text)&&(a+=r.lineHeight*(n.text.length-1))):a+=s.top;const{titleX:l,titleY:c,maxWidth:d,rotation:h}=function(e,t,n,i){const{top:r,left:s,bottom:o,right:a,chart:l}=e,{chartArea:c,scales:d}=l;let h,u,p,f=0;const m=o-r,g=a-s;if(e.isHorizontal()){if(u=pw(i,s,a),yj(n)){const e=Object.keys(n)[0],i=n[e];p=d[e].getPixelForValue(i)+m-t}else p="center"===n?(c.bottom+c.top)/2+m-t:t_(e,n,t);h=a-s}else{if(yj(n)){const e=Object.keys(n)[0],i=n[e];u=d[e].getPixelForValue(i)-g+t}else u="center"===n?(c.left+c.right)/2-g+t:t_(e,n,t);p=pw(i,o,r),f="left"===n?-Vj:Vj}return{titleX:u,titleY:p,maxWidth:h,rotation:f}}(this,a,t,o);Uw(e,n.text,0,0,r,{color:n.color,maxWidth:d,rotation:h,textAlign:a_(o,t,i),textBaseline:"middle",translation:[l,c]})}draw(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){const e=this.options,t=e.ticks&&e.ticks.z||0,n=jj(e.grid&&e.grid.z,-1),i=jj(e.border&&e.border.z,0);return this._isVisible()&&this.draw===l_.prototype.draw?[{z:n,draw:e=>{this.drawBackground(),this.drawGrid(e),this.drawTitle()}},{z:i,draw:()=>{this.drawBorder()}},{z:t,draw:e=>{this.drawLabels(e)}}]:[{z:t,draw:e=>{this.draw(e)}}]}getMatchingVisibleMetas(e){const t=this.chart.getSortedVisibleDatasetMetas(),n=this.axis+"AxisID",i=[];let r,s;for(r=0,s=t.length;r<s;++r){const s=t[r];s[n]!==this.id||e&&s.type!==e||i.push(s)}return i}_resolveTickFontOptions(e){return Qw(this.options.ticks.setContext(this.getContext(e)).font)}_maxDigits(){const e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}}class c_{constructor(e,t,n){this.type=e,this.scope=t,this.override=n,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){const t=Object.getPrototypeOf(e);let n;(function(e){return"id"in e&&"defaults"in e})(t)&&(n=this.register(t));const i=this.items,r=e.id,s=this.scope+"."+r;if(!r)throw new Error("class does not have id: "+e);return r in i||(i[r]=e,function(e,t,n){const i=Pj(Object.create(null),[n?Aw.get(n):{},Aw.get(t),e.defaults]);Aw.set(t,i),e.defaultRoutes&&function(e,t){Object.keys(t).forEach((n=>{const i=n.split("."),r=i.pop(),s=[e].concat(i).join("."),o=t[n].split("."),a=o.pop(),l=o.join(".");Aw.route(s,r,l,a)}))}(t,e.defaultRoutes);e.descriptors&&Aw.describe(t,e.descriptors)}(e,s,n),this.override&&Aw.override(e.id,e.overrides)),s}get(e){return this.items[e]}unregister(e){const t=this.items,n=e.id,i=this.scope;n in t&&delete t[n],i&&n in Aw[i]&&(delete Aw[i][n],this.override&&delete kw[n])}}class d_{constructor(){this.controllers=new c_(dC,"datasets",!0),this.elements=new c_(QC,"elements"),this.plugins=new c_(Object,"plugins"),this.scales=new c_(l_,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...e){this._each("register",e)}remove(...e){this._each("unregister",e)}addControllers(...e){this._each("register",e,this.controllers)}addElements(...e){this._each("register",e,this.elements)}addPlugins(...e){this._each("register",e,this.plugins)}addScales(...e){this._each("register",e,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(...e){this._each("unregister",e,this.controllers)}removeElements(...e){this._each("unregister",e,this.elements)}removePlugins(...e){this._each("unregister",e,this.plugins)}removeScales(...e){this._each("unregister",e,this.scales)}_each(e,t,n){[...t].forEach((t=>{const i=n||this._getRegistryForType(t);n||i.isForType(t)||i===this.plugins&&t.id?this._exec(e,i,t):Sj(t,(t=>{const i=n||this._getRegistryForType(t);this._exec(e,i,t)}))}))}_exec(e,t,n){const i=Ij(e);wj(n["before"+i],[],n),t[e](n),wj(n["after"+i],[],n)}_getRegistryForType(e){for(let t=0;t<this._typedRegistries.length;t++){const n=this._typedRegistries[t];if(n.isForType(e))return n}return this.plugins}_get(e,t,n){const i=t.get(e);if(void 0===i)throw new Error('"'+e+'" is not a registered '+n+".");return i}}var h_=new d_;class u_{constructor(){this._init=[]}notify(e,t,n,i){"beforeInit"===t&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install"));const r=i?this._descriptors(e).filter(i):this._descriptors(e),s=this._notify(r,e,t,n);return"afterDestroy"===t&&(this._notify(r,e,"stop"),this._notify(this._init,e,"uninstall")),s}_notify(e,t,n,i){i=i||{};for(const r of e){const e=r.plugin;if(!1===wj(e[n],[t,i,r.options],e)&&i.cancelable)return!1}return!0}invalidate(){gj(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;const t=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),t}_createDescriptors(e,t){const n=e&&e.config,i=jj(n.options&&n.options.plugins,{}),r=function(e){const t={},n=[],i=Object.keys(h_.plugins.items);for(let s=0;s<i.length;s++)n.push(h_.getPlugin(i[s]));const r=e.plugins||[];for(let s=0;s<r.length;s++){const e=r[s];-1===n.indexOf(e)&&(n.push(e),t[e.id]=!0)}return{plugins:n,localIds:t}}(n);return!1!==i||t?function(e,{plugins:t,localIds:n},i,r){const s=[],o=e.getContext();for(const a of t){const t=a.id,l=p_(i[t],r);null!==l&&s.push({plugin:a,options:f_(e.config,{plugin:a,local:n[t]},l,o)})}return s}(e,r,i,t):[]}_notifyStateChanges(e){const t=this._oldCache||[],n=this._cache,i=(e,t)=>e.filter((e=>!t.some((t=>e.plugin.id===t.plugin.id))));this._notify(i(t,n),e,"stop"),this._notify(i(n,t),e,"start")}}function p_(e,t){return t||!1!==e?!0===e?{}:e:null}function f_(e,{plugin:t,local:n},i,r){const s=e.pluginScopeKeys(t),o=e.getOptionScopes(i,s);return n&&t.defaults&&o.push(t.defaults),e.createResolver(o,r,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function m_(e,t){const n=Aw.datasets[e]||{};return((t.datasets||{})[e]||{}).indexAxis||t.indexAxis||n.indexAxis||"x"}function g_(e){if("x"===e||"y"===e||"r"===e)return e}function x_(e,...t){if(g_(e))return e;for(const i of t){const t=i.axis||("top"===(n=i.position)||"bottom"===n?"x":"left"===n||"right"===n?"y":void 0)||e.length>1&&g_(e[0].toLowerCase());if(t)return t}var n;throw new Error(`Cannot determine type of '${e}' axis. Please provide 'axis' or 'position' option.`)}function y_(e,t,n){if(n[t+"AxisID"]===e)return{axis:t}}function v_(e,t){const n=kw[e.type]||{scales:{}},i=t.scales||{},r=m_(e.type,t),s=Object.create(null);return Object.keys(i).forEach((t=>{const o=i[t];if(!yj(o))return console.error(`Invalid scale configuration for scale: ${t}`);if(o._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${t}`);const a=x_(t,o,function(e,t){if(t.data&&t.data.datasets){const n=t.data.datasets.filter((t=>t.xAxisID===e||t.yAxisID===e));if(n.length)return y_(e,"x",n[0])||y_(e,"y",n[0])}return{}}(t,e),Aw.scales[o.type]),l=function(e,t){return e===t?"_index_":"_value_"}(a,r),c=n.scales||{};s[t]=Oj(Object.create(null),[{axis:a},o,c[a],c[l]])})),e.data.datasets.forEach((n=>{const r=n.type||e.type,o=n.indexAxis||m_(r,t),a=(kw[r]||{}).scales||{};Object.keys(a).forEach((e=>{const t=function(e,t){let n=e;return"_index_"===e?n=t:"_value_"===e&&(n="x"===t?"y":"x"),n}(e,o),r=n[t+"AxisID"]||t;s[r]=s[r]||Object.create(null),Oj(s[r],[{axis:t},i[r],a[e]])}))})),Object.keys(s).forEach((e=>{const t=s[e];Oj(t,[Aw.scales[t.type],Aw.scale])})),s}function b_(e){const t=e.options||(e.options={});t.plugins=jj(t.plugins,{}),t.scales=v_(e,t)}function j_(e){return(e=e||{}).datasets=e.datasets||[],e.labels=e.labels||[],e}const w_=new Map,S_=new Set;function C_(e,t){let n=w_.get(e);return n||(n=t(),w_.set(e,n),S_.add(n)),n}const __=(e,t,n)=>{const i=Tj(t,n);void 0!==i&&e.add(i)};class k_{constructor(e){this._config=function(e){return(e=e||{}).data=j_(e.data),b_(e),e}(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=j_(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){const e=this._config;this.clearCache(),b_(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return C_(e,(()=>[[`datasets.${e}`,""]]))}datasetAnimationScopeKeys(e,t){return C_(`${e}.transition.${t}`,(()=>[[`datasets.${e}.transitions.${t}`,`transitions.${t}`],[`datasets.${e}`,""]]))}datasetElementScopeKeys(e,t){return C_(`${e}-${t}`,(()=>[[`datasets.${e}.elements.${t}`,`datasets.${e}`,`elements.${t}`,""]]))}pluginScopeKeys(e){const t=e.id;return C_(`${this.type}-plugin-${t}`,(()=>[[`plugins.${t}`,...e.additionalOptionScopes||[]]]))}_cachedScopes(e,t){const n=this._scopeCache;let i=n.get(e);return i&&!t||(i=new Map,n.set(e,i)),i}getOptionScopes(e,t,n){const{options:i,type:r}=this,s=this._cachedScopes(e,n),o=s.get(t);if(o)return o;const a=new Set;t.forEach((t=>{e&&(a.add(e),t.forEach((t=>__(a,e,t)))),t.forEach((e=>__(a,i,e))),t.forEach((e=>__(a,kw[r]||{},e))),t.forEach((e=>__(a,Aw,e))),t.forEach((e=>__(a,Ew,e)))}));const l=Array.from(a);return 0===l.length&&l.push(Object.create(null)),S_.has(t)&&s.set(t,l),l}chartOptionScopes(){const{options:e,type:t}=this;return[e,kw[t]||{},Aw.datasets[t]||{},{type:t},Aw,Ew]}resolveNamedOptions(e,t,n,i=[""]){const r={$shared:!0},{resolver:s,subPrefixes:o}=E_(this._resolverCache,e,i);let a=s;if(function(e,t){const{isScriptable:n,isIndexable:i}=rS(e);for(const r of t){const t=n(r),s=i(r),o=(s||t)&&e[r];if(t&&(Rj(o)||P_(o))||s&&xj(o))return!0}return!1}(s,t)){r.$shared=!1;a=iS(s,n=Rj(n)?n():n,this.createResolver(e,n,o))}for(const l of t)r[l]=a[l];return r}createResolver(e,t,n=[""],i){const{resolver:r}=E_(this._resolverCache,e,n);return yj(t)?iS(r,t,void 0,i):r}}function E_(e,t,n){let i=e.get(t);i||(i=new Map,e.set(t,i));const r=n.join();let s=i.get(r);if(!s){s={resolver:nS(t,n),subPrefixes:n.filter((e=>!e.toLowerCase().includes("hover")))},i.set(r,s)}return s}const P_=e=>yj(e)&&Object.getOwnPropertyNames(e).some((t=>Rj(e[t])));const O_=["top","bottom","left","right","chartArea"];function M_(e,t){return"top"===e||"bottom"===e||-1===O_.indexOf(e)&&"x"===t}function A_(e,t){return function(n,i){return n[e]===i[e]?n[t]-i[t]:n[e]-i[e]}}function T_(e){const t=e.chart,n=t.options.animation;t.notifyPlugins("afterRender"),wj(n&&n.onComplete,[e],t)}function I_(e){const t=e.chart,n=t.options.animation;wj(n&&n.onProgress,[e],t)}function D_(e){return wS()&&"string"==typeof e?e=document.getElementById(e):e&&e.length&&(e=e[0]),e&&e.canvas&&(e=e.canvas),e}const R_={},F_=e=>{const t=D_(e);return Object.values(R_).filter((e=>e.canvas===t)).pop()};function L_(e,t,n){const i=Object.keys(e);for(const r of i){const i=+r;if(i>=t){const s=e[r];delete e[r],(n>0||i>t)&&(e[i+n]=s)}}}function z_(e,t,n){return e.options.clip?e[n]:t[n]}let B_=(t=class{static register(...e){h_.add(...e),W_()}static unregister(...e){h_.remove(...e),W_()}constructor(e,t){const n=this.config=new k_(t),i=D_(e),r=F_(i);if(r)throw new Error("Canvas is already in use. Chart with ID '"+r.id+"' must be destroyed before the canvas with ID '"+r.canvas.id+"' can be reused.");const s=n.createResolver(n.chartOptionScopes(),this.getContext());this.platform=new(n.platform||function(e){return!wS()||"undefined"!=typeof OffscreenCanvas&&e instanceof OffscreenCanvas?FC:JC}(i)),this.platform.updateConfig(n);const o=this.platform.acquireContext(i,s.aspectRatio),a=o&&o.canvas,l=a&&a.height,c=a&&a.width;this.id=mj(),this.ctx=o,this.canvas=a,this.width=c,this.height=l,this._options=s,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new u_,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=function(e,t){let n;return function(...i){return t?(clearTimeout(n),n=setTimeout(e,t,i)):e.apply(this,i),t}}((e=>this.update(e)),s.resizeDelay||0),this._dataChanges=[],R_[this.id]=this,o&&a?(GS.listen(this,"complete",T_),GS.listen(this,"progress",I_),this._initialize(),this.attached&&this.update()):console.error("Failed to create chart: can't acquire context from the given item")}get aspectRatio(){const{options:{aspectRatio:e,maintainAspectRatio:t},width:n,height:i,_aspectRatio:r}=this;return gj(e)?t&&r?r:i?n/i:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}get registry(){return h_}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():AS(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return Dw(this.canvas,this.ctx),this}stop(){return GS.stop(this),this}resize(e,t){GS.running(this)?this._resizeBeforeDraw={width:e,height:t}:this._resize(e,t)}_resize(e,t){const n=this.options,i=this.canvas,r=n.maintainAspectRatio&&this.aspectRatio,s=this.platform.getMaximumSize(i,e,t,r),o=n.devicePixelRatio||this.platform.getDevicePixelRatio(),a=this.width?"resize":"attach";this.width=s.width,this.height=s.height,this._aspectRatio=this.aspectRatio,AS(this,o,!0)&&(this.notifyPlugins("resize",{size:s}),wj(n.onResize,[this,s],this),this.attached&&this._doResize(a)&&this.render())}ensureScalesHaveIDs(){Sj(this.options.scales||{},((e,t)=>{e.id=t}))}buildOrUpdateScales(){const e=this.options,t=e.scales,n=this.scales,i=Object.keys(n).reduce(((e,t)=>(e[t]=!1,e)),{});let r=[];t&&(r=r.concat(Object.keys(t).map((e=>{const n=t[e],i=x_(e,n),r="r"===i,s="x"===i;return{options:n,dposition:r?"chartArea":s?"bottom":"left",dtype:r?"radialLinear":s?"category":"linear"}})))),Sj(r,(t=>{const r=t.options,s=r.id,o=x_(s,r),a=jj(r.type,t.dtype);void 0!==r.position&&M_(r.position,o)===M_(t.dposition)||(r.position=t.dposition),i[s]=!0;let l=null;if(s in n&&n[s].type===a)l=n[s];else{l=new(h_.getScale(a))({id:s,type:a,ctx:this.ctx,chart:this}),n[l.id]=l}l.init(r,e)})),Sj(i,((e,t)=>{e||delete n[t]})),Sj(n,(e=>{DC.configure(this,e,e.options),DC.addBox(this,e)}))}_updateMetasets(){const e=this._metasets,t=this.data.datasets.length,n=e.length;if(e.sort(((e,t)=>e.index-t.index)),n>t){for(let e=t;e<n;++e)this._destroyDatasetMeta(e);e.splice(t,n-t)}this._sortedMetasets=e.slice(0).sort(A_("order","index"))}_removeUnreferencedMetasets(){const{_metasets:e,data:{datasets:t}}=this;e.length>t.length&&delete this._stacks,e.forEach(((e,n)=>{0===t.filter((t=>t===e._dataset)).length&&this._destroyDatasetMeta(n)}))}buildOrUpdateControllers(){const e=[],t=this.data.datasets;let n,i;for(this._removeUnreferencedMetasets(),n=0,i=t.length;n<i;n++){const i=t[n];let r=this.getDatasetMeta(n);const s=i.type||this.config.type;if(r.type&&r.type!==s&&(this._destroyDatasetMeta(n),r=this.getDatasetMeta(n)),r.type=s,r.indexAxis=i.indexAxis||m_(s,this.options),r.order=i.order||0,r.index=n,r.label=""+i.label,r.visible=this.isDatasetVisible(n),r.controller)r.controller.updateIndex(n),r.controller.linkScales();else{const t=h_.getController(s),{datasetElementType:i,dataElementType:o}=Aw.datasets[s];Object.assign(t,{dataElementType:h_.getElement(o),datasetElementType:i&&h_.getElement(i)}),r.controller=new t(this,n),e.push(r.controller)}}return this._updateMetasets(),e}_resetElements(){Sj(this.data.datasets,((e,t)=>{this.getDatasetMeta(t).controller.reset()}),this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){const t=this.config;t.update();const n=this._options=t.createResolver(t.chartOptionScopes(),this.getContext()),i=this._animationsDisabled=!n.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),!1===this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0}))return;const r=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let s=0;for(let l=0,c=this.data.datasets.length;l<c;l++){const{controller:e}=this.getDatasetMeta(l),t=!i&&-1===r.indexOf(e);e.buildOrUpdateElements(t),s=Math.max(+e.getMaxOverflow(),s)}s=this._minPadding=n.layout.autoPadding?s:0,this._updateLayout(s),i||Sj(r,(e=>{e.reset()})),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(A_("z","_idx"));const{_active:o,_lastEvent:a}=this;a?this._eventHandler(a,!0):o.length&&this._updateHoverStyles(o,o,!0),this.render()}_updateScales(){Sj(this.scales,(e=>{DC.removeBox(this,e)})),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const e=this.options,t=new Set(Object.keys(this._listeners)),n=new Set(e.events);Fj(t,n)&&!!this._responsiveListeners===e.responsive||(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:e}=this,t=this._getUniformDataChanges()||[];for(const{method:n,start:i,count:r}of t){L_(e,i,"_removeElements"===n?-r:r)}}_getUniformDataChanges(){const e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];const t=this.data.datasets.length,n=t=>new Set(e.filter((e=>e[0]===t)).map(((e,t)=>t+","+e.splice(1).join(",")))),i=n(0);for(let r=1;r<t;r++)if(!Fj(i,n(r)))return;return Array.from(i).map((e=>e.split(","))).map((e=>({method:e[1],start:+e[2],count:+e[3]})))}_updateLayout(e){if(!1===this.notifyPlugins("beforeLayout",{cancelable:!0}))return;DC.update(this,this.width,this.height,e);const t=this.chartArea,n=t.width<=0||t.height<=0;this._layers=[],Sj(this.boxes,(e=>{n&&"chartArea"===e.position||(e.configure&&e.configure(),this._layers.push(...e._layers()))}),this),this._layers.forEach(((e,t)=>{e._idx=t})),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(!1!==this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})){for(let e=0,t=this.data.datasets.length;e<t;++e)this.getDatasetMeta(e).controller.configure();for(let t=0,n=this.data.datasets.length;t<n;++t)this._updateDataset(t,Rj(e)?e({datasetIndex:t}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,t){const n=this.getDatasetMeta(e),i={meta:n,index:e,mode:t,cancelable:!0};!1!==this.notifyPlugins("beforeDatasetUpdate",i)&&(n.controller._update(t),i.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",i))}render(){!1!==this.notifyPlugins("beforeRender",{cancelable:!0})&&(GS.has(this)?this.attached&&!GS.running(this)&&GS.start(this):(this.draw(),T_({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){const{width:e,height:t}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(e,t)}if(this.clear(),this.width<=0||this.height<=0)return;if(!1===this.notifyPlugins("beforeDraw",{cancelable:!0}))return;const t=this._layers;for(e=0;e<t.length&&t[e].z<=0;++e)t[e].draw(this.chartArea);for(this._drawDatasets();e<t.length;++e)t[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){const t=this._sortedMetasets,n=[];let i,r;for(i=0,r=t.length;i<r;++i){const r=t[i];e&&!r.visible||n.push(r)}return n}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(!1===this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0}))return;const e=this.getSortedVisibleDatasetMetas();for(let t=e.length-1;t>=0;--t)this._drawDataset(e[t]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){const t=this.ctx,n=e._clip,i=!n.disabled,r=function(e,t){const{xScale:n,yScale:i}=e;return n&&i?{left:z_(n,t,"left"),right:z_(n,t,"right"),top:z_(i,t,"top"),bottom:z_(i,t,"bottom")}:t}(e,this.chartArea),s={meta:e,index:e.index,cancelable:!0};!1!==this.notifyPlugins("beforeDatasetDraw",s)&&(i&&zw(t,{left:!1===n.left?0:r.left-n.left,right:!1===n.right?this.width:r.right+n.right,top:!1===n.top?0:r.top-n.top,bottom:!1===n.bottom?this.height:r.bottom+n.bottom}),e.controller.draw(),i&&Bw(t),s.cancelable=!1,this.notifyPlugins("afterDatasetDraw",s))}isPointInArea(e){return Lw(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,t,n,i){const r=jC.modes[t];return"function"==typeof r?r(this,e,n,i):[]}getDatasetMeta(e){const t=this.data.datasets[e],n=this._metasets;let i=n.filter((e=>e&&e._dataset===t)).pop();return i||(i={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:t&&t.order||0,index:e,_dataset:t,_parsed:[],_sorted:!1},n.push(i)),i}getContext(){return this.$context||(this.$context=tS(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){const t=this.data.datasets[e];if(!t)return!1;const n=this.getDatasetMeta(e);return"boolean"==typeof n.hidden?!n.hidden:!t.hidden}setDatasetVisibility(e,t){this.getDatasetMeta(e).hidden=!t}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,t,n){const i=n?"show":"hide",r=this.getDatasetMeta(e),s=r.controller._resolveAnimations(void 0,i);Dj(t)?(r.data[t].hidden=!n,this.update()):(this.setDatasetVisibility(e,n),s.update(r,{visible:n}),this.update((t=>t.datasetIndex===e?i:void 0)))}hide(e,t){this._updateVisibility(e,t,!1)}show(e,t){this._updateVisibility(e,t,!0)}_destroyDatasetMeta(e){const t=this._metasets[e];t&&t.controller&&t.controller._destroy(),delete this._metasets[e]}_stop(){let e,t;for(this.stop(),GS.remove(this),e=0,t=this.data.datasets.length;e<t;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:e,ctx:t}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),Dw(e,t),this.platform.releaseContext(t),this.canvas=null,this.ctx=null),delete R_[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...e){return this.canvas.toDataURL(...e)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const e=this._listeners,t=this.platform,n=(n,i)=>{t.addEventListener(this,n,i),e[n]=i},i=(e,t,n)=>{e.offsetX=t,e.offsetY=n,this._eventHandler(e)};Sj(this.options.events,(e=>n(e,i)))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const e=this._responsiveListeners,t=this.platform,n=(n,i)=>{t.addEventListener(this,n,i),e[n]=i},i=(n,i)=>{e[n]&&(t.removeEventListener(this,n,i),delete e[n])},r=(e,t)=>{this.canvas&&this.resize(e,t)};let s;const o=()=>{i("attach",o),this.attached=!0,this.resize(),n("resize",r),n("detach",s)};s=()=>{this.attached=!1,i("resize",r),this._stop(),this._resize(0,0),n("attach",o)},t.isAttached(this.canvas)?o():s()}unbindEvents(){Sj(this._listeners,((e,t)=>{this.platform.removeEventListener(this,t,e)})),this._listeners={},Sj(this._responsiveListeners,((e,t)=>{this.platform.removeEventListener(this,t,e)})),this._responsiveListeners=void 0}updateHoverStyle(e,t,n){const i=n?"set":"remove";let r,s,o,a;for("dataset"===t&&(r=this.getDatasetMeta(e[0].datasetIndex),r.controller["_"+i+"DatasetHoverStyle"]()),o=0,a=e.length;o<a;++o){s=e[o];const t=s&&this.getDatasetMeta(s.datasetIndex).controller;t&&t[i+"HoverStyle"](s.element,s.datasetIndex,s.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){const t=this._active||[],n=e.map((({datasetIndex:e,index:t})=>{const n=this.getDatasetMeta(e);if(!n)throw new Error("No dataset found at index "+e);return{datasetIndex:e,element:n.data[t],index:t}}));!Cj(n,t)&&(this._active=n,this._lastEvent=null,this._updateHoverStyles(n,t))}notifyPlugins(e,t,n){return this._plugins.notify(this,e,t,n)}isPluginEnabled(e){return 1===this._plugins._cache.filter((t=>t.plugin.id===e)).length}_updateHoverStyles(e,t,n){const i=this.options.hover,r=(e,t)=>e.filter((e=>!t.some((t=>e.datasetIndex===t.datasetIndex&&e.index===t.index)))),s=r(t,e),o=n?e:r(e,t);s.length&&this.updateHoverStyle(s,i.mode,!1),o.length&&i.mode&&this.updateHoverStyle(o,i.mode,!0)}_eventHandler(e,t){const n={event:e,replay:t,cancelable:!0,inChartArea:this.isPointInArea(e)},i=t=>(t.options.events||this.options.events).includes(e.native.type);if(!1===this.notifyPlugins("beforeEvent",n,i))return;const r=this._handleEvent(e,t,n.inChartArea);return n.cancelable=!1,this.notifyPlugins("afterEvent",n,i),(r||n.changed)&&this.render(),this}_handleEvent(e,t,n){const{_active:i=[],options:r}=this,s=t,o=this._getActiveElements(e,i,n,s),a=function(e){return"mouseup"===e.type||"click"===e.type||"contextmenu"===e.type}(e),l=function(e,t,n,i){return n&&"mouseout"!==e.type?i?t:e:null}(e,this._lastEvent,n,a);n&&(this._lastEvent=null,wj(r.onHover,[e,o,this],this),a&&wj(r.onClick,[e,o,this],this));const c=!Cj(o,i);return(c||t)&&(this._active=o,this._updateHoverStyles(o,i,t)),this._lastEvent=l,c}_getActiveElements(e,t,n,i){if("mouseout"===e.type)return[];if(!n)return t;const r=this.options.hover;return this.getElementsAtEventForMode(e,r.mode,r,i)}},i(t,"defaults",Aw),i(t,"instances",R_),i(t,"overrides",kw),i(t,"registry",h_),i(t,"version","4.4.8"),i(t,"getChart",F_),t);function W_(){return Sj(B_.instances,(e=>e._plugins.invalidate()))}function N_(e,t,n,i){const r=Xw(e.options.borderRadius,["outerStart","outerEnd","innerStart","innerEnd"]);const s=(n-t)/2,o=Math.min(s,i*t/2),a=e=>{const t=(n-Math.min(s,e))*i/2;return iw(e,0,Math.min(s,t))};return{outerStart:a(r.outerStart),outerEnd:a(r.outerEnd),innerStart:iw(r.innerStart,0,o),innerEnd:iw(r.innerEnd,0,o)}}function V_(e,t,n,i){return{x:n+e*Math.cos(t),y:i+e*Math.sin(t)}}function $_(e,t,n,i,r,s){const{x:o,y:a,startAngle:l,pixelMargin:c,innerRadius:d}=t,h=Math.max(t.outerRadius+i+n-c,0),u=d>0?d+i+n+c:0;let p=0;const f=r-l;if(i){const e=((d>0?d-i:0)+(h>0?h-i:0))/2;p=(f-(0!==e?f*e/(e+i):f))/2}const m=(f-Math.max(.001,f*h-n/Lj)/h)/2,g=l+m+p,x=r-m-p,{outerStart:y,outerEnd:v,innerStart:b,innerEnd:j}=N_(t,u,h,x-g),w=h-y,S=h-v,C=g+y/w,_=x-v/S,k=u+b,E=u+j,P=g+b/k,O=x-j/E;if(e.beginPath(),s){const t=(C+_)/2;if(e.arc(o,a,h,C,t),e.arc(o,a,h,t,_),v>0){const t=V_(S,_,o,a);e.arc(t.x,t.y,v,_,x+Vj)}const n=V_(E,x,o,a);if(e.lineTo(n.x,n.y),j>0){const t=V_(E,O,o,a);e.arc(t.x,t.y,j,x+Vj,O+Math.PI)}const i=(x-j/u+(g+b/u))/2;if(e.arc(o,a,u,x-j/u,i,!0),e.arc(o,a,u,i,g+b/u,!0),b>0){const t=V_(k,P,o,a);e.arc(t.x,t.y,b,P+Math.PI,g-Vj)}const r=V_(w,g,o,a);if(e.lineTo(r.x,r.y),y>0){const t=V_(w,C,o,a);e.arc(t.x,t.y,y,g-Vj,C)}}else{e.moveTo(o,a);const t=Math.cos(C)*h+o,n=Math.sin(C)*h+a;e.lineTo(t,n);const i=Math.cos(_)*h+o,r=Math.sin(_)*h+a;e.lineTo(i,r)}e.closePath()}function U_(e,t,n,i,r){const{fullCircles:s,startAngle:o,circumference:a,options:l}=t,{borderWidth:c,borderJoinStyle:d,borderDash:h,borderDashOffset:u}=l,p="inner"===l.borderAlign;if(!c)return;e.setLineDash(h||[]),e.lineDashOffset=u,p?(e.lineWidth=2*c,e.lineJoin=d||"round"):(e.lineWidth=c,e.lineJoin=d||"bevel");let f=t.endAngle;if(s){$_(e,t,n,i,f,r);for(let t=0;t<s;++t)e.stroke();isNaN(a)||(f=o+(a%zj||zj))}p&&function(e,t,n){const{startAngle:i,pixelMargin:r,x:s,y:o,outerRadius:a,innerRadius:l}=t;let c=r/a;e.beginPath(),e.arc(s,o,a,i-c,n+c),l>r?(c=r/l,e.arc(s,o,l,n+c,i-c,!0)):e.arc(s,o,r,n+Vj,i-Vj),e.closePath(),e.clip()}(e,t,f),s||($_(e,t,n,i,f,r),e.stroke())}class H_ extends QC{constructor(e){super(),i(this,"circumference"),i(this,"endAngle"),i(this,"fullCircles"),i(this,"innerRadius"),i(this,"outerRadius"),i(this,"pixelMargin"),i(this,"startAngle"),this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,e&&Object.assign(this,e)}inRange(e,t,n){const i=this.getProps(["x","y"],n),{angle:r,distance:s}=Qj(i,{x:e,y:t}),{startAngle:o,endAngle:a,innerRadius:l,outerRadius:c,circumference:d}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],n),h=(this.options.spacing+this.options.borderWidth)/2,u=jj(d,a-o),p=nw(r,o,a)&&o!==a,f=u>=zj||p,m=rw(s,l+h,c+h);return f&&m}getCenterPoint(e){const{x:t,y:n,startAngle:i,endAngle:r,innerRadius:s,outerRadius:o}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],e),{offset:a,spacing:l}=this.options,c=(i+r)/2,d=(s+o+l+a)/2;return{x:t+Math.cos(c)*d,y:n+Math.sin(c)*d}}tooltipPosition(e){return this.getCenterPoint(e)}draw(e){const{options:t,circumference:n}=this,i=(t.offset||0)/4,r=(t.spacing||0)/2,s=t.circular;if(this.pixelMargin="inner"===t.borderAlign?.33:0,this.fullCircles=n>zj?Math.floor(n/zj):0,0===n||this.innerRadius<0||this.outerRadius<0)return;e.save();const o=(this.startAngle+this.endAngle)/2;e.translate(Math.cos(o)*i,Math.sin(o)*i);const a=i*(1-Math.sin(Math.min(Lj,n||0)));e.fillStyle=t.backgroundColor,e.strokeStyle=t.borderColor,function(e,t,n,i,r){const{fullCircles:s,startAngle:o,circumference:a}=t;let l=t.endAngle;if(s){$_(e,t,n,i,l,r);for(let t=0;t<s;++t)e.fill();isNaN(a)||(l=o+(a%zj||zj))}$_(e,t,n,i,l,r),e.fill()}(e,this,a,r,s),U_(e,this,a,r,s),e.restore()}}function q_(e,t,n=t){e.lineCap=jj(n.borderCapStyle,t.borderCapStyle),e.setLineDash(jj(n.borderDash,t.borderDash)),e.lineDashOffset=jj(n.borderDashOffset,t.borderDashOffset),e.lineJoin=jj(n.borderJoinStyle,t.borderJoinStyle),e.lineWidth=jj(n.borderWidth,t.borderWidth),e.strokeStyle=jj(n.borderColor,t.borderColor)}function Y_(e,t,n){e.lineTo(n.x,n.y)}function G_(e,t,n={}){const i=e.length,{start:r=0,end:s=i-1}=n,{start:o,end:a}=t,l=Math.max(r,o),c=Math.min(s,a),d=r<o&&s<o||r>a&&s>a;return{count:i,start:l,loop:t.loop,ilen:c<l&&!d?i+c-l:c-l}}function X_(e,t,n,i){const{points:r,options:s}=t,{count:o,start:a,loop:l,ilen:c}=G_(r,n,i),d=function(e){return e.stepped?Ww:e.tension||"monotone"===e.cubicInterpolationMode?Nw:Y_}(s);let h,u,p,{move:f=!0,reverse:m}=i||{};for(h=0;h<=c;++h)u=r[(a+(m?c-h:h))%o],u.skip||(f?(e.moveTo(u.x,u.y),f=!1):d(e,p,u,m,s.stepped),p=u);return l&&(u=r[(a+(m?c:0))%o],d(e,p,u,m,s.stepped)),!!l}function K_(e,t,n,i){const r=t.points,{count:s,start:o,ilen:a}=G_(r,n,i),{move:l=!0,reverse:c}=i||{};let d,h,u,p,f,m,g=0,x=0;const y=e=>(o+(c?a-e:e))%s,v=()=>{p!==f&&(e.lineTo(g,f),e.lineTo(g,p),e.lineTo(g,m))};for(l&&(h=r[y(0)],e.moveTo(h.x,h.y)),d=0;d<=a;++d){if(h=r[y(d)],h.skip)continue;const t=h.x,n=h.y,i=0|t;i===u?(n<p?p=n:n>f&&(f=n),g=(x*g+t)/++x):(v(),e.lineTo(t,n),u=i,x=0,p=f=n),m=n}v()}function J_(e){const t=e.options,n=t.borderDash&&t.borderDash.length;return!(e._decimated||e._loop||t.tension||"monotone"===t.cubicInterpolationMode||t.stepped||n)?K_:X_}i(H_,"id","arc"),i(H_,"defaults",{borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0}),i(H_,"defaultRoutes",{backgroundColor:"backgroundColor"}),i(H_,"descriptors",{_scriptable:!0,_indexable:e=>"borderDash"!==e});const Q_="function"==typeof Path2D;function Z_(e,t,n,i){Q_&&!t.options.segment?function(e,t,n,i){let r=t._path;r||(r=t._path=new Path2D,t.path(r,n,i)&&r.closePath()),q_(e,t.options),e.stroke(r)}(e,t,n,i):function(e,t,n,i){const{segments:r,options:s}=t,o=J_(t);for(const a of r)q_(e,s,a.style),e.beginPath(),o(e,t,a,{start:n,end:n+i-1})&&e.closePath(),e.stroke()}(e,t,n,i)}class ek extends QC{constructor(e){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,e&&Object.assign(this,e)}updateControlPoints(e,t){const n=this.options;if((n.tension||"monotone"===n.cubicInterpolationMode)&&!n.stepped&&!this._pointsUpdated){const i=n.spanGaps?this._loop:this._fullLoop;jS(this._points,n,e,i,t),this._pointsUpdated=!0}}set points(e){this._points=e,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=function(e,t){const n=e.points,i=e.options.spanGaps,r=n.length;if(!r)return[];const s=!!e._loop,{start:o,end:a}=function(e,t,n,i){let r=0,s=t-1;if(n&&!i)for(;r<t&&!e[r].skip;)r++;for(;r<t&&e[r].skip;)r++;for(r%=t,n&&(s+=r);s>r&&e[s%t].skip;)s--;return s%=t,{start:r,end:s}}(n,r,s,i);return US(e,!0===i?[{start:o,end:a,loop:s}]:function(e,t,n,i){const r=e.length,s=[];let o,a=t,l=e[t];for(o=t+1;o<=n;++o){const n=e[o%r];n.skip||n.stop?l.skip||(i=!1,s.push({start:t%r,end:(o-1)%r,loop:i}),t=a=n.stop?o:null):(a=o,l.skip&&(t=o)),l=n}return null!==a&&s.push({start:t%r,end:a%r,loop:i}),s}(n,o,a<o?a+r:a,!!e._fullLoop&&0===o&&a===r-1),n,t)}(this,this.options.segment))}first(){const e=this.segments,t=this.points;return e.length&&t[e[0].start]}last(){const e=this.segments,t=this.points,n=e.length;return n&&t[e[n-1].end]}interpolate(e,t){const n=this.options,i=e[t],r=this.points,s=$S(this,{property:t,start:i,end:i});if(!s.length)return;const o=[],a=function(e){return e.stepped?RS:e.tension||"monotone"===e.cubicInterpolationMode?FS:DS}(n);let l,c;for(l=0,c=s.length;l<c;++l){const{start:c,end:d}=s[l],h=r[c],u=r[d];if(h===u){o.push(h);continue}const p=a(h,u,Math.abs((i-h[t])/(u[t]-h[t])),n.stepped);p[t]=e[t],o.push(p)}return 1===o.length?o[0]:o}pathSegment(e,t,n){return J_(this)(e,this,t,n)}path(e,t,n){const i=this.segments,r=J_(this);let s=this._loop;t=t||0,n=n||this.points.length-t;for(const o of i)s&=r(e,this,o,{start:t,end:t+n-1});return!!s}draw(e,t,n,i){const r=this.options||{};(this.points||[]).length&&r.borderWidth&&(e.save(),Z_(e,this,n,i),e.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}function tk(e,t,n,i){const r=e.options,{[n]:s}=e.getProps([n],i);return Math.abs(t-s)<r.radius+r.hitRadius}i(ek,"id","line"),i(ek,"defaults",{borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0}),i(ek,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"}),i(ek,"descriptors",{_scriptable:!0,_indexable:e=>"borderDash"!==e&&"fill"!==e});class nk extends QC{constructor(e){super(),i(this,"parsed"),i(this,"skip"),i(this,"stop"),this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,e&&Object.assign(this,e)}inRange(e,t,n){const i=this.options,{x:r,y:s}=this.getProps(["x","y"],n);return Math.pow(e-r,2)+Math.pow(t-s,2)<Math.pow(i.hitRadius+i.radius,2)}inXRange(e,t){return tk(this,e,"x",t)}inYRange(e,t){return tk(this,e,"y",t)}getCenterPoint(e){const{x:t,y:n}=this.getProps(["x","y"],e);return{x:t,y:n}}size(e){let t=(e=e||this.options||{}).radius||0;t=Math.max(t,t&&e.hoverRadius||0);return 2*(t+(t&&e.borderWidth||0))}draw(e,t){const n=this.options;this.skip||n.radius<.1||!Lw(this,t,this.size(n)/2)||(e.strokeStyle=n.borderColor,e.lineWidth=n.borderWidth,e.fillStyle=n.backgroundColor,Rw(e,n,this.x,this.y))}getRange(){const e=this.options||{};return e.radius+e.hitRadius}}function ik(e,t,n,i){if(i)return;let r=t[e],s=n[e];return"angle"===e&&(r=tw(r),s=tw(s)),{property:e,start:r,end:s}}function rk(e,t,n){for(;t>e;t--){const e=n[t];if(!isNaN(e.x)&&!isNaN(e.y))break}return t}function sk(e,t,n,i){return e&&t?i(e[n],t[n]):e?e[n]:t?t[n]:0}function ok(e,t){let n=[],i=!1;return xj(e)?(i=!0,n=e):n=function(e,t){const{x:n=null,y:i=null}=e||{},r=t.points,s=[];return t.segments.forEach((({start:e,end:t})=>{t=rk(e,t,r);const o=r[e],a=r[t];null!==i?(s.push({x:o.x,y:i}),s.push({x:a.x,y:i})):null!==n&&(s.push({x:n,y:o.y}),s.push({x:n,y:a.y}))})),s}(e,t),n.length?new ek({points:n,options:{tension:0},_loop:i,_fullLoop:i}):null}function ak(e){return e&&!1!==e.fill}function lk(e,t,n){let i=e[t].fill;const r=[t];let s;if(!n)return i;for(;!1!==i&&-1===r.indexOf(i);){if(!vj(i))return i;if(s=e[i],!s)return!1;if(s.visible)return i;r.push(i),i=s.fill}return!1}function ck(e,t,n){const i=function(e){const t=e.options,n=t.fill;let i=jj(n&&n.target,n);void 0===i&&(i=!!t.backgroundColor);if(!1===i||null===i)return!1;if(!0===i)return"origin";return i}(e);if(yj(i))return!isNaN(i.value)&&i;let r=parseFloat(i);return vj(r)&&Math.floor(r)===r?function(e,t,n,i){"-"!==e&&"+"!==e||(n=t+n);if(n===t||n<0||n>=i)return!1;return n}(i[0],t,r,n):["origin","start","end","stack","shape"].indexOf(i)>=0&&i}function dk(e,t,n){const i=[];for(let r=0;r<n.length;r++){const s=n[r],{first:o,last:a,point:l}=hk(s,t,"x");if(!(!l||o&&a))if(o)i.unshift(l);else if(e.push(l),!a)break}e.push(...i)}function hk(e,t,n){const i=e.interpolate(t,n);if(!i)return{};const r=i[n],s=e.segments,o=e.points;let a=!1,l=!1;for(let c=0;c<s.length;c++){const e=s[c],t=o[e.start][n],i=o[e.end][n];if(rw(r,t,i)){a=r===t,l=r===i;break}}return{first:a,last:l,point:i}}i(nk,"id","point"),i(nk,"defaults",{borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0}),i(nk,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});class uk{constructor(e){this.x=e.x,this.y=e.y,this.radius=e.radius}pathSegment(e,t,n){const{x:i,y:r,radius:s}=this;return t=t||{start:0,end:zj},e.arc(i,r,s,t.end,t.start,!0),!n.bounds}interpolate(e){const{x:t,y:n,radius:i}=this,r=e.angle;return{x:t+Math.cos(r)*i,y:n+Math.sin(r)*i,angle:r}}}function pk(e){const{chart:t,fill:n,line:i}=e;if(vj(n))return function(e,t){const n=e.getDatasetMeta(t),i=n&&e.isDatasetVisible(t);return i?n.dataset:null}(t,n);if("stack"===n)return function(e){const{scale:t,index:n,line:i}=e,r=[],s=i.segments,o=i.points,a=function(e,t){const n=[],i=e.getMatchingVisibleMetas("line");for(let r=0;r<i.length;r++){const e=i[r];if(e.index===t)break;e.hidden||n.unshift(e.dataset)}return n}(t,n);a.push(ok({x:null,y:t.bottom},i));for(let l=0;l<s.length;l++){const e=s[l];for(let t=e.start;t<=e.end;t++)dk(r,o[t],a)}return new ek({points:r,options:{}})}(e);if("shape"===n)return!0;const r=function(e){const t=e.scale||{};if(t.getPointPositionForValue)return function(e){const{scale:t,fill:n}=e,i=t.options,r=t.getLabels().length,s=i.reverse?t.max:t.min,o=function(e,t,n){let i;return i="start"===e?n:"end"===e?t.options.reverse?t.min:t.max:yj(e)?e.value:t.getBaseValue(),i}(n,t,s),a=[];if(i.grid.circular){const e=t.getPointPositionForValue(0,s);return new uk({x:e.x,y:e.y,radius:t.getDistanceFromCenterForValue(o)})}for(let l=0;l<r;++l)a.push(t.getPointPositionForValue(l,o));return a}(e);return function(e){const{scale:t={},fill:n}=e,i=function(e,t){let n=null;return"start"===e?n=t.bottom:"end"===e?n=t.top:yj(e)?n=t.getPixelForValue(e.value):t.getBasePixel&&(n=t.getBasePixel()),n}(n,t);if(vj(i)){const e=t.isHorizontal();return{x:e?i:null,y:e?null:i}}return null}(e)}(e);return r instanceof uk?r:ok(r,i)}function fk(e,t,n){const i=pk(t),{line:r,scale:s,axis:o}=t,a=r.options,l=a.fill,c=a.backgroundColor,{above:d=c,below:h=c}=l||{};i&&r.points.length&&(zw(e,n),function(e,t){const{line:n,target:i,above:r,below:s,area:o,scale:a}=t,l=n._loop?"angle":t.axis;e.save(),"x"===l&&s!==r&&(mk(e,i,o.top),gk(e,{line:n,target:i,color:r,scale:a,property:l}),e.restore(),e.save(),mk(e,i,o.bottom));gk(e,{line:n,target:i,color:s,scale:a,property:l}),e.restore()}(e,{line:r,target:i,above:d,below:h,area:n,scale:s,axis:o}),Bw(e))}function mk(e,t,n){const{segments:i,points:r}=t;let s=!0,o=!1;e.beginPath();for(const a of i){const{start:i,end:l}=a,c=r[i],d=r[rk(i,l,r)];s?(e.moveTo(c.x,c.y),s=!1):(e.lineTo(c.x,n),e.lineTo(c.x,c.y)),o=!!t.pathSegment(e,a,{move:o}),o?e.closePath():e.lineTo(d.x,n)}e.lineTo(t.first().x,n),e.closePath(),e.clip()}function gk(e,t){const{line:n,target:i,property:r,color:s,scale:o}=t,a=function(e,t,n){const i=e.segments,r=e.points,s=t.points,o=[];for(const a of i){let{start:e,end:i}=a;i=rk(e,i,r);const l=ik(n,r[e],r[i],a.loop);if(!t.segments){o.push({source:a,target:l,start:r[e],end:r[i]});continue}const c=$S(t,l);for(const t of c){const e=ik(n,s[t.start],s[t.end],t.loop),i=VS(a,r,e);for(const r of i)o.push({source:r,target:t,start:{[n]:sk(l,e,"start",Math.max)},end:{[n]:sk(l,e,"end",Math.min)}})}}return o}(n,i,r);for(const{source:l,target:c,start:d,end:h}of a){const{style:{backgroundColor:t=s}={}}=l,a=!0!==i;e.save(),e.fillStyle=t,xk(e,o,a&&ik(r,d,h)),e.beginPath();const u=!!n.pathSegment(e,l);let p;if(a){u?e.closePath():yk(e,i,h,r);const t=!!i.pathSegment(e,c,{move:u,reverse:!0});p=u&&t,p||yk(e,i,d,r)}e.closePath(),e.fill(p?"evenodd":"nonzero"),e.restore()}}function xk(e,t,n){const{top:i,bottom:r}=t.chart.chartArea,{property:s,start:o,end:a}=n||{};"x"===s&&(e.beginPath(),e.rect(o,i,a-o,r-i),e.clip())}function yk(e,t,n,i){const r=t.interpolate(n,i);r&&e.lineTo(r.x,r.y)}var vk={id:"filler",afterDatasetsUpdate(e,t,n){const i=(e.data.datasets||[]).length,r=[];let s,o,a,l;for(o=0;o<i;++o)s=e.getDatasetMeta(o),a=s.dataset,l=null,a&&a.options&&a instanceof ek&&(l={visible:e.isDatasetVisible(o),index:o,fill:ck(a,o,i),chart:e,axis:s.controller.options.indexAxis,scale:s.vScale,line:a}),s.$filler=l,r.push(l);for(o=0;o<i;++o)l=r[o],l&&!1!==l.fill&&(l.fill=lk(r,o,n.propagate))},beforeDraw(e,t,n){const i="beforeDraw"===n.drawTime,r=e.getSortedVisibleDatasetMetas(),s=e.chartArea;for(let o=r.length-1;o>=0;--o){const t=r[o].$filler;t&&(t.line.updateControlPoints(s,t.axis),i&&t.fill&&fk(e.ctx,t,s))}},beforeDatasetsDraw(e,t,n){if("beforeDatasetsDraw"!==n.drawTime)return;const i=e.getSortedVisibleDatasetMetas();for(let r=i.length-1;r>=0;--r){const t=i[r].$filler;ak(t)&&fk(e.ctx,t,e.chartArea)}},beforeDatasetDraw(e,t,n){const i=t.meta.$filler;ak(i)&&"beforeDatasetDraw"===n.drawTime&&fk(e.ctx,i,e.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const bk=(e,t)=>{let{boxHeight:n=t,boxWidth:i=t}=e;return e.usePointStyle&&(n=Math.min(n,t),i=e.pointStyleWidth||Math.min(i,t)),{boxWidth:i,boxHeight:n,itemHeight:Math.max(t,n)}};class jk extends QC{constructor(e){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,t,n){this.maxWidth=e,this.maxHeight=t,this._margins=n,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const e=this.options.labels||{};let t=wj(e.generateLabels,[this.chart],this)||[];e.filter&&(t=t.filter((t=>e.filter(t,this.chart.data)))),e.sort&&(t=t.sort(((t,n)=>e.sort(t,n,this.chart.data)))),this.options.reverse&&t.reverse(),this.legendItems=t}fit(){const{options:e,ctx:t}=this;if(!e.display)return void(this.width=this.height=0);const n=e.labels,i=Qw(n.font),r=i.size,s=this._computeTitleHeight(),{boxWidth:o,itemHeight:a}=bk(n,r);let l,c;t.font=i.string,this.isHorizontal()?(l=this.maxWidth,c=this._fitRows(s,r,o,a)+10):(c=this.maxHeight,l=this._fitCols(s,i,o,a)+10),this.width=Math.min(l,e.maxWidth||this.maxWidth),this.height=Math.min(c,e.maxHeight||this.maxHeight)}_fitRows(e,t,n,i){const{ctx:r,maxWidth:s,options:{labels:{padding:o}}}=this,a=this.legendHitBoxes=[],l=this.lineWidths=[0],c=i+o;let d=e;r.textAlign="left",r.textBaseline="middle";let h=-1,u=-c;return this.legendItems.forEach(((e,p)=>{const f=n+t/2+r.measureText(e.text).width;(0===p||l[l.length-1]+f+2*o>s)&&(d+=c,l[l.length-(p>0?0:1)]=0,u+=c,h++),a[p]={left:0,top:u,row:h,width:f,height:i},l[l.length-1]+=f+o})),d}_fitCols(e,t,n,i){const{ctx:r,maxHeight:s,options:{labels:{padding:o}}}=this,a=this.legendHitBoxes=[],l=this.columnSizes=[],c=s-e;let d=o,h=0,u=0,p=0,f=0;return this.legendItems.forEach(((e,s)=>{const{itemWidth:m,itemHeight:g}=function(e,t,n,i,r){const s=function(e,t,n,i){let r=e.text;r&&"string"!=typeof r&&(r=r.reduce(((e,t)=>e.length>t.length?e:t)));return t+n.size/2+i.measureText(r).width}(i,e,t,n),o=function(e,t,n){let i=e;"string"!=typeof t.text&&(i=wk(t,n));return i}(r,i,t.lineHeight);return{itemWidth:s,itemHeight:o}}(n,t,r,e,i);s>0&&u+g+2*o>c&&(d+=h+o,l.push({width:h,height:u}),p+=h+o,f++,h=u=0),a[s]={left:p,top:u,col:f,width:m,height:g},h=Math.max(h,m),u+=g+o})),d+=h,l.push({width:h,height:u}),d}adjustHitBoxes(){if(!this.options.display)return;const e=this._computeTitleHeight(),{legendHitBoxes:t,options:{align:n,labels:{padding:i},rtl:r}}=this,s=LS(r,this.left,this.width);if(this.isHorizontal()){let r=0,o=pw(n,this.left+i,this.right-this.lineWidths[r]);for(const a of t)r!==a.row&&(r=a.row,o=pw(n,this.left+i,this.right-this.lineWidths[r])),a.top+=this.top+e+i,a.left=s.leftForLtr(s.x(o),a.width),o+=a.width+i}else{let r=0,o=pw(n,this.top+e+i,this.bottom-this.columnSizes[r].height);for(const a of t)a.col!==r&&(r=a.col,o=pw(n,this.top+e+i,this.bottom-this.columnSizes[r].height)),a.top=o,a.left+=this.left+i,a.left=s.leftForLtr(s.x(a.left),a.width),o+=a.height+i}}isHorizontal(){return"top"===this.options.position||"bottom"===this.options.position}draw(){if(this.options.display){const e=this.ctx;zw(e,this),this._draw(),Bw(e)}}_draw(){const{options:e,columnSizes:t,lineWidths:n,ctx:i}=this,{align:r,labels:s}=e,o=Aw.color,a=LS(e.rtl,this.left,this.width),l=Qw(s.font),{padding:c}=s,d=l.size,h=d/2;let u;this.drawTitle(),i.textAlign=a.textAlign("left"),i.textBaseline="middle",i.lineWidth=.5,i.font=l.string;const{boxWidth:p,boxHeight:f,itemHeight:m}=bk(s,d),g=this.isHorizontal(),x=this._computeTitleHeight();u=g?{x:pw(r,this.left+c,this.right-n[0]),y:this.top+c+x,line:0}:{x:this.left+c,y:pw(r,this.top+x+c,this.bottom-t[0].height),line:0},zS(this.ctx,e.textDirection);const y=m+c;this.legendItems.forEach(((v,b)=>{i.strokeStyle=v.fontColor,i.fillStyle=v.fontColor;const j=i.measureText(v.text).width,w=a.textAlign(v.textAlign||(v.textAlign=s.textAlign)),S=p+h+j;let C=u.x,_=u.y;a.setWidth(this.width),g?b>0&&C+S+c>this.right&&(_=u.y+=y,u.line++,C=u.x=pw(r,this.left+c,this.right-n[u.line])):b>0&&_+y>this.bottom&&(C=u.x=C+t[u.line].width+c,u.line++,_=u.y=pw(r,this.top+x+c,this.bottom-t[u.line].height));if(function(e,t,n){if(isNaN(p)||p<=0||isNaN(f)||f<0)return;i.save();const r=jj(n.lineWidth,1);if(i.fillStyle=jj(n.fillStyle,o),i.lineCap=jj(n.lineCap,"butt"),i.lineDashOffset=jj(n.lineDashOffset,0),i.lineJoin=jj(n.lineJoin,"miter"),i.lineWidth=r,i.strokeStyle=jj(n.strokeStyle,o),i.setLineDash(jj(n.lineDash,[])),s.usePointStyle){const o={radius:f*Math.SQRT2/2,pointStyle:n.pointStyle,rotation:n.rotation,borderWidth:r},l=a.xPlus(e,p/2);Fw(i,o,l,t+h,s.pointStyleWidth&&p)}else{const s=t+Math.max((d-f)/2,0),o=a.leftForLtr(e,p),l=Kw(n.borderRadius);i.beginPath(),Object.values(l).some((e=>0!==e))?Hw(i,{x:o,y:s,w:p,h:f,radius:l}):i.rect(o,s,p,f),i.fill(),0!==r&&i.stroke()}i.restore()}(a.x(C),_,v),C=((e,t,n,i)=>e===(i?"left":"right")?n:"center"===e?(t+n)/2:t)(w,C+p+h,g?C+S:this.right,e.rtl),function(e,t,n){Uw(i,n.text,e,t+m/2,l,{strikethrough:n.hidden,textAlign:a.textAlign(n.textAlign)})}(a.x(C),_,v),g)u.x+=S+c;else if("string"!=typeof v.text){const e=l.lineHeight;u.y+=wk(v,e)+c}else u.y+=y})),BS(this.ctx,e.textDirection)}drawTitle(){const e=this.options,t=e.title,n=Qw(t.font),i=Jw(t.padding);if(!t.display)return;const r=LS(e.rtl,this.left,this.width),s=this.ctx,o=t.position,a=n.size/2,l=i.top+a;let c,d=this.left,h=this.width;if(this.isHorizontal())h=Math.max(...this.lineWidths),c=this.top+l,d=pw(e.align,d,this.right-h);else{const t=this.columnSizes.reduce(((e,t)=>Math.max(e,t.height)),0);c=l+pw(e.align,this.top,this.bottom-t-e.labels.padding-this._computeTitleHeight())}const u=pw(o,d,d+h);s.textAlign=r.textAlign(uw(o)),s.textBaseline="middle",s.strokeStyle=t.color,s.fillStyle=t.color,s.font=n.string,Uw(s,t.text,u,c,n)}_computeTitleHeight(){const e=this.options.title,t=Qw(e.font),n=Jw(e.padding);return e.display?t.lineHeight+n.height:0}_getLegendItemAt(e,t){let n,i,r;if(rw(e,this.left,this.right)&&rw(t,this.top,this.bottom))for(r=this.legendHitBoxes,n=0;n<r.length;++n)if(i=r[n],rw(e,i.left,i.left+i.width)&&rw(t,i.top,i.top+i.height))return this.legendItems[n];return null}handleEvent(e){const t=this.options;if(!function(e,t){if(("mousemove"===e||"mouseout"===e)&&(t.onHover||t.onLeave))return!0;if(t.onClick&&("click"===e||"mouseup"===e))return!0;return!1}(e.type,t))return;const n=this._getLegendItemAt(e.x,e.y);if("mousemove"===e.type||"mouseout"===e.type){const s=this._hoveredItem,o=(r=n,null!==(i=s)&&null!==r&&i.datasetIndex===r.datasetIndex&&i.index===r.index);s&&!o&&wj(t.onLeave,[e,s,this],this),this._hoveredItem=n,n&&!o&&wj(t.onHover,[e,n,this],this)}else n&&wj(t.onClick,[e,n,this],this);var i,r}}function wk(e,t){return t*(e.text?e.text.length:0)}var Sk={id:"legend",_element:jk,start(e,t,n){const i=e.legend=new jk({ctx:e.ctx,options:n,chart:e});DC.configure(e,i,n),DC.addBox(e,i)},stop(e){DC.removeBox(e,e.legend),delete e.legend},beforeUpdate(e,t,n){const i=e.legend;DC.configure(e,i,n),i.options=n},afterUpdate(e){const t=e.legend;t.buildLabels(),t.adjustHitBoxes()},afterEvent(e,t){t.replay||e.legend.handleEvent(t.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(e,t,n){const i=t.datasetIndex,r=n.chart;r.isDatasetVisible(i)?(r.hide(i),t.hidden=!0):(r.show(i),t.hidden=!1)},onHover:null,onLeave:null,labels:{color:e=>e.chart.options.color,boxWidth:40,padding:10,generateLabels(e){const t=e.data.datasets,{labels:{usePointStyle:n,pointStyle:i,textAlign:r,color:s,useBorderRadius:o,borderRadius:a}}=e.legend.options;return e._getSortedDatasetMetas().map((e=>{const l=e.controller.getStyle(n?0:void 0),c=Jw(l.borderWidth);return{text:t[e.index].label,fillStyle:l.backgroundColor,fontColor:s,hidden:!e.visible,lineCap:l.borderCapStyle,lineDash:l.borderDash,lineDashOffset:l.borderDashOffset,lineJoin:l.borderJoinStyle,lineWidth:(c.width+c.height)/4,strokeStyle:l.borderColor,pointStyle:i||l.pointStyle,rotation:l.rotation,textAlign:r||l.textAlign,borderRadius:o&&(a||l.borderRadius),datasetIndex:e.index}}),this)}},title:{color:e=>e.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:e=>!e.startsWith("on"),labels:{_scriptable:e=>!["generateLabels","filter","sort"].includes(e)}}};class Ck extends QC{constructor(e){super(),this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,t){const n=this.options;if(this.left=0,this.top=0,!n.display)return void(this.width=this.height=this.right=this.bottom=0);this.width=this.right=e,this.height=this.bottom=t;const i=xj(n.text)?n.text.length:1;this._padding=Jw(n.padding);const r=i*Qw(n.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=r:this.width=r}isHorizontal(){const e=this.options.position;return"top"===e||"bottom"===e}_drawArgs(e){const{top:t,left:n,bottom:i,right:r,options:s}=this,o=s.align;let a,l,c,d=0;return this.isHorizontal()?(l=pw(o,n,r),c=t+e,a=r-n):("left"===s.position?(l=n+e,c=pw(o,i,t),d=-.5*Lj):(l=r-e,c=pw(o,t,i),d=.5*Lj),a=i-t),{titleX:l,titleY:c,maxWidth:a,rotation:d}}draw(){const e=this.ctx,t=this.options;if(!t.display)return;const n=Qw(t.font),i=n.lineHeight/2+this._padding.top,{titleX:r,titleY:s,maxWidth:o,rotation:a}=this._drawArgs(i);Uw(e,t.text,0,0,n,{color:t.color,maxWidth:o,rotation:a,textAlign:uw(t.align),textBaseline:"middle",translation:[r,s]})}}var _k={id:"title",_element:Ck,start(e,t,n){!function(e,t){const n=new Ck({ctx:e.ctx,options:t,chart:e});DC.configure(e,n,t),DC.addBox(e,n),e.titleBlock=n}(e,n)},stop(e){const t=e.titleBlock;DC.removeBox(e,t),delete e.titleBlock},beforeUpdate(e,t,n){const i=e.titleBlock;DC.configure(e,i,n),i.options=n},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const kk={average(e){if(!e.length)return!1;let t,n,i=new Set,r=0,s=0;for(t=0,n=e.length;t<n;++t){const n=e[t].element;if(n&&n.hasValue()){const e=n.tooltipPosition();i.add(e.x),r+=e.y,++s}}if(0===s||0===i.size)return!1;return{x:[...i].reduce(((e,t)=>e+t))/i.size,y:r/s}},nearest(e,t){if(!e.length)return!1;let n,i,r,s=t.x,o=t.y,a=Number.POSITIVE_INFINITY;for(n=0,i=e.length;n<i;++n){const i=e[n].element;if(i&&i.hasValue()){const e=Zj(t,i.getCenterPoint());e<a&&(a=e,r=i)}}if(r){const e=r.tooltipPosition();s=e.x,o=e.y}return{x:s,y:o}}};function Ek(e,t){return t&&(xj(t)?Array.prototype.push.apply(e,t):e.push(t)),e}function Pk(e){return("string"==typeof e||e instanceof String)&&e.indexOf("\n")>-1?e.split("\n"):e}function Ok(e,t){const{element:n,datasetIndex:i,index:r}=t,s=e.getDatasetMeta(i).controller,{label:o,value:a}=s.getLabelAndValue(r);return{chart:e,label:o,parsed:s.getParsed(r),raw:e.data.datasets[i].data[r],formattedValue:a,dataset:s.getDataset(),dataIndex:r,datasetIndex:i,element:n}}function Mk(e,t){const n=e.chart.ctx,{body:i,footer:r,title:s}=e,{boxWidth:o,boxHeight:a}=t,l=Qw(t.bodyFont),c=Qw(t.titleFont),d=Qw(t.footerFont),h=s.length,u=r.length,p=i.length,f=Jw(t.padding);let m=f.height,g=0,x=i.reduce(((e,t)=>e+t.before.length+t.lines.length+t.after.length),0);if(x+=e.beforeBody.length+e.afterBody.length,h&&(m+=h*c.lineHeight+(h-1)*t.titleSpacing+t.titleMarginBottom),x){m+=p*(t.displayColors?Math.max(a,l.lineHeight):l.lineHeight)+(x-p)*l.lineHeight+(x-1)*t.bodySpacing}u&&(m+=t.footerMarginTop+u*d.lineHeight+(u-1)*t.footerSpacing);let y=0;const v=function(e){g=Math.max(g,n.measureText(e).width+y)};return n.save(),n.font=c.string,Sj(e.title,v),n.font=l.string,Sj(e.beforeBody.concat(e.afterBody),v),y=t.displayColors?o+2+t.boxPadding:0,Sj(i,(e=>{Sj(e.before,v),Sj(e.lines,v),Sj(e.after,v)})),y=0,n.font=d.string,Sj(e.footer,v),n.restore(),g+=f.width,{width:g,height:m}}function Ak(e,t,n,i){const{x:r,width:s}=n,{width:o,chartArea:{left:a,right:l}}=e;let c="center";return"center"===i?c=r<=(a+l)/2?"left":"right":r<=s/2?c="left":r>=o-s/2&&(c="right"),function(e,t,n,i){const{x:r,width:s}=i,o=n.caretSize+n.caretPadding;return"left"===e&&r+s+o>t.width||"right"===e&&r-s-o<0||void 0}(c,e,t,n)&&(c="center"),c}function Tk(e,t,n){const i=n.yAlign||t.yAlign||function(e,t){const{y:n,height:i}=t;return n<i/2?"top":n>e.height-i/2?"bottom":"center"}(e,n);return{xAlign:n.xAlign||t.xAlign||Ak(e,t,n,i),yAlign:i}}function Ik(e,t,n,i){const{caretSize:r,caretPadding:s,cornerRadius:o}=e,{xAlign:a,yAlign:l}=n,c=r+s,{topLeft:d,topRight:h,bottomLeft:u,bottomRight:p}=Kw(o);let f=function(e,t){let{x:n,width:i}=e;return"right"===t?n-=i:"center"===t&&(n-=i/2),n}(t,a);const m=function(e,t,n){let{y:i,height:r}=e;return"top"===t?i+=n:i-="bottom"===t?r+n:r/2,i}(t,l,c);return"center"===l?"left"===a?f+=c:"right"===a&&(f-=c):"left"===a?f-=Math.max(d,u)+r:"right"===a&&(f+=Math.max(h,p)+r),{x:iw(f,0,i.width-t.width),y:iw(m,0,i.height-t.height)}}function Dk(e,t,n){const i=Jw(n.padding);return"center"===t?e.x+e.width/2:"right"===t?e.x+e.width-i.right:e.x+i.left}function Rk(e){return Ek([],Pk(e))}function Fk(e,t){const n=t&&t.dataset&&t.dataset.tooltip&&t.dataset.tooltip.callbacks;return n?e.override(n):e}const Lk={beforeTitle:fj,title(e){if(e.length>0){const t=e[0],n=t.chart.data.labels,i=n?n.length:0;if(this&&this.options&&"dataset"===this.options.mode)return t.dataset.label||"";if(t.label)return t.label;if(i>0&&t.dataIndex<i)return n[t.dataIndex]}return""},afterTitle:fj,beforeBody:fj,beforeLabel:fj,label(e){if(this&&this.options&&"dataset"===this.options.mode)return e.label+": "+e.formattedValue||e.formattedValue;let t=e.dataset.label||"";t&&(t+=": ");const n=e.formattedValue;return gj(n)||(t+=n),t},labelColor(e){const t=e.chart.getDatasetMeta(e.datasetIndex).controller.getStyle(e.dataIndex);return{borderColor:t.borderColor,backgroundColor:t.backgroundColor,borderWidth:t.borderWidth,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(e){const t=e.chart.getDatasetMeta(e.datasetIndex).controller.getStyle(e.dataIndex);return{pointStyle:t.pointStyle,rotation:t.rotation}},afterLabel:fj,afterBody:fj,beforeFooter:fj,footer:fj,afterFooter:fj};function zk(e,t,n,i){const r=e[t].call(n,i);return void 0===r?Lk[t].call(n,i):r}class Bk extends QC{constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const e=this._cachedAnimations;if(e)return e;const t=this.chart,n=this.options.setContext(this.getContext()),i=n.enabled&&t.options.animation&&n.animations,r=new QS(this.chart,i);return i._cacheable&&(this._cachedAnimations=Object.freeze(r)),r}getContext(){return this.$context||(this.$context=(e=this.chart.getContext(),t=this,n=this._tooltipItems,tS(e,{tooltip:t,tooltipItems:n,type:"tooltip"})));var e,t,n}getTitle(e,t){const{callbacks:n}=t,i=zk(n,"beforeTitle",this,e),r=zk(n,"title",this,e),s=zk(n,"afterTitle",this,e);let o=[];return o=Ek(o,Pk(i)),o=Ek(o,Pk(r)),o=Ek(o,Pk(s)),o}getBeforeBody(e,t){return Rk(zk(t.callbacks,"beforeBody",this,e))}getBody(e,t){const{callbacks:n}=t,i=[];return Sj(e,(e=>{const t={before:[],lines:[],after:[]},r=Fk(n,e);Ek(t.before,Pk(zk(r,"beforeLabel",this,e))),Ek(t.lines,zk(r,"label",this,e)),Ek(t.after,Pk(zk(r,"afterLabel",this,e))),i.push(t)})),i}getAfterBody(e,t){return Rk(zk(t.callbacks,"afterBody",this,e))}getFooter(e,t){const{callbacks:n}=t,i=zk(n,"beforeFooter",this,e),r=zk(n,"footer",this,e),s=zk(n,"afterFooter",this,e);let o=[];return o=Ek(o,Pk(i)),o=Ek(o,Pk(r)),o=Ek(o,Pk(s)),o}_createItems(e){const t=this._active,n=this.chart.data,i=[],r=[],s=[];let o,a,l=[];for(o=0,a=t.length;o<a;++o)l.push(Ok(this.chart,t[o]));return e.filter&&(l=l.filter(((t,i,r)=>e.filter(t,i,r,n)))),e.itemSort&&(l=l.sort(((t,i)=>e.itemSort(t,i,n)))),Sj(l,(t=>{const n=Fk(e.callbacks,t);i.push(zk(n,"labelColor",this,t)),r.push(zk(n,"labelPointStyle",this,t)),s.push(zk(n,"labelTextColor",this,t))})),this.labelColors=i,this.labelPointStyles=r,this.labelTextColors=s,this.dataPoints=l,l}update(e,t){const n=this.options.setContext(this.getContext()),i=this._active;let r,s=[];if(i.length){const e=kk[n.position].call(this,i,this._eventPosition);s=this._createItems(n),this.title=this.getTitle(s,n),this.beforeBody=this.getBeforeBody(s,n),this.body=this.getBody(s,n),this.afterBody=this.getAfterBody(s,n),this.footer=this.getFooter(s,n);const t=this._size=Mk(this,n),o=Object.assign({},e,t),a=Tk(this.chart,n,o),l=Ik(n,o,a,this.chart);this.xAlign=a.xAlign,this.yAlign=a.yAlign,r={opacity:1,x:l.x,y:l.y,width:t.width,height:t.height,caretX:e.x,caretY:e.y}}else 0!==this.opacity&&(r={opacity:0});this._tooltipItems=s,this.$context=void 0,r&&this._resolveAnimations().update(this,r),e&&n.external&&n.external.call(this,{chart:this.chart,tooltip:this,replay:t})}drawCaret(e,t,n,i){const r=this.getCaretPosition(e,n,i);t.lineTo(r.x1,r.y1),t.lineTo(r.x2,r.y2),t.lineTo(r.x3,r.y3)}getCaretPosition(e,t,n){const{xAlign:i,yAlign:r}=this,{caretSize:s,cornerRadius:o}=n,{topLeft:a,topRight:l,bottomLeft:c,bottomRight:d}=Kw(o),{x:h,y:u}=e,{width:p,height:f}=t;let m,g,x,y,v,b;return"center"===r?(v=u+f/2,"left"===i?(m=h,g=m-s,y=v+s,b=v-s):(m=h+p,g=m+s,y=v-s,b=v+s),x=m):(g="left"===i?h+Math.max(a,c)+s:"right"===i?h+p-Math.max(l,d)-s:this.caretX,"top"===r?(y=u,v=y-s,m=g-s,x=g+s):(y=u+f,v=y+s,m=g+s,x=g-s),b=y),{x1:m,x2:g,x3:x,y1:y,y2:v,y3:b}}drawTitle(e,t,n){const i=this.title,r=i.length;let s,o,a;if(r){const l=LS(n.rtl,this.x,this.width);for(e.x=Dk(this,n.titleAlign,n),t.textAlign=l.textAlign(n.titleAlign),t.textBaseline="middle",s=Qw(n.titleFont),o=n.titleSpacing,t.fillStyle=n.titleColor,t.font=s.string,a=0;a<r;++a)t.fillText(i[a],l.x(e.x),e.y+s.lineHeight/2),e.y+=s.lineHeight+o,a+1===r&&(e.y+=n.titleMarginBottom-o)}}_drawColorBox(e,t,n,i,r){const s=this.labelColors[n],o=this.labelPointStyles[n],{boxHeight:a,boxWidth:l}=r,c=Qw(r.bodyFont),d=Dk(this,"left",r),h=i.x(d),u=a<c.lineHeight?(c.lineHeight-a)/2:0,p=t.y+u;if(r.usePointStyle){const t={radius:Math.min(l,a)/2,pointStyle:o.pointStyle,rotation:o.rotation,borderWidth:1},n=i.leftForLtr(h,l)+l/2,c=p+a/2;e.strokeStyle=r.multiKeyBackground,e.fillStyle=r.multiKeyBackground,Rw(e,t,n,c),e.strokeStyle=s.borderColor,e.fillStyle=s.backgroundColor,Rw(e,t,n,c)}else{e.lineWidth=yj(s.borderWidth)?Math.max(...Object.values(s.borderWidth)):s.borderWidth||1,e.strokeStyle=s.borderColor,e.setLineDash(s.borderDash||[]),e.lineDashOffset=s.borderDashOffset||0;const t=i.leftForLtr(h,l),n=i.leftForLtr(i.xPlus(h,1),l-2),o=Kw(s.borderRadius);Object.values(o).some((e=>0!==e))?(e.beginPath(),e.fillStyle=r.multiKeyBackground,Hw(e,{x:t,y:p,w:l,h:a,radius:o}),e.fill(),e.stroke(),e.fillStyle=s.backgroundColor,e.beginPath(),Hw(e,{x:n,y:p+1,w:l-2,h:a-2,radius:o}),e.fill()):(e.fillStyle=r.multiKeyBackground,e.fillRect(t,p,l,a),e.strokeRect(t,p,l,a),e.fillStyle=s.backgroundColor,e.fillRect(n,p+1,l-2,a-2))}e.fillStyle=this.labelTextColors[n]}drawBody(e,t,n){const{body:i}=this,{bodySpacing:r,bodyAlign:s,displayColors:o,boxHeight:a,boxWidth:l,boxPadding:c}=n,d=Qw(n.bodyFont);let h=d.lineHeight,u=0;const p=LS(n.rtl,this.x,this.width),f=function(n){t.fillText(n,p.x(e.x+u),e.y+h/2),e.y+=h+r},m=p.textAlign(s);let g,x,y,v,b,j,w;for(t.textAlign=s,t.textBaseline="middle",t.font=d.string,e.x=Dk(this,m,n),t.fillStyle=n.bodyColor,Sj(this.beforeBody,f),u=o&&"right"!==m?"center"===s?l/2+c:l+2+c:0,v=0,j=i.length;v<j;++v){for(g=i[v],x=this.labelTextColors[v],t.fillStyle=x,Sj(g.before,f),y=g.lines,o&&y.length&&(this._drawColorBox(t,e,v,p,n),h=Math.max(d.lineHeight,a)),b=0,w=y.length;b<w;++b)f(y[b]),h=d.lineHeight;Sj(g.after,f)}u=0,h=d.lineHeight,Sj(this.afterBody,f),e.y-=r}drawFooter(e,t,n){const i=this.footer,r=i.length;let s,o;if(r){const a=LS(n.rtl,this.x,this.width);for(e.x=Dk(this,n.footerAlign,n),e.y+=n.footerMarginTop,t.textAlign=a.textAlign(n.footerAlign),t.textBaseline="middle",s=Qw(n.footerFont),t.fillStyle=n.footerColor,t.font=s.string,o=0;o<r;++o)t.fillText(i[o],a.x(e.x),e.y+s.lineHeight/2),e.y+=s.lineHeight+n.footerSpacing}}drawBackground(e,t,n,i){const{xAlign:r,yAlign:s}=this,{x:o,y:a}=e,{width:l,height:c}=n,{topLeft:d,topRight:h,bottomLeft:u,bottomRight:p}=Kw(i.cornerRadius);t.fillStyle=i.backgroundColor,t.strokeStyle=i.borderColor,t.lineWidth=i.borderWidth,t.beginPath(),t.moveTo(o+d,a),"top"===s&&this.drawCaret(e,t,n,i),t.lineTo(o+l-h,a),t.quadraticCurveTo(o+l,a,o+l,a+h),"center"===s&&"right"===r&&this.drawCaret(e,t,n,i),t.lineTo(o+l,a+c-p),t.quadraticCurveTo(o+l,a+c,o+l-p,a+c),"bottom"===s&&this.drawCaret(e,t,n,i),t.lineTo(o+u,a+c),t.quadraticCurveTo(o,a+c,o,a+c-u),"center"===s&&"left"===r&&this.drawCaret(e,t,n,i),t.lineTo(o,a+d),t.quadraticCurveTo(o,a,o+d,a),t.closePath(),t.fill(),i.borderWidth>0&&t.stroke()}_updateAnimationTarget(e){const t=this.chart,n=this.$animations,i=n&&n.x,r=n&&n.y;if(i||r){const n=kk[e.position].call(this,this._active,this._eventPosition);if(!n)return;const s=this._size=Mk(this,e),o=Object.assign({},n,this._size),a=Tk(t,e,o),l=Ik(e,o,a,t);i._to===l.x&&r._to===l.y||(this.xAlign=a.xAlign,this.yAlign=a.yAlign,this.width=s.width,this.height=s.height,this.caretX=n.x,this.caretY=n.y,this._resolveAnimations().update(this,l))}}_willRender(){return!!this.opacity}draw(e){const t=this.options.setContext(this.getContext());let n=this.opacity;if(!n)return;this._updateAnimationTarget(t);const i={width:this.width,height:this.height},r={x:this.x,y:this.y};n=Math.abs(n)<.001?0:n;const s=Jw(t.padding),o=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;t.enabled&&o&&(e.save(),e.globalAlpha=n,this.drawBackground(r,e,i,t),zS(e,t.textDirection),r.y+=s.top,this.drawTitle(r,e,t),this.drawBody(r,e,t),this.drawFooter(r,e,t),BS(e,t.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,t){const n=this._active,i=e.map((({datasetIndex:e,index:t})=>{const n=this.chart.getDatasetMeta(e);if(!n)throw new Error("Cannot find a dataset at index "+e);return{datasetIndex:e,element:n.data[t],index:t}})),r=!Cj(n,i),s=this._positionChanged(i,t);(r||s)&&(this._active=i,this._eventPosition=t,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,t,n=!0){if(t&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const i=this.options,r=this._active||[],s=this._getActiveElements(e,r,t,n),o=this._positionChanged(s,e),a=t||!Cj(s,r)||o;return a&&(this._active=s,(i.enabled||i.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,t))),a}_getActiveElements(e,t,n,i){const r=this.options;if("mouseout"===e.type)return[];if(!i)return t.filter((e=>this.chart.data.datasets[e.datasetIndex]&&void 0!==this.chart.getDatasetMeta(e.datasetIndex).controller.getParsed(e.index)));const s=this.chart.getElementsAtEventForMode(e,r.mode,r,n);return r.reverse&&s.reverse(),s}_positionChanged(e,t){const{caretX:n,caretY:i,options:r}=this,s=kk[r.position].call(this,e,t);return!1!==s&&(n!==s.x||i!==s.y)}}i(Bk,"positioners",kk);var Wk={id:"tooltip",_element:Bk,positioners:kk,afterInit(e,t,n){n&&(e.tooltip=new Bk({chart:e,options:n}))},beforeUpdate(e,t,n){e.tooltip&&e.tooltip.initialize(n)},reset(e,t,n){e.tooltip&&e.tooltip.initialize(n)},afterDraw(e){const t=e.tooltip;if(t&&t._willRender()){const n={tooltip:t};if(!1===e.notifyPlugins("beforeTooltipDraw",{...n,cancelable:!0}))return;t.draw(e.ctx),e.notifyPlugins("afterTooltipDraw",n)}},afterEvent(e,t){if(e.tooltip){const n=t.replay;e.tooltip.handleEvent(t.event,n,t.inChartArea)&&(t.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(e,t)=>t.bodyFont.size,boxWidth:(e,t)=>t.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:Lk},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:e=>"filter"!==e&&"itemSort"!==e&&"external"!==e,_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};function Nk(e,t,n,i){const r=e.indexOf(t);if(-1===r)return((e,t,n,i)=>("string"==typeof t?(n=e.push(t)-1,i.unshift({index:n,label:t})):isNaN(t)&&(n=null),n))(e,t,n,i);return r!==e.lastIndexOf(t)?n:r}function Vk(e){const t=this.getLabels();return e>=0&&e<t.length?t[e]:e}class $k extends l_{constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){const t=this._addedLabels;if(t.length){const e=this.getLabels();for(const{index:n,label:i}of t)e[n]===i&&e.splice(n,1);this._addedLabels=[]}super.init(e)}parse(e,t){if(gj(e))return null;const n=this.getLabels();return((e,t)=>null===e?null:iw(Math.round(e),0,t))(t=isFinite(t)&&n[t]===e?t:Nk(n,e,jj(t,e),this._addedLabels),n.length-1)}determineDataLimits(){const{minDefined:e,maxDefined:t}=this.getUserBounds();let{min:n,max:i}=this.getMinMax(!0);"ticks"===this.options.bounds&&(e||(n=0),t||(i=this.getLabels().length-1)),this.min=n,this.max=i}buildTicks(){const e=this.min,t=this.max,n=this.options.offset,i=[];let r=this.getLabels();r=0===e&&t===r.length-1?r:r.slice(e,t+1),this._valueRange=Math.max(r.length-(n?0:1),1),this._startValue=this.min-(n?.5:0);for(let s=e;s<=t;s++)i.push({value:s});return i}getLabelForValue(e){return Vk.call(this,e)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return"number"!=typeof e&&(e=this.parse(e)),null===e?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){const t=this.ticks;return e<0||e>t.length-1?null:this.getPixelForValue(t[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}}function Uk(e,t){const n=[],{bounds:i,step:r,min:s,max:o,precision:a,count:l,maxTicks:c,maxDigits:d,includeBounds:h}=e,u=r||1,p=c-1,{min:f,max:m}=t,g=!gj(s),x=!gj(o),y=!gj(l),v=(m-f)/(d+1);let b,j,w,S,C=Gj((m-f)/p/u)*u;if(C<1e-14&&!g&&!x)return[{value:f},{value:m}];S=Math.ceil(m/C)-Math.floor(f/C),S>p&&(C=Gj(S*C/p/u)*u),gj(a)||(b=Math.pow(10,a),C=Math.ceil(C*b)/b),"ticks"===i?(j=Math.floor(f/C)*C,w=Math.ceil(m/C)*C):(j=f,w=m),g&&x&&r&&function(e,t){const n=Math.round(e);return n-t<=e&&n+t>=e}((o-s)/r,C/1e3)?(S=Math.round(Math.min((o-s)/C,c)),C=(o-s)/S,j=s,w=o):y?(j=g?s:j,w=x?o:w,S=l-1,C=(w-j)/S):(S=(w-j)/C,S=Yj(S,Math.round(S),C/1e3)?Math.round(S):Math.ceil(S));const _=Math.max(Jj(C),Jj(j));b=Math.pow(10,gj(a)?_:a),j=Math.round(j*b)/b,w=Math.round(w*b)/b;let k=0;for(g&&(h&&j!==s?(n.push({value:s}),j<s&&k++,Yj(Math.round((j+k*C)*b)/b,s,Hk(s,v,e))&&k++):j<s&&k++);k<S;++k){const e=Math.round((j+k*C)*b)/b;if(x&&e>o)break;n.push({value:e})}return x&&h&&w!==o?n.length&&Yj(n[n.length-1].value,o,Hk(o,v,e))?n[n.length-1].value=o:n.push({value:o}):x&&w!==o||n.push({value:w}),n}function Hk(e,t,{horizontal:n,minRotation:i}){const r=Kj(i),s=(n?Math.sin(r):Math.cos(r))||.001,o=.75*t*(""+e).length;return Math.min(t/s,o)}i($k,"id","category"),i($k,"defaults",{ticks:{callback:Vk}});class qk extends l_{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,t){return gj(e)||("number"==typeof e||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){const{beginAtZero:e}=this.options,{minDefined:t,maxDefined:n}=this.getUserBounds();let{min:i,max:r}=this;const s=e=>i=t?i:e,o=e=>r=n?r:e;if(e){const e=qj(i),t=qj(r);e<0&&t<0?o(0):e>0&&t>0&&s(0)}if(i===r){let t=0===r?1:Math.abs(.05*r);o(r+t),e||s(i-t)}this.min=i,this.max=r}getTickLimit(){const e=this.options.ticks;let t,{maxTicksLimit:n,stepSize:i}=e;return i?(t=Math.ceil(this.max/i)-Math.floor(this.min/i)+1,t>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${i} would result generating up to ${t} ticks. Limiting to 1000.`),t=1e3)):(t=this.computeTickLimit(),n=n||11),n&&(t=Math.min(n,t)),t}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const e=this.options,t=e.ticks;let n=this.getTickLimit();n=Math.max(2,n);const i=Uk({maxTicks:n,bounds:e.bounds,min:e.min,max:e.max,precision:t.precision,step:t.stepSize,count:t.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:t.minRotation||0,includeBounds:!1!==t.includeBounds},this._range||this);return"ticks"===e.bounds&&function(e,t,n){let i,r,s;for(i=0,r=e.length;i<r;i++)s=e[i][n],isNaN(s)||(t.min=Math.min(t.min,s),t.max=Math.max(t.max,s))}(i,this,"value"),e.reverse?(i.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),i}configure(){const e=this.ticks;let t=this.min,n=this.max;if(super.configure(),this.options.offset&&e.length){const i=(n-t)/Math.max(e.length-1,1)/2;t-=i,n+=i}this._startValue=t,this._endValue=n,this._valueRange=n-t}getLabelForValue(e){return Cw(e,this.chart.options.locale,this.options.ticks.format)}}class Yk extends qk{determineDataLimits(){const{min:e,max:t}=this.getMinMax(!0);this.min=vj(e)?e:0,this.max=vj(t)?t:1,this.handleTickRangeOptions()}computeTickLimit(){const e=this.isHorizontal(),t=e?this.width:this.height,n=Kj(this.options.ticks.minRotation),i=(e?Math.sin(n):Math.cos(n))||.001,r=this._resolveTickFontOptions(0);return Math.ceil(t/Math.min(40,r.lineHeight/i))}getPixelForValue(e){return null===e?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}}i(Yk,"id","linear"),i(Yk,"defaults",{ticks:{callback:_w.formatters.numeric}});const Gk={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},Xk=Object.keys(Gk);function Kk(e,t){return e-t}function Jk(e,t){if(gj(t))return null;const n=e._adapter,{parser:i,round:r,isoWeekday:s}=e._parseOpts;let o=t;return"function"==typeof i&&(o=i(o)),vj(o)||(o="string"==typeof i?n.parse(o,i):n.parse(o)),null===o?null:(r&&(o="week"!==r||!Xj(s)&&!0!==s?n.startOf(o,r):n.startOf(o,"isoWeek",s)),+o)}function Qk(e,t,n,i){const r=Xk.length;for(let s=Xk.indexOf(e);s<r-1;++s){const e=Gk[Xk[s]],r=e.steps?e.steps:Number.MAX_SAFE_INTEGER;if(e.common&&Math.ceil((n-t)/(r*e.size))<=i)return Xk[s]}return Xk[r-1]}function Zk(e,t,n){if(n){if(n.length){const{lo:i,hi:r}=sw(n,t);e[n[i]>=t?n[i]:n[r]]=!0}}else e[t]=!0}function eE(e,t,n){const i=[],r={},s=t.length;let o,a;for(o=0;o<s;++o)a=t[o],r[a]=o,i.push({value:a,major:!1});return 0!==s&&n?function(e,t,n,i){const r=e._adapter,s=+r.startOf(t[0].value,i),o=t[t.length-1].value;let a,l;for(a=s;a<=o;a=+r.add(a,1,i))l=n[a],l>=0&&(t[l].major=!0);return t}(e,i,r,n):i}class tE extends l_{constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e,t={}){const n=e.time||(e.time={}),i=this._adapter=new fC(e.adapters.date);i.init(t),Oj(n.displayFormats,i.formats()),this._parseOpts={parser:n.parser,round:n.round,isoWeekday:n.isoWeekday},super.init(e),this._normalized=t.normalized}parse(e,t){return void 0===e?null:Jk(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const e=this.options,t=this._adapter,n=e.time.unit||"day";let{min:i,max:r,minDefined:s,maxDefined:o}=this.getUserBounds();function a(e){s||isNaN(e.min)||(i=Math.min(i,e.min)),o||isNaN(e.max)||(r=Math.max(r,e.max))}s&&o||(a(this._getLabelBounds()),"ticks"===e.bounds&&"labels"===e.ticks.source||a(this.getMinMax(!1))),i=vj(i)&&!isNaN(i)?i:+t.startOf(Date.now(),n),r=vj(r)&&!isNaN(r)?r:+t.endOf(Date.now(),n)+1,this.min=Math.min(i,r-1),this.max=Math.max(i+1,r)}_getLabelBounds(){const e=this.getLabelTimestamps();let t=Number.POSITIVE_INFINITY,n=Number.NEGATIVE_INFINITY;return e.length&&(t=e[0],n=e[e.length-1]),{min:t,max:n}}buildTicks(){const e=this.options,t=e.time,n=e.ticks,i="labels"===n.source?this.getLabelTimestamps():this._generate();"ticks"===e.bounds&&i.length&&(this.min=this._userMin||i[0],this.max=this._userMax||i[i.length-1]);const r=this.min,s=function(e,t,n){let i=0,r=e.length;for(;i<r&&e[i]<t;)i++;for(;r>i&&e[r-1]>n;)r--;return i>0||r<e.length?e.slice(i,r):e}(i,r,this.max);return this._unit=t.unit||(n.autoSkip?Qk(t.minUnit,this.min,this.max,this._getLabelCapacity(r)):function(e,t,n,i,r){for(let s=Xk.length-1;s>=Xk.indexOf(n);s--){const n=Xk[s];if(Gk[n].common&&e._adapter.diff(r,i,n)>=t-1)return n}return Xk[n?Xk.indexOf(n):0]}(this,s.length,t.minUnit,this.min,this.max)),this._majorUnit=n.major.enabled&&"year"!==this._unit?function(e){for(let t=Xk.indexOf(e)+1,n=Xk.length;t<n;++t)if(Gk[Xk[t]].common)return Xk[t]}(this._unit):void 0,this.initOffsets(i),e.reverse&&s.reverse(),eE(this,s,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map((e=>+e.value)))}initOffsets(e=[]){let t,n,i=0,r=0;this.options.offset&&e.length&&(t=this.getDecimalForValue(e[0]),i=1===e.length?1-t:(this.getDecimalForValue(e[1])-t)/2,n=this.getDecimalForValue(e[e.length-1]),r=1===e.length?n:(n-this.getDecimalForValue(e[e.length-2]))/2);const s=e.length<3?.5:.25;i=iw(i,0,s),r=iw(r,0,s),this._offsets={start:i,end:r,factor:1/(i+1+r)}}_generate(){const e=this._adapter,t=this.min,n=this.max,i=this.options,r=i.time,s=r.unit||Qk(r.minUnit,t,n,this._getLabelCapacity(t)),o=jj(i.ticks.stepSize,1),a="week"===s&&r.isoWeekday,l=Xj(a)||!0===a,c={};let d,h,u=t;if(l&&(u=+e.startOf(u,"isoWeek",a)),u=+e.startOf(u,l?"day":s),e.diff(n,t,s)>1e5*o)throw new Error(t+" and "+n+" are too far apart with stepSize of "+o+" "+s);const p="data"===i.ticks.source&&this.getDataTimestamps();for(d=u,h=0;d<n;d=+e.add(d,o,s),h++)Zk(c,d,p);return d!==n&&"ticks"!==i.bounds&&1!==h||Zk(c,d,p),Object.keys(c).sort(Kk).map((e=>+e))}getLabelForValue(e){const t=this._adapter,n=this.options.time;return n.tooltipFormat?t.format(e,n.tooltipFormat):t.format(e,n.displayFormats.datetime)}format(e,t){const n=this.options.time.displayFormats,i=this._unit,r=t||n[i];return this._adapter.format(e,r)}_tickFormatFunction(e,t,n,i){const r=this.options,s=r.ticks.callback;if(s)return wj(s,[e,t,n],this);const o=r.time.displayFormats,a=this._unit,l=this._majorUnit,c=a&&o[a],d=l&&o[l],h=n[t],u=l&&d&&h&&h.major;return this._adapter.format(e,i||(u?d:c))}generateTickLabels(e){let t,n,i;for(t=0,n=e.length;t<n;++t)i=e[t],i.label=this._tickFormatFunction(i.value,t,e)}getDecimalForValue(e){return null===e?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){const t=this._offsets,n=this.getDecimalForValue(e);return this.getPixelForDecimal((t.start+n)*t.factor)}getValueForPixel(e){const t=this._offsets,n=this.getDecimalForPixel(e)/t.factor-t.end;return this.min+n*(this.max-this.min)}_getLabelSize(e){const t=this.options.ticks,n=this.ctx.measureText(e).width,i=Kj(this.isHorizontal()?t.maxRotation:t.minRotation),r=Math.cos(i),s=Math.sin(i),o=this._resolveTickFontOptions(0).size;return{w:n*r+o*s,h:n*s+o*r}}_getLabelCapacity(e){const t=this.options.time,n=t.displayFormats,i=n[t.unit]||n.millisecond,r=this._tickFormatFunction(e,0,eE(this,[e],this._majorUnit),i),s=this._getLabelSize(r),o=Math.floor(this.isHorizontal()?this.width/s.w:this.height/s.h)-1;return o>0?o:1}getDataTimestamps(){let e,t,n=this._cache.data||[];if(n.length)return n;const i=this.getMatchingVisibleMetas();if(this._normalized&&i.length)return this._cache.data=i[0].controller.getAllParsedValues(this);for(e=0,t=i.length;e<t;++e)n=n.concat(i[e].controller.getAllParsedValues(this));return this._cache.data=this.normalize(n)}getLabelTimestamps(){const e=this._cache.labels||[];let t,n;if(e.length)return e;const i=this.getLabels();for(t=0,n=i.length;t<n;++t)e.push(Jk(this,i[t]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return function(e){const t=new Set(e);return t.size===e.length?e:Array.from(t)}(e.sort(Kk))}}function nE(e,t,n){let i,r,s,o,a=0,l=e.length-1;n?(t>=e[a].pos&&t<=e[l].pos&&({lo:a,hi:l}=ow(e,"pos",t)),({pos:i,time:s}=e[a]),({pos:r,time:o}=e[l])):(t>=e[a].time&&t<=e[l].time&&({lo:a,hi:l}=ow(e,"time",t)),({time:i,pos:s}=e[a]),({time:r,pos:o}=e[l]));const c=r-i;return c?s+(o-s)*(t-i)/c:s}i(tE,"id","time"),i(tE,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});class iE extends tE{constructor(e){super(e),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const e=this._getTimestampsForTable(),t=this._table=this.buildLookupTable(e);this._minPos=nE(t,this.min),this._tableRange=nE(t,this.max)-this._minPos,super.initOffsets(e)}buildLookupTable(e){const{min:t,max:n}=this,i=[],r=[];let s,o,a,l,c;for(s=0,o=e.length;s<o;++s)l=e[s],l>=t&&l<=n&&i.push(l);if(i.length<2)return[{time:t,pos:0},{time:n,pos:1}];for(s=0,o=i.length;s<o;++s)c=i[s+1],a=i[s-1],l=i[s],Math.round((c+a)/2)!==l&&r.push({time:l,pos:s/(o-1)});return r}_generate(){const e=this.min,t=this.max;let n=super.getDataTimestamps();return n.includes(e)&&n.length||n.splice(0,0,e),n.includes(t)&&1!==n.length||n.push(t),n.sort(((e,t)=>e-t))}_getTimestampsForTable(){let e=this._cache.all||[];if(e.length)return e;const t=this.getDataTimestamps(),n=this.getLabelTimestamps();return e=t.length&&n.length?this.normalize(t.concat(n)):t.length?t:n,e=this._cache.all=e,e}getDecimalForValue(e){return(nE(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){const t=this._offsets,n=this.getDecimalForPixel(e)/t.factor-t.end;return nE(this._table,n*this._tableRange+this._minPos,!0)}}i(iE,"id","timeseries"),i(iE,"defaults",tE.defaults);const rE="label";function sE(e,t){"function"==typeof e?e(t):e&&(e.current=t)}function oE(e,t){e.labels=t}function aE(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:rE;const i=[];e.datasets=t.map((t=>{const r=e.datasets.find((e=>e[n]===t[n]));return r&&t.data&&!i.includes(r)?(i.push(r),Object.assign(r,t),r):{...t}}))}function lE(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:rE;const n={labels:[],datasets:[]};return oE(n,e.labels),aE(n,e.datasets,t),n}function cE(e,t){const{height:n=150,width:i=300,redraw:r=!1,datasetIdKey:s,type:o,data:a,options:l,plugins:c=[],fallbackContent:d,updateMode:h,...u}=e,p=Ot.useRef(null),f=Ot.useRef(null),m=()=>{p.current&&(f.current=new B_(p.current,{type:o,data:lE(a,s),options:l&&{...l},plugins:c}),sE(t,f.current))},g=()=>{sE(t,null),f.current&&(f.current.destroy(),f.current=null)};return Ot.useEffect((()=>{!r&&f.current&&l&&function(e,t){const n=e.options;n&&t&&Object.assign(n,t)}(f.current,l)}),[r,l]),Ot.useEffect((()=>{!r&&f.current&&oE(f.current.config.data,a.labels)}),[r,a.labels]),Ot.useEffect((()=>{!r&&f.current&&a.datasets&&aE(f.current.config.data,a.datasets,s)}),[r,a.datasets]),Ot.useEffect((()=>{f.current&&(r?(g(),setTimeout(m)):f.current.update(h))}),[r,l,a.labels,a.datasets,h]),Ot.useEffect((()=>{f.current&&(g(),setTimeout(m))}),[o]),Ot.useEffect((()=>(m(),()=>g())),[]),Mt.createElement("canvas",{ref:p,role:"img",height:n,width:i,...u},d)}const dE=Ot.forwardRef(cE);function hE(e,t){return B_.register(t),Ot.forwardRef(((t,n)=>Mt.createElement(dE,{...t,ref:n,type:e})))}const uE=hE("line",hC),pE=Be`
  0% {
    transform: translateY(-100%);
    opacity: 0;
  }
  50% {
    opacity: 1;
  }
  100% {
    transform: translateY(100%);
    opacity: 0;
  }
`,fE=We("div")`
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  height: 3px;
  background: linear-gradient(90deg, transparent, #E31C79 50%, transparent);
  animation: ${pE} 1.5s infinite;
  pointer-events: none;
  z-index: 1;
  box-shadow: 0 0 10px rgba(227, 28, 121, 0.5);
`,mE=({open:e,onClose:t})=>{var n,i,r,s;const[a,l]=Ot.useState([]),[c,d]=Ot.useState([]),[h,u]=Ot.useState(""),[m,x]=Ot.useState(null),[b,j]=Ot.useState([]),[S,P]=Ot.useState(!1),[O,A]=Ot.useState(""),[T,I]=Ot.useState(""),[L,z]=Ot.useState(!1),[B,W]=Ot.useState(null),[N,$]=Ot.useState(!1),[U,H]=Ot.useState(!1),[Y,G]=Ot.useState(null),[X,K]=Ot.useState([]),[J,Q]=Ot.useState([]),[Z,te]=Ot.useState(!1),[ne,ie]=Ot.useState({customer:!1,cart:!1,paymentMode:!1}),[re,se]=Ot.useState(""),[oe,ae]=Ot.useState(""),[le,he]=Ot.useState(0),[ue,pe]=Ot.useState(!1);Ot.useEffect((()=>{(async()=>{if(e){$(!0);try{const e=await wm();l(e)}catch(t){console.error("Error fetching products:",t)}finally{$(!1)}}})()}),[e]),Ot.useEffect((()=>{e&&(async()=>{H(!0);try{const e=await fm();K(e)}catch(e){console.error("Error fetching POS customers:",e)}finally{H(!1)}})()}),[e]),Ot.useEffect((()=>{(()=>{const e=b.reduce(((e,t)=>e+t.product.price*t.quantity),0),t=re?e*Number(re)/100:0,n=oe?Number(oe):0;he(e-t-n)})()}),[b,re,oe,he]);const me=e=>{const t=b.find((t=>t.product.id===e.id));j(t?b.map((t=>t.product.id===e.id?{...t,quantity:t.quantity+1}:t)):[...b,{product:e,quantity:1}])},ye=(e,t)=>{t<1||j(b.map((n=>n.product.id===e?{...n,quantity:t}:n)))},ve=a.filter((e=>{const t=h.toLowerCase();return e.name.toLowerCase().includes(t)||e.sku&&e.sku.toLowerCase().includes(t)})),be=e=>{if("string"==typeof e){x({id:"",name:"Walk-in Customer",phone:e,isNew:!0,totalOrders:0,totalSpent:0})}else x(e?{id:e.id,name:e.name||"Walk-in Customer",phone:e.phone||"",isNew:e.isNew||!1,totalOrders:e.totalOrders||0,totalSpent:e.totalSpent||0}:null);I((null==e?void 0:e.phone)||""),pe(!1),ie((e=>({...e,customer:!1})))};return o.jsxs(o.Fragment,{children:[o.jsxs(Ne,{open:e,onClose:t,maxWidth:"lg",fullWidth:!0,PaperProps:{sx:{minHeight:"auto",maxHeight:"85vh",background:"linear-gradient(135deg, #FFE4E1 0%, #FFB6C1 100%)",borderRadius:2,boxShadow:"0 8px 32px rgba(0, 0, 0, 0.1)",overflow:"hidden",fontFamily:"Roboto, sans-serif"}},children:[o.jsx(Ve,{sx:{background:"rgba(255, 255, 255, 0.9)",borderBottom:"1px solid rgba(227, 28, 121, 0.1)",py:1.5},children:o.jsxs(p,{display:"flex",justifyContent:"space-between",alignItems:"center",children:[o.jsxs(p,{display:"flex",alignItems:"center",gap:1,children:[o.jsx(D,{sx:{color:"#E31C79"}}),o.jsx(v,{variant:"h5",sx:{fontFamily:"Roboto, sans-serif",fontWeight:500},children:"Point of Sale"})]}),o.jsx(f,{onClick:t,sx:{color:"#E31C79"},children:o.jsx(fe,{})})]})}),o.jsx($e,{sx:{p:2,marginTop:"16px"},children:o.jsxs(y,{container:!0,spacing:2,children:[o.jsx(y,{item:!0,xs:12,md:6,children:o.jsxs(y,{container:!0,spacing:2,children:[o.jsx(y,{item:!0,xs:12,children:o.jsxs(V,{sx:{p:2,position:"relative"},children:[o.jsxs(p,{position:"relative",sx:{mb:2},children:[o.jsx(R,{fullWidth:!0,label:"Search Products (Name or SKU)",variant:"outlined",value:h,onChange:e=>u(e.target.value),InputProps:{startAdornment:o.jsx(p,{sx:{display:"flex",alignItems:"center",gap:1},children:o.jsx(De,{sx:{color:"#E31C79"}})})},sx:{"& .MuiOutlinedInput-root":{background:"rgba(255, 255, 255, 0.9)","&:hover fieldset":{borderColor:"#E31C79"}},"& .MuiInputLabel-root":{fontFamily:"Roboto, sans-serif",fontWeight:400}}}),!h&&o.jsx(p,{sx:{position:"absolute",top:0,left:0,right:0,bottom:0,overflow:"hidden",pointerEvents:"none",zIndex:1},children:o.jsx(fE,{})})]}),N?o.jsx(p,{display:"flex",justifyContent:"center",p:2,children:o.jsx(F,{})}):o.jsxs(_,{dense:!0,children:[ve.slice(0,4).map((e=>o.jsxs(k,{onClick:()=>me(e),sx:{cursor:"pointer","&:hover":{backgroundColor:"rgba(227, 28, 121, 0.04)"}},children:[o.jsx(E,{primary:e.name,secondary:`SKU: ${e.sku||"N/A"} | ${e.price.toLocaleString()} | Stock: ${e.stock}`}),o.jsx(Ue,{children:o.jsx(f,{edge:"end",onClick:t=>{t.stopPropagation(),me(e)},children:o.jsx(de,{})})})]},e.id))),0===ve.length&&o.jsx(k,{children:o.jsx(E,{primary:"No products found",secondary:"Try a different search term"})}),ve.length>4&&o.jsx(k,{children:o.jsx(E,{primary:`Showing 4 of ${ve.length} results`,secondary:"Refine your search to see more specific results",sx:{color:"text.secondary",fontStyle:"italic"}})})]})]})}),o.jsx(y,{item:!0,xs:12,children:o.jsxs(V,{sx:{p:2,border:ne.customer?"2px solid #ff1744":"none"},children:[o.jsx(v,{variant:"h6",gutterBottom:!0,children:"Customer"}),o.jsxs(p,{sx:{display:"flex",alignItems:"center",gap:1,width:"100%"},children:[o.jsx(He,{freeSolo:!0,options:J||[],getOptionLabel:e=>"string"==typeof e?e:(null==e?void 0:e.phone)||"",value:m,onChange:(e,t)=>{if("string"==typeof t){be({id:"",name:"Walk-in Customer",phone:t,isNew:!0,totalOrders:0,totalSpent:0})}else be(t);ie((e=>({...e,customer:!1})))},inputValue:T,onInputChange:(e,t)=>{const n=t.replace(/\D/g,"");n.length<=10&&(I(n),(async e=>{const t=e.target.value.replace(/\D/g,"");if(t.length<=10)if(I(t),t.length>=1){te(!0);try{const e=(X||[]).filter((e=>{var n;return null==(n=null==e?void 0:e.phone)?void 0:n.startsWith(t)}));Q(e);const n=e.find((e=>e.phone===t));if(n){const e=(n.totalOrders||0)>0;x({...n,isNew:!e}),I(n.phone),Q([])}else x(null)}catch(n){console.error("Error searching customers:",n)}finally{te(!1)}}else Q([]),x(null)})({target:{value:n}}))},sx:{width:"100%"},renderInput:e=>o.jsx(R,{...e,fullWidth:!0,label:"Phone Number",placeholder:"Enter 10-digit mobile number",error:ne.customer,helperText:ne.customer?"Please select or enter a customer":"",inputProps:{...e.inputProps,inputMode:"numeric",pattern:"[0-9]*",maxLength:10},InputProps:{...e.InputProps,endAdornment:o.jsxs(o.Fragment,{children:[Z&&o.jsx(F,{size:20}),e.InputProps.endAdornment]})}}),renderOption:(e,t)=>{var n;const{key:i,...r}=e;return o.jsx("li",{...r,children:o.jsxs(p,{sx:{display:"flex",flexDirection:"column"},children:[o.jsx(v,{variant:"body1",sx:{fontFamily:"Roboto",fontWeight:500},children:(null==t?void 0:t.name)||"Walk-in Customer"}),o.jsx(v,{variant:"body2",sx:{fontFamily:"Roboto",color:"text.secondary"},children:null==t?void 0:t.phone}),(null==t?void 0:t.totalOrders)&&t.totalOrders>0&&o.jsxs(v,{variant:"caption",sx:{fontFamily:"Roboto",color:"text.secondary"},children:[t.totalOrders," orders | ",null==(n=t.totalSpent)?void 0:n.toLocaleString()]})]})},i)}}),m&&o.jsx(M,{label:m.isNew?"New Customer":"Existing Customer",color:m.isNew?"primary":"default",size:"small"})]}),m&&o.jsxs(v,{variant:"body2",color:"text.secondary",sx:{mt:1},children:["Total Orders: ",m.totalOrders||0," | Total Spent: ",(m.totalSpent||0).toLocaleString()]})]})}),o.jsx(y,{item:!0,xs:12,children:o.jsxs(V,{sx:{p:2,border:ne.paymentMode?"2px solid #ff1744":"none"},children:[o.jsxs(p,{display:"flex",alignItems:"center",gap:1,mb:2,children:[o.jsx(Ce,{sx:{color:"#E31C79"}}),o.jsx(v,{variant:"h6",children:"Payment"})]}),o.jsxs(y,{container:!0,spacing:2,children:[o.jsx(y,{item:!0,xs:4,children:o.jsxs(ee,{fullWidth:!0,error:ne.paymentMode,sx:{"& .MuiOutlinedInput-root":{backgroundColor:"rgba(227, 28, 121, 0.04)","&:hover .MuiOutlinedInput-notchedOutline":{borderColor:"#E31C79"},"&.Mui-focused .MuiOutlinedInput-notchedOutline":{borderColor:"#E31C79"}},"& .MuiInputLabel-root":{color:"#E31C79"},"& .MuiSelect-icon":{color:"#E31C79"}},children:[o.jsx(ge,{children:"Payment Mode"}),o.jsxs(xe,{value:O,onChange:e=>{A(e.target.value),ie((e=>({...e,paymentMode:!1})))},label:"Payment Mode",children:[o.jsx(w,{value:"cash",children:"Cash"}),o.jsx(w,{value:"card",children:"Card"}),o.jsx(w,{value:"upi",children:"UPI"})]}),ne.paymentMode&&o.jsx(v,{variant:"caption",color:"error",children:"Please select a payment mode"})]})}),o.jsx(y,{item:!0,xs:4,children:o.jsx(R,{fullWidth:!0,label:"Discount %",type:"number",value:re,placeholder:"Enter % (max 20%)",onChange:e=>{const t=e.target.value;(""===t||Number(t)>=0&&Number(t)<=20)&&se(t)},InputProps:{endAdornment:o.jsx(q,{position:"end",children:"%"})},inputProps:{min:0,max:20,step:1},sx:{"& .MuiOutlinedInput-root":{backgroundColor:"rgba(76, 175, 80, 0.04)","&:hover .MuiOutlinedInput-notchedOutline":{borderColor:"#4CAF50"},"&.Mui-focused .MuiOutlinedInput-notchedOutline":{borderColor:"#4CAF50"}},"& .MuiInputLabel-root":{color:"#4CAF50"}}})}),o.jsx(y,{item:!0,xs:4,children:o.jsx(R,{fullWidth:!0,label:"Cash Discount",type:"number",value:oe,placeholder:"Enter amount (max 500)",onChange:e=>{const t=e.target.value;(""===t||Number(t)>=0&&Number(t)<=500)&&ae(t)},InputProps:{startAdornment:o.jsx(q,{position:"start",children:""})},inputProps:{min:0,max:500,step:1},sx:{"& .MuiOutlinedInput-root":{backgroundColor:"rgba(33, 150, 243, 0.04)","&:hover .MuiOutlinedInput-notchedOutline":{borderColor:"#2196F3"},"&.Mui-focused .MuiOutlinedInput-notchedOutline":{borderColor:"#2196F3"}},"& .MuiInputLabel-root":{color:"#2196F3"}}})})]})]})})]})}),o.jsx(y,{item:!0,xs:12,md:6,children:o.jsxs(V,{sx:{p:2,height:"100%",border:ne.cart?"2px solid #ff1744":"none"},children:[o.jsxs(p,{display:"flex",alignItems:"center",gap:1,mb:2,children:[o.jsx(D,{sx:{color:"#E31C79"}}),o.jsx(v,{variant:"h6",children:"Cart"})]}),ne.cart&&o.jsx(v,{variant:"caption",color:"error",sx:{mb:2,display:"block"},children:"Please add at least one product to the cart"}),o.jsx(_,{dense:!0,children:b.map((e=>o.jsxs(k,{children:[o.jsx(E,{primary:e.product.name,secondary:o.jsxs(v,{component:"span",sx:{fontFamily:"Roboto",fontWeight:500},children:["",e.product.price.toLocaleString()," x ",e.quantity]})}),o.jsx(Ue,{children:o.jsxs(p,{display:"flex",alignItems:"center",gap:1,children:[o.jsxs(p,{sx:{display:"flex",alignItems:"center",border:"2px solid",borderImage:"linear-gradient(45deg, #E31C79, #FF8E53) 1",borderRadius:"4px",padding:"2px"},children:[o.jsx(f,{size:"small",onClick:t=>{t.stopPropagation(),ye(e.product.id,e.quantity-1)},sx:{padding:"4px",minWidth:"32px",height:"32px"},children:o.jsx(ce,{fontSize:"small"})}),o.jsx(v,{sx:{fontWeight:"bold",color:"#E31C79",minWidth:"24px",textAlign:"center",mx:1},children:e.quantity}),o.jsx(f,{size:"small",onClick:()=>ye(e.product.id,e.quantity+1),sx:{padding:"4px",minWidth:"32px",height:"32px"},children:o.jsx(de,{fontSize:"small"})})]}),o.jsx(f,{size:"small",onClick:()=>{return t=e.product.id,void j(b.filter((e=>e.product.id!==t)));var t},sx:{padding:"4px","&:hover":{backgroundColor:"rgba(227, 28, 121, 0.04)"}},children:o.jsx(qe,{sx:{fontSize:"1.1rem"}})})]})})]},e.product.id)))}),o.jsx(C,{sx:{my:2}}),o.jsxs(p,{display:"flex",justifyContent:"space-between",mb:2,children:[o.jsx(v,{variant:"h6",sx:{fontFamily:"Roboto",fontWeight:500},children:"Total"}),o.jsxs(v,{variant:"h6",sx:{color:"#E31C79",fontFamily:"Roboto",fontWeight:700},children:["",le.toLocaleString()]})]}),o.jsx(g,{fullWidth:!0,variant:"contained",onClick:async()=>{if(ie({customer:!m&&!T,cart:0===b.length,paymentMode:!O}),(m||T)&&0!==b.length&&O)try{P(!0),G("");const e={customerId:null==m?void 0:m.id,customer:{id:null==m?void 0:m.id,phone:(null==m?void 0:m.phone)||T,name:(null==m?void 0:m.name)||"Walk-in Customer",isNew:(null==m?void 0:m.isNew)||!0},items:b.map((e=>({productId:e.product.id,quantity:e.quantity,price:e.product.price,name:e.product.name}))),total:le,paymentMode:O,discountPercentage:re,cashDiscount:oe,status:"completed",type:"pos",orderType:"pos"},n=await Mm(e);(null==m?void 0:m.id)&&await(async(e,t)=>{if(e.id)try{const n=await mm(e.id,{totalOrders:(e.totalOrders||0)+1,totalSpent:(e.totalSpent||0)+t,isNew:!1});n&&(K((e=>e.map((e=>e.id===n.id?n:e)))),(null==m?void 0:m.id)===n.id&&x(n))}catch(n){console.error("Error updating customer data:",n)}})(m,le),ni.success("Order placed successfully!");const i={orderNumber:n.orderNumber,createdAt:n.createdAt,customer:{name:(null==m?void 0:m.name)||"Walk-in Customer",phone:(null==m?void 0:m.phone)||T||""},items:b.map((e=>({product:{name:e.product.name,price:e.product.price},quantity:e.quantity}))),total:le,paymentMode:O,discountPercentage:re||"0",cashDiscount:oe||"0"};localStorage.setItem("currentInvoiceData",JSON.stringify(i));const r={timestamp:(new Date).toISOString(),customer:m,cart:b,paymentMode:O,discountPercentage:re,cashDiscount:oe,cartTotal:le};localStorage.setItem("lastPOSState",JSON.stringify(r)),setTimeout((()=>{window.open("/invoice","_blank");j([]),x(null),I(""),A(""),se(""),ae(""),t()}),100)}catch(e){console.error("Error creating order:",e),G("Failed to create order. Please try again.")}finally{P(!1)}else G("Please fill in all required fields")},disabled:S||0===b.length,sx:{background:"linear-gradient(45deg, #E31C79 30%, #FF8E53 90%)",color:"white","&:hover":{background:"linear-gradient(45deg, #FF8E53 30%, #E31C79 90%)"},"&:disabled":{background:"rgba(0, 0, 0, 0.12)"}},children:S?o.jsx(F,{size:24,sx:{color:"white"}}):o.jsxs(p,{display:"flex",alignItems:"center",gap:1,children:[o.jsx(we,{}),"Checkout"]})})]})})]})})]}),o.jsxs(Ne,{open:L,onClose:()=>z(!1),maxWidth:"sm",fullWidth:!0,children:[o.jsx(Ve,{children:o.jsxs(p,{display:"flex",justifyContent:"space-between",alignItems:"center",children:[o.jsx(v,{variant:"h6",sx:{fontFamily:"Roboto",fontWeight:700,letterSpacing:"0.5px",fontSize:"1.5rem"},children:"Invoice"}),o.jsx(f,{onClick:()=>z(!1),children:o.jsx(fe,{})})]})}),o.jsx($e,{children:B&&o.jsxs(p,{sx:{fontFamily:"Roboto"},children:[o.jsxs(v,{variant:"h6",sx:{fontFamily:"Roboto",fontWeight:700,letterSpacing:"0.5px",fontSize:"1.2rem",mb:1},children:["Order #",B.orderNumber]}),o.jsxs(v,{variant:"body2",sx:{fontFamily:"Roboto",fontWeight:400,color:"text.secondary",mb:1},children:["Date: ",new Date(B.createdAt).toLocaleString()]}),o.jsxs(v,{variant:"body2",sx:{fontFamily:"Roboto",fontWeight:500,mb:2},children:["Customer: ",(null==(n=null==B?void 0:B.customer)?void 0:n.phone)||"N/A",(null==(i=null==B?void 0:B.customer)?void 0:i.isNew)&&o.jsx(M,{label:"New",color:"primary",size:"small",sx:{ml:1}})]}),o.jsx(C,{sx:{my:2}}),o.jsx(_,{children:null==(r=null==B?void 0:B.items)?void 0:r.map(((e,t)=>{var n,i,r,s,a;return o.jsxs(k,{children:[o.jsx(E,{primary:o.jsx(v,{sx:{fontFamily:"Roboto",fontWeight:500,fontSize:"1rem"},children:(null==(n=null==e?void 0:e.product)?void 0:n.name)||"Unknown Product"}),secondary:o.jsxs(v,{sx:{fontFamily:"Roboto",fontWeight:400,color:"text.secondary",fontSize:"0.9rem"},children:[(null==e?void 0:e.quantity)||0," x ",(null==(r=null==(i=null==e?void 0:e.product)?void 0:i.price)?void 0:r.toLocaleString())||"0"]})}),o.jsxs(v,{sx:{fontFamily:"Roboto",fontWeight:600,color:"#E31C79",fontSize:"1.1rem"},children:["",(((null==(s=null==e?void 0:e.product)?void 0:s.price)||0)*((null==e?void 0:e.quantity)||0)).toLocaleString()]})]},(null==(a=null==e?void 0:e.product)?void 0:a.id)||`item-${t}`)}))}),o.jsx(C,{sx:{my:2}}),o.jsxs(p,{sx:{mb:2},children:[o.jsxs(p,{display:"flex",justifyContent:"space-between",alignItems:"center",mb:1,children:[o.jsx(v,{sx:{fontFamily:"Roboto",fontWeight:500,color:"text.secondary",fontSize:"1rem"},children:"Subtotal"}),o.jsxs(v,{sx:{fontFamily:"Roboto",fontWeight:600,fontSize:"1.1rem"},children:["",null==(s=null==B?void 0:B.items)?void 0:s.reduce(((e,t)=>{var n;return e+((null==(n=null==t?void 0:t.product)?void 0:n.price)||0)*((null==t?void 0:t.quantity)||0)}),0).toLocaleString()]})]}),B.discountPercentage&&o.jsxs(p,{display:"flex",justifyContent:"space-between",alignItems:"center",mb:1,children:[o.jsxs(v,{sx:{fontFamily:"Roboto",fontWeight:500,color:"text.secondary",fontSize:"1rem"},children:["Discount (",B.discountPercentage,"%)"]}),o.jsxs(v,{sx:{fontFamily:"Roboto",fontWeight:600,color:"#4CAF50",fontSize:"1.1rem"},children:["-",(B.items.reduce(((e,t)=>e+t.product.price*t.quantity),0)*(Number(B.discountPercentage)/100)).toLocaleString()]})]}),B.cashDiscount&&o.jsxs(p,{display:"flex",justifyContent:"space-between",alignItems:"center",mb:1,children:[o.jsx(v,{sx:{fontFamily:"Roboto",fontWeight:500,color:"text.secondary",fontSize:"1rem"},children:"Cash Discount"}),o.jsxs(v,{sx:{fontFamily:"Roboto",fontWeight:600,color:"#2196F3",fontSize:"1.1rem"},children:["-",Number(B.cashDiscount).toLocaleString()]})]})]}),o.jsx(C,{sx:{my:2}}),o.jsxs(p,{display:"flex",justifyContent:"space-between",alignItems:"center",children:[o.jsx(v,{sx:{fontFamily:"Roboto",fontWeight:700,fontSize:"1.2rem"},children:"Total"}),o.jsxs(v,{sx:{fontFamily:"Roboto",fontWeight:700,color:"#E31C79",fontSize:"1.3rem"},children:["",B.total.toLocaleString()]})]}),o.jsxs(v,{sx:{fontFamily:"Roboto",fontWeight:500,color:"text.secondary",mt:2,fontSize:"1rem"},children:["Payment Mode: ",o.jsx("span",{style:{fontFamily:"Roboto",fontWeight:600,color:"text.primary"},children:B.paymentMode})]})]})}),o.jsx(Ye,{children:o.jsx(g,{startIcon:o.jsx(Ge,{}),onClick:()=>window.print(),variant:"contained",sx:{fontFamily:"Roboto",fontWeight:500,fontSize:"1rem"},children:"Print Invoice"})})]})]})};B_.register($k,Yk,nk,ek,_k,Wk,Sk,vk,H_);const gE=({title:e,value:t,trend:n,icon:i,color:r,chartData:s,labels:a,path:l})=>{const c=At();return o.jsxs(V,{elevation:0,onClick:()=>c(`/admin/${l}`),sx:{p:3,height:"100%",bgcolor:r,color:"white",position:"relative",overflow:"hidden",transition:"transform 0.3s ease-in-out",cursor:"pointer","&:hover":{transform:"translateY(-5px)"}},children:[o.jsxs(p,{sx:{position:"relative",zIndex:1},children:[o.jsxs(p,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2},children:[o.jsx(v,{variant:"h6",sx:{fontWeight:500,fontSize:"1.1rem"},children:e}),o.jsx(p,{sx:{bgcolor:"rgba(255,255,255,0.2)",borderRadius:"50%",p:1},children:i})]}),o.jsx(v,{variant:"h4",sx:{fontWeight:600,mb:1},children:t}),o.jsx(v,{variant:"body2",sx:{opacity:.8},children:n})]}),s&&o.jsx(p,{sx:{position:"absolute",bottom:0,left:0,width:"100%",height:"30%",opacity:.2},children:o.jsx(uE,{data:{labels:a,datasets:[{data:s,borderColor:"rgba(255,255,255,0.8)",borderWidth:2,pointRadius:0,tension:.4,fill:!0,backgroundColor:"rgba(255,255,255,0.1)"}]},options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!1},tooltip:{enabled:!1}},scales:{x:{display:!1},y:{display:!1}}}})})]})},xE=()=>{const[e,t]=Ot.useState({totalOrders:0,totalProducts:0,totalCustomers:0,totalRevenue:0,revenueData:[],orderData:[],labels:[]}),[n,i]=Ot.useState(!0),[r,s]=Ot.useState("today"),[a,l]=Ot.useState(!1);At();Ot.useEffect((()=>{c()}),[r]);const c=async()=>{try{const[e,n,i]=await Promise.all([Em(),wm(),fm()]),s=new Set(e.map((e=>{var t;return null==(t=e.shippingAddress)?void 0:t.email})).filter(Boolean)),o=i.filter((e=>!s.has(e.email))).length,a=((e,t)=>{const n=new Date,i=new Date(n.getFullYear(),n.getMonth(),n.getDate()),r=new Date(i);r.setDate(r.getDate()-1);const s=new Date(i);s.setDate(i.getDate()-i.getDay());const o=new Date(n.getFullYear(),n.getMonth(),1),a=new Date(n.getFullYear(),0,1),l=e.filter((e=>{const n=new Date(e.createdAt);switch(t){case"today":return n>=i;case"yesterday":return n>=r&&n<i;case"week":return n>=s;case"month":return n>=o;case"year":return n>=a;default:return!0}})).filter((e=>"completed"===e.paymentStatus||"pos"===e.type)),c=l.reduce(((e,t)=>e+t.total),0);return{orders:l,revenue:c,count:l.length}})(e,r),{revenueData:l,orderData:c,labels:d}=((e,t)=>{let n=0,i=[];const r=new Date;switch(t){case"today":case"yesterday":n=24,i=Array.from({length:24},((e,t)=>`${t}:00`));break;case"week":n=7,i=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"];break;case"month":n=new Date(r.getFullYear(),r.getMonth()+1,0).getDate(),i=Array.from({length:n},((e,t)=>`${t+1}`));break;case"year":case"all":n=12,i=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]}const s=Array(n).fill(0),o=Array(n).fill(0);return e.filter((e=>"completed"===e.paymentStatus||"pos"===e.type)).forEach((e=>{const i=new Date(e.createdAt);let r;switch(t){case"today":case"yesterday":r=i.getHours();break;case"week":r=i.getDay();break;case"month":r=i.getDate()-1;break;case"year":case"all":r=i.getMonth();break;default:r=0}r>=0&&r<n&&(s[r]+=e.total,o[r]++)})),{revenueData:s,orderData:o,labels:i}})(e,r);t({totalOrders:a.count,totalProducts:n.length,totalCustomers:s.size+o,totalRevenue:a.revenue,revenueData:l,orderData:c,labels:d})}catch(e){console.error("Error fetching dashboard data:",e)}finally{i(!1)}};return n?o.jsx(p,{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"60vh",children:o.jsx(F,{})}):o.jsxs(h,{maxWidth:"xl",sx:{mt:4,mb:4},children:[o.jsxs(p,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:4},children:[o.jsx(v,{variant:"h4",sx:{fontFamily:"Playfair Display, serif"},children:"Dashboard Overview"}),o.jsx(ee,{variant:"outlined",size:"small",children:o.jsxs(xe,{value:r,onChange:e=>s(e.target.value),sx:{minWidth:120},children:[o.jsx(w,{value:"today",children:"Today"}),o.jsx(w,{value:"yesterday",children:"Yesterday"}),o.jsx(w,{value:"week",children:"This Week"}),o.jsx(w,{value:"month",children:"This Month"}),o.jsx(w,{value:"year",children:"This Year"}),o.jsx(w,{value:"all",children:"All Time"})]})})]}),o.jsxs(y,{container:!0,spacing:3,children:[o.jsx(y,{item:!0,xs:12,sm:6,md:3,children:o.jsx(gE,{title:"Total Revenue",value:`${e.totalRevenue.toLocaleString()}`,trend:""+("today"===r?"Today":"week"===r?"This Week":"month"===r?"This Month":"All Time"),icon:o.jsx(Xe,{}),color:"#1CC88A",chartData:e.revenueData,labels:e.labels,path:"orders"})}),o.jsx(y,{item:!0,xs:12,sm:6,md:3,children:o.jsx(gE,{title:"Total Orders",value:e.totalOrders.toLocaleString(),trend:"Online + POS Orders",icon:o.jsx(D,{}),color:"#36B9CC",chartData:e.orderData,path:"orders"})}),o.jsx(y,{item:!0,xs:12,sm:6,md:3,children:o.jsx(gE,{title:"Total Products",value:e.totalProducts.toLocaleString(),trend:"Active products",icon:o.jsx(Oe,{}),color:"#4E73DF",path:"products"})}),o.jsx(y,{item:!0,xs:12,sm:6,md:3,children:o.jsx(gE,{title:"Total Customers",value:e.totalCustomers.toLocaleString(),trend:"Unique customers",icon:o.jsx(Ae,{}),color:"#F6C23E",path:"customers"})}),o.jsx(y,{item:!0,xs:12,children:o.jsx(V,{elevation:0,onClick:()=>l(!0),sx:{p:2,height:"auto",minHeight:"80px",bgcolor:"#E31C79",color:"white",position:"relative",overflow:"hidden",transition:"transform 0.3s ease-in-out",cursor:"pointer","&:hover":{transform:"translateY(-5px)"},display:"flex",alignItems:"center",justifyContent:"space-between"},children:o.jsxs(p,{sx:{display:"flex",alignItems:"center",gap:2},children:[o.jsx(p,{sx:{bgcolor:"rgba(255,255,255,0.2)",borderRadius:"50%",p:1},children:o.jsx(Ke,{})}),o.jsxs(p,{children:[o.jsx(v,{variant:"h6",sx:{fontWeight:600,mb:.5},children:"New Sale"}),o.jsx(v,{variant:"body2",sx:{opacity:.8},children:"Start a new transaction"})]})]})})})]}),o.jsx(mE,{open:a,onClose:()=>l(!1)})]})},yE=e=>{var t,n,i,r;if("pos"===e.type||"pos"===e.orderType)return o.jsxs(p,{children:[o.jsx(v,{variant:"body2",fontWeight:500,children:(null==(t=e.customer)?void 0:t.name)||"Walk-in Customer"}),(null==(n=e.customer)?void 0:n.phone)&&o.jsx(v,{variant:"body2",color:"text.secondary",children:e.customer.phone}),(null==(i=e.customer)?void 0:i.totalOrders)>0&&!(null==(r=e.customer)?void 0:r.isNew)&&o.jsxs(v,{variant:"body2",color:"text.secondary",children:["Total Orders: ",e.customer.totalOrders]})]});const s="string"==typeof e.shippingAddress?JSON.parse(e.shippingAddress):e.shippingAddress;return o.jsxs(p,{children:[o.jsx(v,{variant:"body2",fontWeight:500,children:(null==s?void 0:s.fullName)||"Unknown Customer"}),(null==s?void 0:s.phone)&&o.jsx(v,{variant:"body2",color:"text.secondary",children:s.phone}),(null==s?void 0:s.email)&&o.jsx(v,{variant:"body2",color:"text.secondary",children:s.email})]})},vE=()=>{var e,t,n,i,r,s,a,l;const[c,d]=Ot.useState([]),[h,u]=Ot.useState(null),[m,x]=Ot.useState(!1),[b,j]=Ot.useState(null),[w,S]=Ot.useState(!0),[C,_]=Ot.useState(!1),[k,E]=Ot.useState(!1),[P,O]=Ot.useState(""),[A,T]=Ot.useState("success"),[I,D]=Ot.useState(""),[L,z]=Ot.useState([]);Ot.useEffect((()=>{B()}),[]),Ot.useEffect((()=>{if(!I.trim())return void z(c);const e=I.toLowerCase().trim(),t=e.includes("pos")||e.includes("offline"),n=e.includes("online")||e.includes("web"),i=e.includes("guest")||e.includes("walk-in")||e.includes("walkin"),r=e.includes("pending"),s=e.includes("processing"),o=e.includes("shipped"),a=e.includes("delivered"),l=e.includes("cancelled")||e.includes("canceled"),d=e.includes("paid")||e.includes("completed"),h=e.includes("unpaid")||e.includes("pending payment"),u=c.filter((c=>{var u,p,f,m,g,x,y,v,b,j,w,S,C,_;if(t&&"pos"!==c.type&&"pos"!==c.orderType)return!1;if(n&&("pos"===c.type||"pos"===c.orderType))return!1;if(r&&"pending"!==c.status)return!1;if(s&&"processing"!==c.status)return!1;if(o&&"shipped"!==c.status)return!1;if(a&&"delivered"!==c.status)return!1;if(l&&"cancelled"!==c.status)return!1;if(d&&"completed"!==c.paymentStatus&&"pos"!==c.type&&"pos"!==c.orderType)return!1;if(h&&("completed"===c.paymentStatus||"pos"===c.type||"pos"===c.orderType))return!1;if("pos"===c.type||"pos"===c.orderType){const t=!(null==(u=c.customer)?void 0:u.name)||"Walk-in Customer"===c.customer.name;return!(i&&!t)&&(t&&!i?(null==(f=null==(p=c.customer)?void 0:p.phone)?void 0:f.toLowerCase().includes(e))||c.id.toLowerCase().includes(e)||c.total.toString().includes(e):(null==(g=null==(m=c.customer)?void 0:m.phone)?void 0:g.toLowerCase().includes(e))||(null==(y=null==(x=c.customer)?void 0:x.name)?void 0:y.toLowerCase().includes(e))||c.id.toLowerCase().includes(e)||c.total.toString().includes(e))}const k="string"==typeof c.shippingAddress?JSON.parse(c.shippingAddress):c.shippingAddress;return(null==(v=null==k?void 0:k.fullName)?void 0:v.toLowerCase().includes(e))||(null==(b=null==k?void 0:k.email)?void 0:b.toLowerCase().includes(e))||(null==(j=null==k?void 0:k.phone)?void 0:j.toLowerCase().includes(e))||(null==(w=null==k?void 0:k.address)?void 0:w.toLowerCase().includes(e))||(null==(S=null==k?void 0:k.city)?void 0:S.toLowerCase().includes(e))||(null==(C=null==k?void 0:k.state)?void 0:C.toLowerCase().includes(e))||(null==(_=null==k?void 0:k.pincode)?void 0:_.includes(e))||c.id.toLowerCase().includes(e)||c.total.toString().includes(e)}));z(u)}),[I,c]);const B=async()=>{try{S(!0);const e=await Em();d(e)}catch(e){console.error("Error fetching orders:",e),j("Failed to load orders")}finally{S(!1)}},W=(e,t)=>{O(e),T(t),E(!0)},N=async(e,t)=>{try{_(!0),await Om(e,{status:t}),B(),W("Order status updated successfully","success")}catch(n){console.error("Error updating status:",n),W("Failed to update order status","error")}finally{_(!1)}},$=e=>{switch(e){case"pending":return"warning";case"processing":return"info";case"shipped":return"primary";case"delivered":return"success";case"cancelled":return"error";default:return"default"}},U=e=>new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"});return w?o.jsx(p,{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"200px",children:o.jsx(F,{})}):b?o.jsx(p,{p:3,children:o.jsx(H,{severity:"error",children:b})}):o.jsxs(p,{children:[o.jsxs(p,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:3},children:[o.jsx(v,{variant:"h5",sx:{fontFamily:"Playfair Display, serif"},children:"Orders"}),o.jsx(p,{children:o.jsx(R,{placeholder:"Search orders (type, status, customer details, etc.)",size:"small",value:I,onChange:e=>D(e.target.value),sx:{width:350},helperText:o.jsx(v,{variant:"caption",color:"textSecondary",children:"Keywords: pos, online, guest, pending, shipped, paid, etc."})})})]}),o.jsx(Y,{component:V,children:o.jsxs(G,{children:[o.jsx(X,{children:o.jsxs(K,{children:[o.jsx(J,{children:"Order ID"}),o.jsx(J,{children:"Date"}),o.jsx(J,{children:"Customer"}),o.jsx(J,{children:"Items"}),o.jsx(J,{children:"Total"}),o.jsx(J,{children:"Type"}),o.jsx(J,{children:"Status"}),o.jsx(J,{children:"Payment Status"}),o.jsx(J,{children:"Actions"})]})}),o.jsx(Q,{children:L.map((e=>o.jsxs(K,{children:[o.jsx(J,{children:e.id}),o.jsx(J,{children:U(e.createdAt)}),o.jsx(J,{children:yE(e)}),o.jsxs(J,{children:[e.items.length," items"]}),o.jsxs(J,{children:["",e.total.toFixed(2)]}),o.jsx(J,{children:"pos"===e.orderType||"pos"===e.type?o.jsx(M,{label:"POS",color:"secondary",size:"small",sx:{bgcolor:"#E31C79"}}):o.jsx(M,{label:"Online",color:"primary",size:"small"})}),o.jsx(J,{children:o.jsx(M,{label:e.status,color:$(e.status),size:"small"})}),o.jsx(J,{children:o.jsx(M,{label:"pos"===e.orderType||"pos"===e.type?"completed":e.paymentStatus,color:"pos"===e.orderType||"pos"===e.type||"completed"===e.paymentStatus?"success":"warning",size:"small"})}),o.jsx(J,{children:o.jsx(f,{size:"small",onClick:()=>(e=>{u(e),x(!0)})(e),sx:{color:"#E31C79"},children:o.jsx(Je,{})})})]},e.id)))})]})}),o.jsx(Ne,{open:m,onClose:()=>x(!1),maxWidth:"md",fullWidth:!0,children:h&&o.jsxs(o.Fragment,{children:[o.jsx(Ve,{children:"Order Details"}),o.jsx($e,{children:o.jsxs(y,{container:!0,spacing:3,children:[o.jsxs(y,{item:!0,xs:12,md:6,children:[o.jsx(v,{variant:"h6",gutterBottom:!0,children:"Order Information"}),o.jsxs(v,{children:["Order ID: ",h.id]}),o.jsxs(v,{children:["Date: ",U(h.createdAt)]}),o.jsxs(v,{children:["Status: ",h.status]}),o.jsxs(v,{children:["Payment Status: ",h.paymentStatus]})]}),o.jsxs(y,{item:!0,xs:12,md:6,children:[o.jsx(v,{variant:"h6",gutterBottom:!0,children:"Customer Information"}),"pos"===h.type||"pos"===h.orderType?o.jsxs(o.Fragment,{children:[o.jsxs(v,{children:["Name: ",(null==(e=h.customer)?void 0:e.name)||"Walk-in Customer"]}),o.jsxs(v,{children:["Phone: ",null==(t=h.customer)?void 0:t.phone]}),(null==(n=h.customer)?void 0:n.totalOrders)&&!h.customer.isNew&&o.jsxs(o.Fragment,{children:[o.jsxs(v,{children:["Total Orders: ",h.customer.totalOrders]}),o.jsxs(v,{children:["Total Spent: ",null==(i=h.customer.totalSpent)?void 0:i.toLocaleString()]})]})]}):o.jsxs(o.Fragment,{children:[o.jsxs(v,{children:["Name: ",(null==(r=h.shippingAddress)?void 0:r.fullName)||"Unknown Customer"]}),(null==(s=h.shippingAddress)?void 0:s.phone)&&o.jsxs(v,{children:["Phone: ",h.shippingAddress.phone]}),(null==(a=h.shippingAddress)?void 0:a.email)&&o.jsxs(v,{children:["Email: ",h.shippingAddress.email]}),(null==(l=h.shippingAddress)?void 0:l.address)&&o.jsxs(v,{children:["Address: ",h.shippingAddress.address,",",h.shippingAddress.city,",",h.shippingAddress.state,",",h.shippingAddress.pincode,",",h.shippingAddress.country]})]})]}),o.jsxs(y,{item:!0,xs:12,children:[o.jsx(v,{variant:"h6",gutterBottom:!0,children:"Order Items"}),o.jsx(Y,{children:o.jsxs(G,{size:"small",children:[o.jsx(X,{children:o.jsxs(K,{children:[o.jsx(J,{children:"Item"}),o.jsx(J,{children:"Quantity"}),o.jsx(J,{children:"Price"}),o.jsx(J,{children:"Total"})]})}),o.jsxs(Q,{children:[h.items.map(((e,t)=>o.jsxs(K,{children:[o.jsx(J,{children:e.name}),o.jsx(J,{children:e.quantity}),o.jsxs(J,{children:["",e.price.toFixed(2)]}),o.jsxs(J,{children:["",(e.price*e.quantity).toFixed(2)]})]},t))),o.jsxs(K,{children:[o.jsx(J,{colSpan:3,align:"right",children:o.jsx("strong",{children:"Total Amount:"})}),o.jsx(J,{children:o.jsxs("strong",{children:["",h.total.toFixed(2)]})})]})]})]})})]})]})}),o.jsxs(Ye,{children:[o.jsx(g,{onClick:()=>x(!1),children:"Close"}),o.jsx(g,{variant:"contained",color:"primary",onClick:()=>N(h.id,"processing"),disabled:"processing"===h.status||C,children:"Mark as Processing"}),o.jsx(g,{variant:"contained",color:"success",onClick:()=>N(h.id,"shipped"),disabled:"shipped"===h.status||C,children:"Mark as Shipped"}),o.jsx(g,{variant:"contained",color:"info",onClick:()=>N(h.id,"delivered"),disabled:"delivered"===h.status||C,children:"Mark as Delivered"})]})]})}),o.jsx(Qe,{open:k,autoHideDuration:6e3,onClose:()=>E(!1),children:o.jsx(H,{onClose:()=>E(!1),severity:A,sx:{width:"100%"},children:P})})]})};function bE(e){const{children:t,value:n,index:i,...r}=e;return o.jsx("div",{role:"tabpanel",hidden:n!==i,id:`simple-tabpanel-${i}`,"aria-labelledby":`simple-tab-${i}`,...r,children:n===i&&o.jsx(p,{sx:{p:3},children:t})})}const jE=()=>{const[e,t]=Ot.useState([]),[n,i]=Ot.useState(!0),[r,s]=Ot.useState(0),[a,l]=Ot.useState(10),[c,d]=Ot.useState(null),[h,u]=Ot.useState(!1),[m,x]=Ot.useState("view"),[b,j]=Ot.useState(0),[w,S]=Ot.useState([]),[C,_]=Ot.useState(1),[k,E]=Ot.useState(!1);Ot.useEffect((()=>{P()}),[]);const P=async()=>{try{i(!0);const[e,n]=await Promise.all([Em(),fm()]),r=new Map;e.forEach((e=>{const t=e.shippingAddress;if(!(null==t?void 0:t.email))return;r.has(t.email)||r.set(t.email,{name:t.fullName,email:t.email,phone:t.phone,address:{street:t.address,city:t.city,state:t.state,pincode:t.pincode,country:t.country},totalOrders:0,totalSpent:0,lastOrderDate:e.createdAt,type:"online"});const n=r.get(t.email);n.totalOrders=(n.totalOrders||0)+1,n.totalSpent=(n.totalSpent||0)+e.total,new Date(e.createdAt)>new Date(n.lastOrderDate||"")&&(n.lastOrderDate=e.createdAt)})),n.forEach((e=>{const t=e.phone;r.has(t)||r.set(t,{id:e.id,name:e.name||"Walk-in Customer",phone:e.phone,totalOrders:e.totalOrders||0,totalSpent:e.totalSpent||0,type:"pos",isNew:e.isNew})}));const s=Array.from(r.values());t(s)}catch(e){console.error("Error fetching customers:",e),ni.error("Failed to fetch customers")}finally{i(!1)}},O=(e,t)=>{s(t)},A=async()=>{E(!0);try{const e=await um({page:r+1,limit:10,status:void 0});S(e.subscriptions),_(e.totalPages)}catch(e){ni.error("Failed to fetch subscriptions")}finally{E(!1)}};Ot.useEffect((()=>{1===b&&A()}),[r,b]);return n?o.jsx(p,{display:"flex",justifyContent:"center",alignItems:"center",height:"80vh",children:o.jsx(F,{})}):o.jsxs(p,{sx:{width:"100%"},children:[o.jsxs(Ze,{value:b,onChange:(e,t)=>j(t),children:[o.jsx(et,{label:"Customers"}),o.jsx(et,{label:"Newsletter Subscriptions"})]}),o.jsx(bE,{value:b,index:0,children:o.jsxs(p,{p:3,children:[o.jsx(v,{variant:"h4",gutterBottom:!0,children:"Customers"}),o.jsx(Y,{component:V,children:o.jsxs(G,{children:[o.jsx(X,{children:o.jsxs(K,{children:[o.jsx(J,{children:"Name"}),o.jsx(J,{children:"Contact"}),o.jsx(J,{children:"Type"}),o.jsx(J,{children:"Total Orders"}),o.jsx(J,{children:"Total Spent"}),o.jsx(J,{children:"Last Order"}),o.jsx(J,{children:"Actions"})]})}),o.jsx(Q,{children:e.slice(r*a,r*a+a).map((e=>o.jsxs(K,{children:[o.jsx(J,{children:e.name||"N/A"}),o.jsx(J,{children:o.jsxs(p,{children:["pos"!==e.type&&e.email&&o.jsx(v,{variant:"body2",color:"textSecondary",children:e.email}),e.phone&&o.jsx(v,{variant:"body2",color:"textSecondary",children:e.phone})]})}),o.jsx(J,{children:"pos"===e.type?o.jsxs(p,{display:"flex",gap:1,children:[o.jsx(M,{label:"POS",color:"secondary",size:"small",sx:{bgcolor:"#E31C79"}}),e.isNew&&o.jsx(M,{label:"New",color:"primary",size:"small"})]}):o.jsx(M,{label:"Online",color:"default",size:"small"})}),o.jsx(J,{children:o.jsx(M,{label:e.totalOrders||0,color:"primary",size:"small"})}),o.jsxs(J,{children:["",(e.totalSpent||0).toLocaleString()]}),o.jsx(J,{children:e.lastOrderDate?new Date(e.lastOrderDate).toLocaleDateString():"N/A"}),o.jsxs(J,{children:[o.jsx(f,{onClick:()=>(e=>{d(e),x("view"),u(!0)})(e),children:o.jsx(Je,{})}),o.jsx(f,{onClick:()=>(e=>{d(e),x("edit"),u(!0)})(e),children:o.jsx(tt,{})}),o.jsx(f,{onClick:()=>{const t="pos"===e.type?e.phone:e.email;t&&(async e=>{if(e&&window.confirm("Are you sure you want to delete this customer?"))try{console.log("Delete customer:",e)}catch(t){console.error("Error deleting customer:",t)}})(t)},children:o.jsx(qe,{})})]})]},e.id||e.email||e.phone)))})]})}),o.jsx(nt,{component:"div",count:e.length,page:r,onPageChange:O,rowsPerPage:a,onRowsPerPageChange:e=>{l(parseInt(e.target.value,10)),s(0)}})]})}),o.jsx(bE,{value:b,index:1,children:o.jsxs(p,{p:3,children:[o.jsx(v,{variant:"h4",gutterBottom:!0,children:"Newsletter Subscriptions"}),k?o.jsx(p,{display:"flex",justifyContent:"center",p:3,children:o.jsx(F,{})}):o.jsxs(o.Fragment,{children:[o.jsx(Y,{component:V,children:o.jsxs(G,{children:[o.jsx(X,{children:o.jsxs(K,{children:[o.jsx(J,{children:"Email"}),o.jsx(J,{children:"Date"}),o.jsx(J,{children:"Status"}),o.jsx(J,{children:"Actions"})]})}),o.jsx(Q,{children:w.map((e=>o.jsxs(K,{children:[o.jsx(J,{children:e.email}),o.jsx(J,{children:new Date(e.subscriptionDate).toLocaleDateString()}),o.jsx(J,{children:e.status}),o.jsx(J,{children:o.jsx(f,{onClick:()=>(async e=>{if(window.confirm("Are you sure you want to unsubscribe this email?"))try{await pm(e),ni.success("Successfully unsubscribed"),A()}catch(t){ni.error("Failed to unsubscribe")}})(e.email),color:"error",children:o.jsx(qe,{})})})]},e.id)))})]})}),o.jsx(p,{display:"flex",justifyContent:"center",mt:3,children:o.jsx(it,{count:C,page:r+1,onChange:O,color:"primary"})})]})]})}),o.jsxs(Ne,{open:h,onClose:()=>u(!1),maxWidth:"md",fullWidth:!0,children:[o.jsxs(Ve,{children:["view"===m?"Customer Details":"Edit Customer","pos"===(null==c?void 0:c.type)&&o.jsx(M,{label:"POS Customer",color:"secondary",size:"small",sx:{ml:1,bgcolor:"#E31C79"}})]}),o.jsx($e,{children:c&&o.jsxs(y,{container:!0,spacing:2,sx:{mt:1},children:[o.jsx(y,{item:!0,xs:12,md:6,children:o.jsx(R,{fullWidth:!0,label:"Name",value:c.name||"",disabled:"view"===m,onChange:e=>d({...c,name:e.target.value})})}),"pos"!==c.type&&o.jsx(y,{item:!0,xs:12,md:6,children:o.jsx(R,{fullWidth:!0,label:"Email",value:c.email||"",disabled:!0})}),o.jsx(y,{item:!0,xs:12,md:6,children:o.jsx(R,{fullWidth:!0,label:"Phone",value:c.phone||"",disabled:"view"===m,onChange:e=>d({...c,phone:e.target.value})})}),"pos"!==c.type&&o.jsx(y,{item:!0,xs:12,md:6,children:o.jsx(R,{fullWidth:!0,label:"Address",value:c.address?`${c.address.street||""}, ${c.address.city||""}, ${c.address.state||""}, ${c.address.pincode||""}, ${c.address.country||""}`:"",disabled:"view"===m,onChange:e=>d({...c,address:{...c.address,street:e.target.value}})})}),o.jsx(y,{item:!0,xs:12,md:4,children:o.jsx(R,{fullWidth:!0,label:"Total Orders",value:c.totalOrders||0,disabled:!0})}),o.jsx(y,{item:!0,xs:12,md:4,children:o.jsx(R,{fullWidth:!0,label:"Total Spent",value:`${(c.totalSpent||0).toLocaleString()}`,disabled:!0})}),o.jsx(y,{item:!0,xs:12,md:4,children:o.jsx(R,{fullWidth:!0,label:"Last Order",value:c.lastOrderDate?new Date(c.lastOrderDate).toLocaleDateString():"N/A",disabled:!0})}),"pos"===c.type&&c.isNew&&o.jsx(y,{item:!0,xs:12,children:o.jsx(M,{label:"New POS Customer",color:"primary",sx:{mt:1}})})]})}),o.jsxs(Ye,{children:[o.jsx(g,{onClick:()=>u(!1),children:"Close"}),"edit"===m&&o.jsx(g,{onClick:async()=>{if(c)try{console.log("Update customer:",c),u(!1),P()}catch(e){console.error("Error updating customer:",e)}},variant:"contained",color:"primary",children:"Save Changes"})]})]})]})},wE=()=>{const[e,t]=Ot.useState([]),[n,i]=Ot.useState(!1),[r,s]=Ot.useState(null),[a,l]=Ot.useState({name:"",description:"",image:""}),[c,d]=Ot.useState(null),[h,u]=Ot.useState(null);Ot.useEffect((()=>{m()}),[]);const m=async()=>{try{const[e,n]=await Promise.all([Tm(),wm()]),i=e.map((e=>{const t=n.filter((t=>t.categoryId===e.id)).length;return{...e,productCount:t}}));t(i)}catch(e){console.error("Error fetching categories:",e),ni.error("Failed to load categories")}},x=e=>(null==e?void 0:e.image)&&"string"==typeof e.image?mf(e.image,"categories"):mf("placeholder.jpg","categories");return o.jsxs(p,{children:[o.jsxs(p,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:3},children:[o.jsx(v,{variant:"h5",sx:{fontFamily:"Playfair Display, serif"},children:"Categories"}),o.jsx(g,{variant:"contained",startIcon:o.jsx(de,{}),onClick:()=>{s(null),l({name:"",description:"",image:""}),i(!0)},sx:{bgcolor:"#E31C79","&:hover":{bgcolor:"#d41a6b"}},children:"Add Category"})]}),o.jsx(y,{container:!0,spacing:3,children:e.map((e=>o.jsx(y,{item:!0,xs:12,sm:6,md:4,children:o.jsxs(O,{sx:{height:"100%"},children:[o.jsx(A,{component:"img",height:"140",image:x(e),alt:e.name}),o.jsxs(T,{children:[o.jsx(v,{gutterBottom:!0,variant:"h6",component:"div",children:e.name}),o.jsx(v,{variant:"body2",color:"text.secondary",sx:{mb:2},children:e.description}),o.jsxs(v,{variant:"body2",color:"text.secondary",children:[e.productCount," Products"]}),o.jsxs(p,{sx:{mt:2,display:"flex",justifyContent:"flex-end"},children:[o.jsx(f,{size:"small",onClick:()=>(e=>{s(e),l({name:e.name,description:e.description,image:e.image}),i(!0)})(e),sx:{color:"#E31C79"},children:o.jsx(tt,{})}),o.jsx(f,{size:"small",onClick:()=>(async e=>{if(!e||"string"!=typeof e)return u("Cannot delete category: Invalid ID"),void ni.error("Cannot delete category: Invalid ID");if(window.confirm("Are you sure you want to delete this category?"))try{await Fm(e),t((t=>t.filter((t=>t.id!==e)))),u(null),ni.success("Category deleted successfully")}catch(n){console.error("Error deleting category:",n),u("Failed to delete category"),ni.error("Failed to delete category")}})(e.id),sx:{color:"error.main"},children:o.jsx(qe,{})})]})]})]})},e.id)))}),o.jsxs(Ne,{open:n,onClose:()=>{i(!1),s(null),l({name:"",description:"",image:""}),c&&URL.revokeObjectURL(c),d(null)},maxWidth:"sm",fullWidth:!0,children:[o.jsx(Ve,{children:r?"Edit Category":"Add New Category"}),o.jsx($e,{children:o.jsxs(p,{sx:{pt:2},children:[o.jsx(R,{fullWidth:!0,label:"Category Name",value:a.name,onChange:e=>l({...a,name:e.target.value}),margin:"normal",sx:{mb:2}}),o.jsx(R,{fullWidth:!0,label:"Description",multiline:!0,rows:3,value:a.description,onChange:e=>l({...a,description:e.target.value}),margin:"normal",sx:{mb:2}}),o.jsxs(g,{variant:"outlined",component:"label",fullWidth:!0,sx:{mb:2},children:["Upload Category Image",o.jsx("input",{type:"file",accept:"image/*",onChange:async e=>{var t;const n=null==(t=e.target.files)?void 0:t[0];if(n)try{c&&URL.revokeObjectURL(c);const e=URL.createObjectURL(n);d(e),l((e=>({...e,image:n})))}catch(i){console.error("Error handling image:",i),u("Failed to handle image"),c&&URL.revokeObjectURL(c),d(null)}},style:{display:"none"},id:"category-image-upload"})]}),(c||(null==r?void 0:r.image))&&o.jsx(p,{sx:{mt:2},children:o.jsx("img",{src:c||((null==r?void 0:r.image)?mf(r.image,"categories"):""),alt:"Category Preview",style:{width:"100%",height:"auto",borderRadius:"4px"}})})]})}),o.jsxs(Ye,{children:[o.jsx(g,{onClick:()=>i(!1),children:"Cancel"}),o.jsx(g,{onClick:async e=>{if(e.preventDefault(),!a.name.trim())return u("Category name is required"),void ni.error("Category name is required");const n=ni.loading(r?"Updating category...":"Creating category...");try{let e;if(null==r?void 0:r.id){const t={name:a.name.trim(),description:a.description.trim(),image:r.image};if(e=await Rm(r.id,t),a.image instanceof File)try{const t=await Lm(r.id,a.image);(null==t?void 0:t.imageUrl)&&(e=await Rm(r.id,{...e,image:t.imageUrl}))}catch(s){console.error("Error uploading image:",s),u("Category updated but failed to upload new image"),ni.error("Category updated but failed to upload new image")}ni.update(n,{render:"Category updated successfully",type:"success",isLoading:!1,autoClose:3e3})}else{const t={name:a.name.trim(),description:a.description.trim(),image:"/images/categories/placeholder.jpg"};if(e=await Dm(t),(null==e?void 0:e.id)&&a.image instanceof File)try{const t=await Lm(e.id,a.image);(null==t?void 0:t.imageUrl)&&(e=await Rm(e.id,{...e,image:t.imageUrl}))}catch(s){console.error("Error uploading image:",s),u("Category created but failed to upload image"),ni.error("Category created but failed to upload image")}ni.update(n,{render:"Category created successfully",type:"success",isLoading:!1,autoClose:3e3})}t((t=>{const n=t.findIndex((t=>t.id===e.id));if(-1!==n){const i=[...t];return i[n]={...e,productCount:t[n].productCount},i}return[...t,{...e,productCount:0}]})),i(!1),u(null),l({name:"",description:"",image:""}),d(null)}catch(s){console.error("Error saving category:",s),u("Failed to save category"),ni.update(n,{render:"Failed to save category",type:"error",isLoading:!1,autoClose:3e3})}},variant:"contained",sx:{bgcolor:"#E31C79","&:hover":{bgcolor:"#d41a6b"}},children:"Save"})]})]})]})},SE={},CE=()=>{var e,t,n,i,r,s;const[a,l]=Ot.useState({store:{name:"",email:"",phone:"",address:"",logo:"",googleMapsLocation:""},email:{smtpHost:"",smtpPort:587,smtpUser:"",smtpPass:"",fromEmail:"",fromName:""},payment:{razorpayKeyId:"",razorpayKeySecret:""},offers:[]}),[c,d]=Ot.useState(!1),[h,u]=Ot.useState({id:"",name:"",label:"",image:"",coupon:"",description:"",discountType:"percentage",discountValue:0,discountPercentage:0,validFrom:"",validUntil:"",minOrderValue:0,maxDiscount:0,isAutomatic:!1,automaticSettings:{minOrderValue:0,minItems:0,applicableCategories:[],applicableProducts:[]}}),[m,x]=Ot.useState(-1),[b,j]=Ot.useState(!1),[w,S]=Ot.useState(null);Ot.useEffect((()=>{C()}),[]);const C=async()=>{try{const e=(await ps.get(`${Ds}/api/settings`)).data,t={store:e.store||{name:"",email:"",phone:"",address:"",logo:"",googleMapsLocation:""},email:e.email||{smtpHost:"",smtpPort:587,smtpUser:"",smtpPass:"",fromEmail:"",fromName:""},payment:e.payment||{razorpayKeyId:"",razorpayKeySecret:""},offers:Array.isArray(e.offers)?e.offers:[]};l(t)}catch(e){console.error("Error fetching settings:",e),S("Failed to load settings"),ni.error("Failed to load settings")}},_=(e,t,n)=>{l((i=>"offers"===e?{...i,offers:n}:{...i,[e]:{...i[e],[t]:n}}))},k=(e=-1)=>{e>=0?(u(a.offers[e]),x(e)):(u({id:"",name:"",label:"",image:"",coupon:"",description:"",discountType:"percentage",discountValue:0,discountPercentage:0,validFrom:"",validUntil:"",minOrderValue:0,maxDiscount:0,isAutomatic:!1,automaticSettings:{minOrderValue:0,minItems:0,applicableCategories:[],applicableProducts:[]}}),x(-1)),d(!0)},E=()=>{d(!1),u({id:"",name:"",label:"",image:"",coupon:"",description:"",discountType:"percentage",discountValue:0,discountPercentage:0,validFrom:"",validUntil:"",minOrderValue:0,maxDiscount:0,isAutomatic:!1,automaticSettings:{minOrderValue:0,minItems:0,applicableCategories:[],applicableProducts:[]}}),x(-1)},P=e=>{if(!e)return"";if(e.startsWith("http"))return e;let t=e;return t.includes("/api/")&&(t=t.replace("/api/","/")),t.endsWith(".jpeg")&&(t=t.replace(/\.jpeg$/,".jpg")),t.includes("/images/offers/")?`${Ds.replace(/\/api\/?$/,"")}${t}`:`${Ds.replace(/\/api\/?$/,"")}/images/offers/${t}`};return o.jsxs(p,{children:[o.jsx(v,{variant:"h5",sx:{fontFamily:"Playfair Display, serif",mb:3},children:"Settings"}),o.jsxs(y,{container:!0,spacing:3,children:[o.jsx(y,{item:!0,xs:12,md:6,children:o.jsx(O,{children:o.jsxs(T,{children:[o.jsxs(p,{sx:{display:"flex",alignItems:"center",mb:2},children:[o.jsx(rt,{sx:{mr:1,color:"#E31C79"}}),o.jsx(v,{variant:"h6",children:"Store Settings"})]}),o.jsxs(y,{container:!0,spacing:2,children:[o.jsx(y,{item:!0,xs:12,children:o.jsx(R,{fullWidth:!0,label:"Store Name",value:a.store.name,onChange:e=>_("store","name",e.target.value)})}),o.jsx(y,{item:!0,xs:12,children:o.jsx(R,{fullWidth:!0,label:"Email",value:a.store.email,onChange:e=>_("store","email",e.target.value)})}),o.jsx(y,{item:!0,xs:12,children:o.jsx(R,{fullWidth:!0,label:"Phone",value:a.store.phone,onChange:e=>_("store","phone",e.target.value)})}),o.jsx(y,{item:!0,xs:12,children:o.jsx(R,{fullWidth:!0,label:"Address",multiline:!0,rows:2,value:a.store.address,onChange:e=>_("store","address",e.target.value)})}),o.jsx(y,{item:!0,xs:12,children:o.jsx(R,{fullWidth:!0,label:"Google Maps Location",multiline:!0,rows:2,value:a.store.googleMapsLocation,onChange:e=>_("store","googleMapsLocation",e.target.value),helperText:"Paste the Google Maps embed code here"})})]})]})})}),o.jsx(y,{item:!0,xs:12,md:6,children:o.jsx(O,{children:o.jsxs(T,{children:[o.jsxs(p,{sx:{display:"flex",alignItems:"center",mb:2},children:[o.jsx(st,{sx:{mr:1,color:"#E31C79"}}),o.jsx(v,{variant:"h6",children:"Email Settings"})]}),o.jsxs(y,{container:!0,spacing:2,children:[o.jsx(y,{item:!0,xs:12,children:o.jsx(R,{fullWidth:!0,label:"SMTP Host",value:a.email.smtpHost,onChange:e=>_("email","smtpHost",e.target.value)})}),o.jsx(y,{item:!0,xs:6,children:o.jsx(R,{fullWidth:!0,label:"SMTP Port",type:"number",value:a.email.smtpPort,placeholder:"Enter SMTP port number",onChange:e=>_("email","smtpPort",parseInt(e.target.value))})}),o.jsx(y,{item:!0,xs:6,children:o.jsx(R,{fullWidth:!0,label:"SMTP User",value:a.email.smtpUser,onChange:e=>_("email","smtpUser",e.target.value)})}),o.jsx(y,{item:!0,xs:12,children:o.jsx(R,{fullWidth:!0,label:"SMTP Password",type:"password",value:a.email.smtpPass,onChange:e=>_("email","smtpPass",e.target.value)})})]})]})})}),o.jsx(y,{item:!0,xs:12,md:6,children:o.jsx(O,{children:o.jsxs(T,{children:[o.jsxs(p,{sx:{display:"flex",alignItems:"center",mb:2},children:[o.jsx(Ce,{sx:{mr:1,color:"#E31C79"}}),o.jsx(v,{variant:"h6",children:"Razorpay Settings"})]}),o.jsxs(y,{container:!0,spacing:2,children:[o.jsx(y,{item:!0,xs:12,children:o.jsx(R,{fullWidth:!0,label:"Razorpay Key ID",value:a.payment.razorpayKeyId,onChange:e=>_("payment","razorpayKeyId",e.target.value),helperText:"Enter your Razorpay Key ID from the Razorpay Dashboard"})}),o.jsx(y,{item:!0,xs:12,children:o.jsx(R,{fullWidth:!0,label:"Razorpay Key Secret",type:"password",value:a.payment.razorpayKeySecret,onChange:e=>_("payment","razorpayKeySecret",e.target.value),helperText:"Enter your Razorpay Key Secret from the Razorpay Dashboard"})})]})]})})}),o.jsx(y,{item:!0,xs:12,md:6,children:o.jsx(O,{children:o.jsxs(T,{children:[o.jsxs(p,{sx:{display:"flex",alignItems:"center",mb:2},children:[o.jsx(pe,{sx:{mr:1,color:"#E31C79"}}),o.jsx(v,{variant:"h6",children:"Offers"})]}),o.jsx(y,{container:!0,spacing:2,children:o.jsxs(y,{item:!0,xs:12,children:[o.jsx(g,{variant:"outlined",onClick:()=>k(),disabled:a.offers.length>=4,sx:{mb:2},children:"Add Offer"}),a.offers.map(((e,t)=>{var n,i,r,s;return o.jsxs(p,{sx:{mb:2,p:2,border:"1px solid #ddd",borderRadius:1},children:[o.jsxs(p,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:1},children:[o.jsx(v,{variant:"subtitle1",children:e.label}),o.jsxs(p,{children:[o.jsx(f,{size:"small",onClick:()=>k(t),children:o.jsx(tt,{})}),o.jsx(f,{size:"small",onClick:()=>(e=>{const t=a.offers.filter(((t,n)=>n!==e));_("offers","",t)})(t),children:o.jsx(qe,{})})]})]}),e.image&&o.jsx(p,{sx:{mb:1},children:o.jsx("img",{src:P(e.image),alt:e.label,style:{maxWidth:"100%",height:"auto"}})}),e.description&&o.jsx(v,{variant:"body2",sx:{mb:1},children:e.description}),e.isAutomatic?o.jsxs(p,{children:[o.jsx(v,{variant:"body2",color:"primary",children:"Automatic Offer"}),(null==(n=e.automaticSettings)?void 0:n.minOrderValue)&&e.automaticSettings.minOrderValue>0&&o.jsxs(v,{variant:"body2",children:["Min Order Value: ",e.automaticSettings.minOrderValue]}),(null==(i=e.automaticSettings)?void 0:i.minItems)&&e.automaticSettings.minItems>0&&o.jsxs(v,{variant:"body2",children:["Min Items: ",e.automaticSettings.minItems]}),(null==(r=e.automaticSettings)?void 0:r.applicableCategories)&&e.automaticSettings.applicableCategories.length>0&&o.jsxs(v,{variant:"body2",children:["Categories: ",e.automaticSettings.applicableCategories.join(", ")]}),(null==(s=e.automaticSettings)?void 0:s.applicableProducts)&&e.automaticSettings.applicableProducts.length>0&&o.jsxs(v,{variant:"body2",children:["Products: ",e.automaticSettings.applicableProducts.join(", ")]})]}):o.jsxs(v,{variant:"body2",children:["Coupon: ",e.coupon]}),e.discountPercentage&&o.jsxs(v,{variant:"body2",color:"primary",children:["Discount: ",e.discountPercentage,"%"]})]},t)}))]})})]})})})]}),o.jsx(p,{sx:{mt:3,display:"flex",justifyContent:"flex-end"},children:o.jsx(g,{variant:"contained",startIcon:o.jsx(ot,{}),onClick:async()=>{try{await ps.put(`${Ds}/api/settings`,a),j(!0),ni.success("Settings saved successfully")}catch(e){console.error("Error saving settings:",e),S("Failed to save settings"),ni.error("Failed to save settings")}},sx:{bgcolor:"#E31C79","&:hover":{bgcolor:"#d41a6b"}},children:"Save Settings"})}),o.jsx(Qe,{open:b,autoHideDuration:6e3,onClose:()=>j(!1),children:o.jsx(H,{severity:"success",sx:{width:"100%"},children:"Settings saved successfully"})}),o.jsx(Qe,{open:!!w,autoHideDuration:6e3,onClose:()=>S(null),children:o.jsx(H,{severity:"error",sx:{width:"100%"},children:w})}),o.jsxs(Ne,{open:c,onClose:E,maxWidth:"sm",fullWidth:!0,children:[o.jsx(Ve,{children:m>=0?"Edit Offer":"Add Offer"}),o.jsx($e,{children:o.jsxs(p,{sx:{pt:2},children:[o.jsx(R,{fullWidth:!0,label:"Offer Title",value:h.label,onChange:e=>u({...h,label:e.target.value}),sx:{mb:2}}),o.jsx(R,{fullWidth:!0,label:"Description",multiline:!0,rows:2,value:h.description,onChange:e=>u({...h,description:e.target.value}),sx:{mb:2}}),o.jsx(R,{fullWidth:!0,label:"Discount Percentage",type:"number",value:h.discountPercentage,placeholder:"Enter discount percentage",onChange:e=>u({...h,discountPercentage:Number(e.target.value)}),sx:{mb:2}}),o.jsxs(p,{sx:{mb:2},children:[o.jsx("input",{type:"file",accept:"image/*",onChange:async e=>{var t;const n=null==(t=e.target.files)?void 0:t[0];if(!n)return;const i=ni.loading("Uploading image...");try{const{settingsApi:e}=await function(e,t){let n=Promise.resolve();if(t&&t.length>0){document.getElementsByTagName("link");const e=document.querySelector("meta[property=csp-nonce]"),i=(null==e?void 0:e.nonce)||(null==e?void 0:e.getAttribute("nonce"));n=Promise.allSettled(t.map((e=>{if((e=function(e){return"/"+e}(e))in SE)return;SE[e]=!0;const t=e.endsWith(".css"),n=t?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${e}"]${n}`))return;const r=document.createElement("link");return r.rel=t?"stylesheet":"modulepreload",t||(r.as="script"),r.crossOrigin="",r.href=e,i&&r.setAttribute("nonce",i),document.head.appendChild(r),t?new Promise(((t,n)=>{r.addEventListener("load",t),r.addEventListener("error",(()=>n(new Error(`Unable to preload CSS for ${e}`))))})):void 0})))}function i(e){const t=new Event("vite:preloadError",{cancelable:!0});if(t.payload=e,window.dispatchEvent(t),!t.defaultPrevented)throw e}return n.then((t=>{for(const e of t||[])"rejected"===e.status&&i(e.reason);return e().catch(i)}))}((async()=>{const{settingsApi:e}=await Promise.resolve().then((()=>Ls));return{settingsApi:e}}),void 0);console.log("Uploading file:",{name:n.name,type:n.type,size:n.size});const t=await e.uploadOfferImage(n);console.log("Image uploaded successfully, path:",t),u({...h,image:t}),ni.update(i,{render:"Image uploaded successfully",type:"success",isLoading:!1,autoClose:3e3})}catch(r){console.error("Error uploading image:",r);let e="Failed to upload image. Please try again.";r.response?(e=`Server error: ${r.response.status} ${r.response.statusText}`,console.error("Error response:",r.response.data)):e=r.request?"No response from server. Please check your connection.":`Error: ${r.message||"Unknown error"}`,ni.update(i,{render:e,type:"error",isLoading:!1,autoClose:5e3})}},style:{display:"none"},id:"offer-image-upload"}),o.jsx("label",{htmlFor:"offer-image-upload",children:o.jsx(g,{variant:"outlined",component:"span",sx:{mb:1},children:"Upload Image"})}),h.image&&o.jsx(p,{sx:{mt:1},children:o.jsx("img",{src:P(h.image),alt:"Preview",style:{maxWidth:"100%",height:"auto"}})})]}),o.jsxs(p,{sx:{mb:2},children:[o.jsx(v,{variant:"subtitle1",sx:{mb:1},children:"Offer Type"}),o.jsxs(p,{sx:{display:"flex",gap:2},children:[o.jsx(g,{variant:h.isAutomatic?"contained":"outlined",onClick:()=>u({...h,isAutomatic:!0}),sx:{borderColor:"#E31C79",color:h.isAutomatic?"white":"#E31C79","&:hover":{borderColor:"#E31C79",backgroundColor:h.isAutomatic?"#d41a6b":"rgba(227, 28, 121, 0.04)"}},children:"Automatic Offer"}),o.jsx(g,{variant:h.isAutomatic?"outlined":"contained",onClick:()=>u({...h,isAutomatic:!1}),sx:{borderColor:"#E31C79",color:h.isAutomatic?"#E31C79":"white","&:hover":{borderColor:"#E31C79",backgroundColor:h.isAutomatic?"rgba(227, 28, 121, 0.04)":"#d41a6b"}},children:"Coupon Code"})]})]}),h.isAutomatic?o.jsxs(p,{sx:{mb:2},children:[o.jsx(v,{variant:"subtitle1",sx:{mb:1},children:"Automatic Offer Conditions"}),o.jsx(R,{fullWidth:!0,label:"Minimum Order Value",type:"number",value:(null==(e=h.automaticSettings)?void 0:e.minOrderValue)||"",placeholder:"Enter minimum order value",onChange:e=>u({...h,automaticSettings:{...h.automaticSettings,minOrderValue:Number(e.target.value)||0}}),sx:{mb:2}}),o.jsx(R,{fullWidth:!0,label:"Minimum Items",type:"number",value:(null==(t=h.automaticSettings)?void 0:t.minItems)||"",placeholder:"Enter minimum items",onChange:e=>u({...h,automaticSettings:{...h.automaticSettings,minItems:Number(e.target.value)||0}}),sx:{mb:2}}),o.jsx(R,{fullWidth:!0,label:"Applicable Categories (comma-separated)",value:(null==(i=null==(n=h.automaticSettings)?void 0:n.applicableCategories)?void 0:i.join(", "))||"",onChange:e=>u({...h,automaticSettings:{...h.automaticSettings,applicableCategories:e.target.value.split(",").map((e=>e.trim())).filter(Boolean)}}),sx:{mb:2}}),o.jsx(R,{fullWidth:!0,label:"Applicable Products (comma-separated)",value:(null==(s=null==(r=h.automaticSettings)?void 0:r.applicableProducts)?void 0:s.join(", "))||"",onChange:e=>u({...h,automaticSettings:{...h.automaticSettings,applicableProducts:e.target.value.split(",").map((e=>e.trim())).filter(Boolean)}}),sx:{mb:2}})]}):o.jsx(R,{fullWidth:!0,label:"Coupon Code",value:h.coupon,onChange:e=>u({...h,coupon:e.target.value}),sx:{mb:2}})]})}),o.jsxs(Ye,{children:[o.jsx(g,{onClick:E,children:"Cancel"}),o.jsx(g,{onClick:()=>{const e=[...a.offers];m>=0?e[m]=h:e.push(h),_("offers","",e),E()},variant:"contained",disabled:!h.label||!h.isAutomatic&&!h.coupon,sx:{bgcolor:"#E31C79","&:hover":{bgcolor:"#d41a6b"}},children:"Save"})]})]})]})};var _E={exports:{}};
/* @license
Papa Parse
v5.5.2
https://github.com/mholt/PapaParse
License: MIT
*/const kE=Lt(_E.exports=function e(){var t,n="undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==n?n:{},i=!n.document&&!!n.postMessage,r=n.IS_PAPA_WORKER||!1,s={},o=0,a={};function l(e){this._handle=null,this._finished=!1,this._completed=!1,this._halted=!1,this._input=null,this._baseIndex=0,this._partialLine="",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],meta:{}},function(e){var t=v(e);t.chunkSize=parseInt(t.chunkSize),e.step||e.chunk||(t.chunkSize=null),this._handle=new p(t),(this._handle.streamer=this)._config=t}.call(this,e),this.parseChunk=function(e,t){var i=parseInt(this._config.skipFirstNLines)||0;if(this.isFirstChunk&&0<i){let t=this._config.newline;t||(s=this._config.quoteChar||'"',t=this._handle.guessLineEndings(e,s)),e=[...e.split(t).slice(i)].join(t)}this.isFirstChunk&&j(this._config.beforeFirstChunk)&&void 0!==(s=this._config.beforeFirstChunk(e))&&(e=s),this.isFirstChunk=!1,this._halted=!1,i=this._partialLine+e;var s=(this._partialLine="",this._handle.parse(i,this._baseIndex,!this._finished));if(!this._handle.paused()&&!this._handle.aborted()){if(e=s.meta.cursor,this._finished||(this._partialLine=i.substring(e-this._baseIndex),this._baseIndex=e),s&&s.data&&(this._rowCount+=s.data.length),i=this._finished||this._config.preview&&this._rowCount>=this._config.preview,r)n.postMessage({results:s,workerId:a.WORKER_ID,finished:i});else if(j(this._config.chunk)&&!t){if(this._config.chunk(s,this._handle),this._handle.paused()||this._handle.aborted())return void(this._halted=!0);this._completeResults=s=void 0}return this._config.step||this._config.chunk||(this._completeResults.data=this._completeResults.data.concat(s.data),this._completeResults.errors=this._completeResults.errors.concat(s.errors),this._completeResults.meta=s.meta),this._completed||!i||!j(this._config.complete)||s&&s.meta.aborted||(this._config.complete(this._completeResults,this._input),this._completed=!0),i||s&&s.meta.paused||this._nextChunk(),s}this._halted=!0},this._sendError=function(e){j(this._config.error)?this._config.error(e):r&&this._config.error&&n.postMessage({workerId:a.WORKER_ID,error:e,finished:!1})}}function c(e){var t;(e=e||{}).chunkSize||(e.chunkSize=a.RemoteChunkSize),l.call(this,e),this._nextChunk=i?function(){this._readChunk(),this._chunkLoaded()}:function(){this._readChunk()},this.stream=function(e){this._input=e,this._nextChunk()},this._readChunk=function(){if(this._finished)this._chunkLoaded();else{if(t=new XMLHttpRequest,this._config.withCredentials&&(t.withCredentials=this._config.withCredentials),i||(t.onload=b(this._chunkLoaded,this),t.onerror=b(this._chunkError,this)),t.open(this._config.downloadRequestBody?"POST":"GET",this._input,!i),this._config.downloadRequestHeaders){var e,n=this._config.downloadRequestHeaders;for(e in n)t.setRequestHeader(e,n[e])}var r;this._config.chunkSize&&(r=this._start+this._config.chunkSize-1,t.setRequestHeader("Range","bytes="+this._start+"-"+r));try{t.send(this._config.downloadRequestBody)}catch(s){this._chunkError(s.message)}i&&0===t.status&&this._chunkError()}},this._chunkLoaded=function(){var e;4===t.readyState&&(t.status<200||400<=t.status?this._chunkError():(this._start+=this._config.chunkSize||t.responseText.length,this._finished=!this._config.chunkSize||this._start>=(null!==(e=(e=t).getResponseHeader("Content-Range"))?parseInt(e.substring(e.lastIndexOf("/")+1)):-1),this.parseChunk(t.responseText)))},this._chunkError=function(e){e=t.statusText||e,this._sendError(new Error(e))}}function d(e){(e=e||{}).chunkSize||(e.chunkSize=a.LocalChunkSize),l.call(this,e);var t,n,i="undefined"!=typeof FileReader;this.stream=function(e){this._input=e,n=e.slice||e.webkitSlice||e.mozSlice,i?((t=new FileReader).onload=b(this._chunkLoaded,this),t.onerror=b(this._chunkError,this)):t=new FileReaderSync,this._nextChunk()},this._nextChunk=function(){this._finished||this._config.preview&&!(this._rowCount<this._config.preview)||this._readChunk()},this._readChunk=function(){var e=this._input,r=(this._config.chunkSize&&(r=Math.min(this._start+this._config.chunkSize,this._input.size),e=n.call(e,this._start,r)),t.readAsText(e,this._config.encoding));i||this._chunkLoaded({target:{result:r}})},this._chunkLoaded=function(e){this._start+=this._config.chunkSize,this._finished=!this._config.chunkSize||this._start>=this._input.size,this.parseChunk(e.target.result)},this._chunkError=function(){this._sendError(t.error)}}function h(e){var t;l.call(this,e=e||{}),this.stream=function(e){return t=e,this._nextChunk()},this._nextChunk=function(){var e,n;if(!this._finished)return e=this._config.chunkSize,t=e?(n=t.substring(0,e),t.substring(e)):(n=t,""),this._finished=!t,this.parseChunk(n)}}function u(e){l.call(this,e=e||{});var t=[],n=!0,i=!1;this.pause=function(){l.prototype.pause.apply(this,arguments),this._input.pause()},this.resume=function(){l.prototype.resume.apply(this,arguments),this._input.resume()},this.stream=function(e){this._input=e,this._input.on("data",this._streamData),this._input.on("end",this._streamEnd),this._input.on("error",this._streamError)},this._checkIsFinished=function(){i&&1===t.length&&(this._finished=!0)},this._nextChunk=function(){this._checkIsFinished(),t.length?this.parseChunk(t.shift()):n=!0},this._streamData=b((function(e){try{t.push("string"==typeof e?e:e.toString(this._config.encoding)),n&&(n=!1,this._checkIsFinished(),this.parseChunk(t.shift()))}catch(i){this._streamError(i)}}),this),this._streamError=b((function(e){this._streamCleanUp(),this._sendError(e)}),this),this._streamEnd=b((function(){this._streamCleanUp(),i=!0,this._streamData("")}),this),this._streamCleanUp=b((function(){this._input.removeListener("data",this._streamData),this._input.removeListener("end",this._streamEnd),this._input.removeListener("error",this._streamError)}),this)}function p(e){var t,n,i,r,s=Math.pow(2,53),o=-s,l=/^\s*-?(\d+\.?|\.\d+|\d+\.\d+)([eE][-+]?\d+)?\s*$/,c=/^((\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z)))$/,d=this,h=0,u=0,p=!1,g=!1,x=[],y={data:[],errors:[],meta:{}};function b(t){return"greedy"===e.skipEmptyLines?""===t.join("").trim():1===t.length&&0===t[0].length}function w(){if(y&&i&&(C("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+a.DefaultDelimiter+"'"),i=!1),e.skipEmptyLines&&(y.data=y.data.filter((function(e){return!b(e)}))),S()){let n=function(t,n){j(e.transformHeader)&&(t=e.transformHeader(t,n)),x.push(t)};if(y)if(Array.isArray(y.data[0])){for(var t=0;S()&&t<y.data.length;t++)y.data[t].forEach(n);y.data.splice(0,1)}else y.data.forEach(n)}function n(t,n){for(var i=e.header?{}:[],r=0;r<t.length;r++){var a=r,d=t[r];h=a=e.header?r>=x.length?"__parsed_extra":x[r]:a,p=d=e.transform?e.transform(d,a):d,f=void 0,f=h,e.dynamicTypingFunction&&void 0===e.dynamicTyping[f]&&(e.dynamicTyping[f]=e.dynamicTypingFunction(f)),d=!0===(e.dynamicTyping[f]||e.dynamicTyping)?"true"===p||"TRUE"===p||"false"!==p&&"FALSE"!==p&&((e=>{if(l.test(e)&&(e=parseFloat(e),o<e&&e<s))return 1})(p)?parseFloat(p):c.test(p)?new Date(p):""===p?null:p):p,"__parsed_extra"===a?(i[a]=i[a]||[],i[a].push(d)):i[a]=d}var h,p,f;return e.header&&(r>x.length?C("FieldMismatch","TooManyFields","Too many fields: expected "+x.length+" fields but parsed "+r,u+n):r<x.length&&C("FieldMismatch","TooFewFields","Too few fields: expected "+x.length+" fields but parsed "+r,u+n)),i}var r;y&&(e.header||e.dynamicTyping||e.transform)&&(r=1,!y.data.length||Array.isArray(y.data[0])?(y.data=y.data.map(n),r=y.data.length):y.data=n(y.data,0),e.header&&y.meta&&(y.meta.fields=x),u+=r)}function S(){return e.header&&0===x.length}function C(e,t,n,i){e={type:e,code:t,message:n},void 0!==i&&(e.row=i),y.errors.push(e)}j(e.step)&&(r=e.step,e.step=function(t){y=t,S()?w():(w(),0!==y.data.length&&(h+=t.data.length,e.preview&&h>e.preview?n.abort():(y.data=y.data[0],r(y,d))))}),this.parse=function(r,s,o){var l=e.quoteChar||'"';return e.newline||(e.newline=this.guessLineEndings(r,l)),i=!1,e.delimiter?j(e.delimiter)&&(e.delimiter=e.delimiter(r),y.meta.delimiter=e.delimiter):((l=((t,n,i,r,s)=>{var o,l,c,d;s=s||[",","\t","|",";",a.RECORD_SEP,a.UNIT_SEP];for(var h=0;h<s.length;h++){for(var u,p=s[h],f=0,g=0,x=0,y=(c=void 0,new m({comments:r,delimiter:p,newline:n,preview:10}).parse(t)),v=0;v<y.data.length;v++)i&&b(y.data[v])?x++:(g+=u=y.data[v].length,void 0===c?c=u:0<u&&(f+=Math.abs(u-c),c=u));0<y.data.length&&(g/=y.data.length-x),(void 0===l||f<=l)&&(void 0===d||d<g)&&1.99<g&&(l=f,o=p,d=g)}return{successful:!!(e.delimiter=o),bestDelimiter:o}})(r,e.newline,e.skipEmptyLines,e.comments,e.delimitersToGuess)).successful?e.delimiter=l.bestDelimiter:(i=!0,e.delimiter=a.DefaultDelimiter),y.meta.delimiter=e.delimiter),l=v(e),e.preview&&e.header&&l.preview++,t=r,n=new m(l),y=n.parse(t,s,o),w(),p?{meta:{paused:!0}}:y||{meta:{paused:!1}}},this.paused=function(){return p},this.pause=function(){p=!0,n.abort(),t=j(e.chunk)?"":t.substring(n.getCharIndex())},this.resume=function(){d.streamer._halted?(p=!1,d.streamer.parseChunk(t,!0)):setTimeout(d.resume,3)},this.aborted=function(){return g},this.abort=function(){g=!0,n.abort(),y.meta.aborted=!0,j(e.complete)&&e.complete(y),t=""},this.guessLineEndings=function(e,t){e=e.substring(0,1048576),t=new RegExp(f(t)+"([^]*?)"+f(t),"gm");var n=(e=e.replace(t,"")).split("\r");if(e=1<(t=e.split("\n")).length&&t[0].length<n[0].length,1===n.length||e)return"\n";for(var i=0,r=0;r<n.length;r++)"\n"===n[r][0]&&i++;return i>=n.length/2?"\r\n":"\r"}}function f(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function m(e){var t=(e=e||{}).delimiter,n=e.newline,i=e.comments,r=e.step,s=e.preview,o=e.fastMode,l=null,c=!1,d=null==e.quoteChar?'"':e.quoteChar,h=d;if(void 0!==e.escapeChar&&(h=e.escapeChar),("string"!=typeof t||-1<a.BAD_DELIMITERS.indexOf(t))&&(t=","),i===t)throw new Error("Comment character same as delimiter");!0===i?i="#":("string"!=typeof i||-1<a.BAD_DELIMITERS.indexOf(i))&&(i=!1),"\n"!==n&&"\r"!==n&&"\r\n"!==n&&(n="\n");var u=0,p=!1;this.parse=function(a,m,g){if("string"!=typeof a)throw new Error("Input must be a string");var x=a.length,y=t.length,v=n.length,b=i.length,w=j(r),S=[],C=[],_=[],k=u=0;if(!a)return z();if(o||!1!==o&&-1===a.indexOf(d)){for(var E=a.split(n),P=0;P<E.length;P++){if(_=E[P],u+=_.length,P!==E.length-1)u+=n.length;else if(g)return z();if(!i||_.substring(0,b)!==i){if(w){if(S=[],D(_.split(t)),B(),p)return z()}else D(_.split(t));if(s&&s<=P)return S=S.slice(0,s),z(!0)}}return z()}for(var O=a.indexOf(t,u),M=a.indexOf(n,u),A=new RegExp(f(h)+f(d),"g"),T=a.indexOf(d,u);;)if(a[u]===d)for(T=u,u++;;){if(-1===(T=a.indexOf(d,T+1)))return g||C.push({type:"Quotes",code:"MissingQuotes",message:"Quoted field unterminated",row:S.length,index:u}),F();if(T===x-1)return F(a.substring(u,T).replace(A,d));if(d===h&&a[T+1]===h)T++;else if(d===h||0===T||a[T-1]!==h){-1!==O&&O<T+1&&(O=a.indexOf(t,T+1));var I=R(-1===(M=-1!==M&&M<T+1?a.indexOf(n,T+1):M)?O:Math.min(O,M));if(a.substr(T+1+I,y)===t){_.push(a.substring(u,T).replace(A,d)),a[u=T+1+I+y]!==d&&(T=a.indexOf(d,u)),O=a.indexOf(t,u),M=a.indexOf(n,u);break}if(I=R(M),a.substring(T+1+I,T+1+I+v)===n){if(_.push(a.substring(u,T).replace(A,d)),L(T+1+I+v),O=a.indexOf(t,u),T=a.indexOf(d,u),w&&(B(),p))return z();if(s&&S.length>=s)return z(!0);break}C.push({type:"Quotes",code:"InvalidQuotes",message:"Trailing quote on quoted field is malformed",row:S.length,index:u}),T++}}else if(i&&0===_.length&&a.substring(u,u+b)===i){if(-1===M)return z();u=M+v,M=a.indexOf(n,u),O=a.indexOf(t,u)}else if(-1!==O&&(O<M||-1===M))_.push(a.substring(u,O)),u=O+y,O=a.indexOf(t,u);else{if(-1===M)break;if(_.push(a.substring(u,M)),L(M+v),w&&(B(),p))return z();if(s&&S.length>=s)return z(!0)}return F();function D(e){S.push(e),k=u}function R(e){var t=0;return-1!==e&&(e=a.substring(T+1,e))&&""===e.trim()?e.length:t}function F(e){return g||(void 0===e&&(e=a.substring(u)),_.push(e),u=x,D(_),w&&B()),z()}function L(e){u=e,D(_),_=[],M=a.indexOf(n,u)}function z(i){if(e.header&&!m&&S.length&&!c){var r=S[0],s={},o=new Set(r);let t=!1;for(let n=0;n<r.length;n++){let i=r[n];if(s[i=j(e.transformHeader)?e.transformHeader(i,n):i]){let e,a=s[i];for(;e=i+"_"+a,a++,o.has(e););o.add(e),r[n]=e,s[i]++,t=!0,(l=null===l?{}:l)[e]=i}else s[i]=1,r[n]=i;o.add(i)}t&&console.warn("Duplicate headers found and renamed."),c=!0}return{data:S,errors:C,meta:{delimiter:t,linebreak:n,aborted:p,truncated:!!i,cursor:k+(m||0),renamedHeaders:l}}}function B(){r(z()),S=[],C=[]}},this.abort=function(){p=!0},this.getCharIndex=function(){return u}}function g(e){var t=e.data,n=s[t.workerId],i=!1;if(t.error)n.userError(t.error,t.file);else if(t.results&&t.results.data){var r={abort:function(){i=!0,x(t.workerId,{data:[],errors:[],meta:{aborted:!0}})},pause:y,resume:y};if(j(n.userStep)){for(var o=0;o<t.results.data.length&&(n.userStep({data:t.results.data[o],errors:t.results.errors,meta:t.results.meta},r),!i);o++);delete t.results}else j(n.userChunk)&&(n.userChunk(t.results,r,t.file),delete t.results)}t.finished&&!i&&x(t.workerId,t.results)}function x(e,t){var n=s[e];j(n.userComplete)&&n.userComplete(t),n.terminate(),delete s[e]}function y(){throw new Error("Not implemented.")}function v(e){if("object"!=typeof e||null===e)return e;var t,n=Array.isArray(e)?[]:{};for(t in e)n[t]=v(e[t]);return n}function b(e,t){return function(){e.apply(t,arguments)}}function j(e){return"function"==typeof e}return a.parse=function(t,i){var r,l=(i=i||{}).dynamicTyping||!1;if(j(l)&&(i.dynamicTypingFunction=l,l={}),i.dynamicTyping=l,i.transform=!!j(i.transform)&&i.transform,!i.worker||!a.WORKERS_SUPPORTED)return l=null,a.NODE_STREAM_INPUT,"string"==typeof t?(t=65279!==(r=t).charCodeAt(0)?r:r.slice(1),l=new(i.download?c:h)(i)):!0===t.readable&&j(t.read)&&j(t.on)?l=new u(i):(n.File&&t instanceof File||t instanceof Object)&&(l=new d(i)),l.stream(t);(l=(()=>{var t,i,r;return!!a.WORKERS_SUPPORTED&&(i=n.URL||n.webkitURL||null,r=e.toString(),t=a.BLOB_URL||(a.BLOB_URL=i.createObjectURL(new Blob(["var global = (function() { if (typeof self !== 'undefined') { return self; } if (typeof window !== 'undefined') { return window; } if (typeof global !== 'undefined') { return global; } return {}; })(); global.IS_PAPA_WORKER=true; ","(",r,")();"],{type:"text/javascript"}))),(t=new n.Worker(t)).onmessage=g,t.id=o++,s[t.id]=t)})()).userStep=i.step,l.userChunk=i.chunk,l.userComplete=i.complete,l.userError=i.error,i.step=j(i.step),i.chunk=j(i.chunk),i.complete=j(i.complete),i.error=j(i.error),delete i.worker,l.postMessage({input:t,config:i,workerId:l.id})},a.unparse=function(e,t){var n=!1,i=!0,r=",",s="\r\n",o='"',l=o+o,c=!1,d=null,h=!1,u=((()=>{if("object"==typeof t){if("string"!=typeof t.delimiter||a.BAD_DELIMITERS.filter((function(e){return-1!==t.delimiter.indexOf(e)})).length||(r=t.delimiter),"boolean"!=typeof t.quotes&&"function"!=typeof t.quotes&&!Array.isArray(t.quotes)||(n=t.quotes),"boolean"!=typeof t.skipEmptyLines&&"string"!=typeof t.skipEmptyLines||(c=t.skipEmptyLines),"string"==typeof t.newline&&(s=t.newline),"string"==typeof t.quoteChar&&(o=t.quoteChar),"boolean"==typeof t.header&&(i=t.header),Array.isArray(t.columns)){if(0===t.columns.length)throw new Error("Option columns is empty");d=t.columns}void 0!==t.escapeChar&&(l=t.escapeChar+o),t.escapeFormulae instanceof RegExp?h=t.escapeFormulae:"boolean"==typeof t.escapeFormulae&&t.escapeFormulae&&(h=/^[=+\-@\t\r].*$/)}})(),new RegExp(f(o),"g"));if("string"==typeof e&&(e=JSON.parse(e)),Array.isArray(e)){if(!e.length||Array.isArray(e[0]))return p(null,e,c);if("object"==typeof e[0])return p(d||Object.keys(e[0]),e,c)}else if("object"==typeof e)return"string"==typeof e.data&&(e.data=JSON.parse(e.data)),Array.isArray(e.data)&&(e.fields||(e.fields=e.meta&&e.meta.fields||d),e.fields||(e.fields=Array.isArray(e.data[0])?e.fields:"object"==typeof e.data[0]?Object.keys(e.data[0]):[]),Array.isArray(e.data[0])||"object"==typeof e.data[0]||(e.data=[e.data])),p(e.fields||[],e.data||[],c);throw new Error("Unable to serialize unrecognized input");function p(e,t,n){var o="",a=("string"==typeof e&&(e=JSON.parse(e)),"string"==typeof t&&(t=JSON.parse(t)),Array.isArray(e)&&0<e.length),l=!Array.isArray(t[0]);if(a&&i){for(var c=0;c<e.length;c++)0<c&&(o+=r),o+=m(e[c],c);0<t.length&&(o+=s)}for(var d=0;d<t.length;d++){var h=(a?e:t[d]).length,u=!1,p=a?0===Object.keys(t[d]).length:0===t[d].length;if(n&&!a&&(u="greedy"===n?""===t[d].join("").trim():1===t[d].length&&0===t[d][0].length),"greedy"===n&&a){for(var f=[],g=0;g<h;g++){var x=l?e[g]:g;f.push(t[d][x])}u=""===f.join("").trim()}if(!u){for(var y=0;y<h;y++){0<y&&!p&&(o+=r);var v=a&&l?e[y]:y;o+=m(t[d][v],y)}d<t.length-1&&(!n||0<h&&!p)&&(o+=s)}}return o}function m(e,t){var i,s;return null==e?"":e.constructor===Date?JSON.stringify(e).slice(1,25):(s=!1,h&&"string"==typeof e&&h.test(e)&&(e="'"+e,s=!0),i=e.toString().replace(u,l),(s=s||!0===n||"function"==typeof n&&n(e,t)||Array.isArray(n)&&n[t]||((e,t)=>{for(var n=0;n<t.length;n++)if(-1<e.indexOf(t[n]))return!0;return!1})(i,a.BAD_DELIMITERS)||-1<i.indexOf(r)||" "===i.charAt(0)||" "===i.charAt(i.length-1))?o+i+o:i)}},a.RECORD_SEP=String.fromCharCode(30),a.UNIT_SEP=String.fromCharCode(31),a.BYTE_ORDER_MARK="\ufeff",a.BAD_DELIMITERS=["\r","\n",'"',a.BYTE_ORDER_MARK],a.WORKERS_SUPPORTED=!i&&!!n.Worker,a.NODE_STREAM_INPUT=1,a.LocalChunkSize=10485760,a.RemoteChunkSize=5242880,a.DefaultDelimiter=",",a.Parser=m,a.ParserHandle=p,a.NetworkStreamer=c,a.FileStreamer=d,a.StringStreamer=h,a.ReadableStreamStreamer=u,n.jQuery&&((t=n.jQuery).fn.parse=function(e){var i=e.config||{},r=[];return this.each((function(e){if("INPUT"!==t(this).prop("tagName").toUpperCase()||"file"!==t(this).attr("type").toLowerCase()||!n.FileReader||!this.files||0===this.files.length)return!0;for(var s=0;s<this.files.length;s++)r.push({file:this.files[s],inputElem:this,instanceConfig:t.extend({},i)})})),s(),this;function s(){if(0===r.length)j(e.complete)&&e.complete();else{var n,i,s,l,c=r[0];if(j(e.before)){var d=e.before(c.file,c.inputElem);if("object"==typeof d){if("abort"===d.action)return n="AbortError",i=c.file,s=c.inputElem,l=d.reason,void(j(e.error)&&e.error({name:n},i,s,l));if("skip"===d.action)return void o();"object"==typeof d.config&&(c.instanceConfig=t.extend(c.instanceConfig,d.config))}else if("skip"===d)return void o()}var h=c.instanceConfig.complete;c.instanceConfig.complete=function(e){j(h)&&h(e,c.file,c.inputElem),o()},a.parse(c.file,c.instanceConfig)}}function o(){r.splice(0,1),s()}}),r&&(n.onmessage=function(e){e=e.data,void 0===a.WORKER_ID&&e&&(a.WORKER_ID=e.workerId),"string"==typeof e.input?n.postMessage({workerId:a.WORKER_ID,results:a.parse(e.input,e.config),finished:!0}):(n.File&&e.input instanceof File||e.input instanceof Object)&&(e=a.parse(e.input,e.config))&&n.postMessage({workerId:a.WORKER_ID,results:e,finished:!0})}),(c.prototype=Object.create(l.prototype)).constructor=c,(d.prototype=Object.create(l.prototype)).constructor=d,(h.prototype=Object.create(h.prototype)).constructor=h,(u.prototype=Object.create(l.prototype)).constructor=u,a}());var EE={},PE={},OE={};Object.defineProperty(OE,"__esModule",{value:!0});OE.default=function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.data=t,this.text=n.text||t,this.options=n},Object.defineProperty(PE,"__esModule",{value:!0}),PE.CODE39=void 0;var ME,AE=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),TE=(ME=OE)&&ME.__esModule?ME:{default:ME};var IE=function(){function e(t,n){var i;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),t=t.toUpperCase(),n.mod43&&(t+=(i=function(e){for(var t=0,n=0;n<e.length;n++)t+=LE(e[n]);return t%=43}(t),DE[i])),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(e,TE.default),AE(e,[{key:"encode",value:function(){for(var e=FE("*"),t=0;t<this.data.length;t++)e+=FE(this.data[t])+"0";return{data:e+=FE("*"),text:this.text}}},{key:"valid",value:function(){return-1!==this.data.search(/^[0-9A-Z\-\.\ \$\/\+\%]+$/)}}]),e}(),DE=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","-","."," ","$","/","+","%","*"],RE=[20957,29783,23639,30485,20951,29813,23669,20855,29789,23645,29975,23831,30533,22295,30149,24005,21623,29981,23837,22301,30023,23879,30545,22343,30161,24017,21959,30065,23921,22385,29015,18263,29141,17879,29045,18293,17783,29021,18269,17477,17489,17681,20753,35770];function FE(e){return t=LE(e),RE[t].toString(2);var t}function LE(e){return DE.indexOf(e)}PE.CODE39=IE;var zE,BE={},WE={},NE={},VE={};function $E(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Object.defineProperty(VE,"__esModule",{value:!0});var UE=VE.SET_A=0,HE=VE.SET_B=1,qE=VE.SET_C=2;VE.SHIFT=98;var YE=VE.START_A=103,GE=VE.START_B=104,XE=VE.START_C=105;VE.MODULO=103,VE.STOP=106,VE.FNC1=207,VE.SET_BY_CODE=($E(zE={},YE,UE),$E(zE,GE,HE),$E(zE,XE,qE),zE),VE.SWAP={101:UE,100:HE,99:qE},VE.A_START_CHAR=String.fromCharCode(208),VE.B_START_CHAR=String.fromCharCode(209),VE.C_START_CHAR=String.fromCharCode(210),VE.A_CHARS="[\0-_-]",VE.B_CHARS="[ --]",VE.C_CHARS="(*[0-9]{2}*)",VE.BARS=[11011001100,11001101100,11001100110,10010011e3,10010001100,10001001100,10011001e3,10011000100,10001100100,11001001e3,11001000100,11000100100,10110011100,10011011100,10011001110,10111001100,10011101100,10011100110,11001110010,11001011100,11001001110,11011100100,11001110100,11101101110,11101001100,11100101100,11100100110,11101100100,11100110100,11100110010,11011011e3,11011000110,11000110110,10100011e3,10001011e3,10001000110,10110001e3,10001101e3,10001100010,11010001e3,11000101e3,11000100010,10110111e3,10110001110,10001101110,10111011e3,10111000110,10001110110,11101110110,11010001110,11000101110,11011101e3,11011100010,11011101110,11101011e3,11101000110,11100010110,11101101e3,11101100010,11100011010,11101111010,11001000010,11110001010,1010011e4,10100001100,1001011e4,10010000110,10000101100,10000100110,1011001e4,10110000100,1001101e4,10011000010,10000110100,10000110010,11000010010,1100101e4,11110111010,11000010100,10001111010,10100111100,10010111100,10010011110,10111100100,10011110100,10011110010,11110100100,11110010100,11110010010,11011011110,11011110110,11110110110,10101111e3,10100011110,10001011110,10111101e3,10111100010,11110101e3,11110100010,10111011110,10111101110,11101011110,11110101110,11010000100,1101001e4,11010011100,1100011101011],Object.defineProperty(NE,"__esModule",{value:!0});var KE=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),JE=function(e){return e&&e.__esModule?e:{default:e}}(OE),QE=VE;var ZE=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);var i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t.substring(1),n));return i.bytes=t.split("").map((function(e){return e.charCodeAt(0)})),i}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(e,JE.default),KE(e,[{key:"valid",value:function(){return/^[\x00-\x7F\xC8-\xD3]+$/.test(this.data)}},{key:"encode",value:function(){var t=this.bytes,n=t.shift()-105,i=QE.SET_BY_CODE[n];if(void 0===i)throw new RangeError("The encoding does not start with a start character.");!0===this.shouldEncodeAsEan128()&&t.unshift(QE.FNC1);var r=e.next(t,1,i);return{text:this.text===this.data?this.text.replace(/[^\x20-\x7E]/g,""):this.text,data:e.getBar(n)+r.result+e.getBar((r.checksum+n)%QE.MODULO)+e.getBar(QE.STOP)}}},{key:"shouldEncodeAsEan128",value:function(){var e=this.options.ean128||!1;return"string"==typeof e&&(e="true"===e.toLowerCase()),e}}],[{key:"getBar",value:function(e){return QE.BARS[e]?QE.BARS[e].toString():""}},{key:"correctIndex",value:function(e,t){if(t===QE.SET_A){var n=e.shift();return n<32?n+64:n-32}return t===QE.SET_B?e.shift()-32:10*(e.shift()-48)+e.shift()-48}},{key:"next",value:function(t,n,i){if(!t.length)return{result:"",checksum:0};var r=void 0,s=void 0;if(t[0]>=200){s=t.shift()-105;var o=QE.SWAP[s];void 0!==o?r=e.next(t,n+1,o):(i!==QE.SET_A&&i!==QE.SET_B||s!==QE.SHIFT||(t[0]=i===QE.SET_A?t[0]>95?t[0]-96:t[0]:t[0]<32?t[0]+96:t[0]),r=e.next(t,n+1,i))}else s=e.correctIndex(t,i),r=e.next(t,n+1,i);var a=s*n;return{result:e.getBar(s)+r.result,checksum:a+r.checksum}}}]),e}();NE.default=ZE;var eP={};Object.defineProperty(eP,"__esModule",{value:!0});var tP=VE,nP=function(e){return e.match(new RegExp("^"+tP.A_CHARS+"*"))[0].length},iP=function(e){return e.match(new RegExp("^"+tP.B_CHARS+"*"))[0].length},rP=function(e){return e.match(new RegExp("^"+tP.C_CHARS+"*"))[0]};function sP(e,t){var n=t?tP.A_CHARS:tP.B_CHARS,i=e.match(new RegExp("^("+n+"+?)(([0-9]{2}){2,})([^0-9]|$)"));if(i)return i[1]+String.fromCharCode(204)+oP(e.substring(i[1].length));var r=e.match(new RegExp("^"+n+"+"))[0];return r.length===e.length?e:r+String.fromCharCode(t?205:206)+sP(e.substring(r.length),!t)}function oP(e){var t=rP(e),n=t.length;if(n===e.length)return e;e=e.substring(n);var i=nP(e)>=iP(e);return t+String.fromCharCode(i?206:205)+sP(e,i)}eP.default=function(e){var t=void 0;if(rP(e).length>=2)t=tP.C_START_CHAR+oP(e);else{var n=nP(e)>iP(e);t=(n?tP.A_START_CHAR:tP.B_START_CHAR)+sP(e,n)}return t.replace(/[\xCD\xCE]([^])[\xCD\xCE]/,(function(e,t){return String.fromCharCode(203)+t}))},Object.defineProperty(WE,"__esModule",{value:!0});var aP=cP(NE),lP=cP(eP);function cP(e){return e&&e.__esModule?e:{default:e}}function dP(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var hP=function(){function e(t,n){if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),/^[\x00-\x7F\xC8-\xD3]+$/.test(t))var i=dP(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,(0,lP.default)(t),n));else i=dP(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n));return dP(i)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(e,aP.default),e}();WE.default=hP;var uP={};Object.defineProperty(uP,"__esModule",{value:!0});var pP=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),fP=function(e){return e&&e.__esModule?e:{default:e}}(NE),mP=VE;var gP=function(){function e(t,n){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,mP.A_START_CHAR+t,n))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(e,fP.default),pP(e,[{key:"valid",value:function(){return new RegExp("^"+mP.A_CHARS+"+$").test(this.data)}}]),e}();uP.default=gP;var xP={};Object.defineProperty(xP,"__esModule",{value:!0});var yP=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),vP=function(e){return e&&e.__esModule?e:{default:e}}(NE),bP=VE;var jP=function(){function e(t,n){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,bP.B_START_CHAR+t,n))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(e,vP.default),yP(e,[{key:"valid",value:function(){return new RegExp("^"+bP.B_CHARS+"+$").test(this.data)}}]),e}();xP.default=jP;var wP={};Object.defineProperty(wP,"__esModule",{value:!0});var SP=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),CP=function(e){return e&&e.__esModule?e:{default:e}}(NE),_P=VE;var kP=function(){function e(t,n){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,_P.C_START_CHAR+t,n))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(e,CP.default),SP(e,[{key:"valid",value:function(){return new RegExp("^"+_P.C_CHARS+"+$").test(this.data)}}]),e}();wP.default=kP,Object.defineProperty(BE,"__esModule",{value:!0}),BE.CODE128C=BE.CODE128B=BE.CODE128A=BE.CODE128=void 0;var EP=AP(WE),PP=AP(uP),OP=AP(xP),MP=AP(wP);function AP(e){return e&&e.__esModule?e:{default:e}}BE.CODE128=EP.default,BE.CODE128A=PP.default,BE.CODE128B=OP.default,BE.CODE128C=MP.default;var TP={},IP={},DP={};Object.defineProperty(DP,"__esModule",{value:!0}),DP.SIDE_BIN="101",DP.MIDDLE_BIN="01010",DP.BINARIES={L:["0001101","0011001","0010011","0111101","0100011","0110001","0101111","0111011","0110111","0001011"],G:["0100111","0110011","0011011","0100001","0011101","0111001","0000101","0010001","0001001","0010111"],R:["1110010","1100110","1101100","1000010","1011100","1001110","1010000","1000100","1001000","1110100"],O:["0001101","0011001","0010011","0111101","0100011","0110001","0101111","0111011","0110111","0001011"],E:["0100111","0110011","0011011","0100001","0011101","0111001","0000101","0010001","0001001","0010111"]},DP.EAN2_STRUCTURE=["LL","LG","GL","GG"],DP.EAN5_STRUCTURE=["GGLLL","GLGLL","GLLGL","GLLLG","LGGLL","LLGGL","LLLGG","LGLGL","LGLLG","LLGLG"],DP.EAN13_STRUCTURE=["LLLLLL","LLGLGG","LLGGLG","LLGGGL","LGLLGG","LGGLLG","LGGGLL","LGLGLG","LGLGGL","LGGLGL"];var RP={},FP={};Object.defineProperty(FP,"__esModule",{value:!0});var LP=DP;FP.default=function(e,t,n){var i=e.split("").map((function(e,n){return LP.BINARIES[t[n]]})).map((function(t,n){return t?t[e[n]]:""}));if(n){var r=e.length-1;i=i.map((function(e,t){return t<r?e+n:e}))}return i.join("")},Object.defineProperty(RP,"__esModule",{value:!0});var zP=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),BP=DP,WP=VP(FP),NP=VP(OE);function VP(e){return e&&e.__esModule?e:{default:e}}var $P=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);var i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n));return i.fontSize=!n.flat&&n.fontSize>10*n.width?10*n.width:n.fontSize,i.guardHeight=n.height+i.fontSize/2+n.textMargin,i}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(e,NP.default),zP(e,[{key:"encode",value:function(){return this.options.flat?this.encodeFlat():this.encodeGuarded()}},{key:"leftText",value:function(e,t){return this.text.substr(e,t)}},{key:"leftEncode",value:function(e,t){return(0,WP.default)(e,t)}},{key:"rightText",value:function(e,t){return this.text.substr(e,t)}},{key:"rightEncode",value:function(e,t){return(0,WP.default)(e,t)}},{key:"encodeGuarded",value:function(){var e={fontSize:this.fontSize},t={height:this.guardHeight};return[{data:BP.SIDE_BIN,options:t},{data:this.leftEncode(),text:this.leftText(),options:e},{data:BP.MIDDLE_BIN,options:t},{data:this.rightEncode(),text:this.rightText(),options:e},{data:BP.SIDE_BIN,options:t}]}},{key:"encodeFlat",value:function(){return{data:[BP.SIDE_BIN,this.leftEncode(),BP.MIDDLE_BIN,this.rightEncode(),BP.SIDE_BIN].join(""),text:this.text}}}]),e}();RP.default=$P,Object.defineProperty(IP,"__esModule",{value:!0});var UP=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),HP=function e(t,n,i){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var s=Object.getPrototypeOf(t);return null===s?void 0:e(s,n,i)}if("value"in r)return r.value;var o=r.get;return void 0!==o?o.call(i):void 0},qP=DP,YP=function(e){return e&&e.__esModule?e:{default:e}}(RP);var GP=function(e){return(10-e.substr(0,12).split("").map((function(e){return+e})).reduce((function(e,t,n){return n%2?e+3*t:e+t}),0)%10)%10},XP=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),-1!==t.search(/^[0-9]{12}$/)&&(t+=GP(t));var i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n));return i.lastChar=n.lastChar,i}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(e,YP.default),UP(e,[{key:"valid",value:function(){return-1!==this.data.search(/^[0-9]{13}$/)&&+this.data[12]===GP(this.data)}},{key:"leftText",value:function(){return HP(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"leftText",this).call(this,1,6)}},{key:"leftEncode",value:function(){var t=this.data.substr(1,6),n=qP.EAN13_STRUCTURE[this.data[0]];return HP(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"leftEncode",this).call(this,t,n)}},{key:"rightText",value:function(){return HP(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"rightText",this).call(this,7,6)}},{key:"rightEncode",value:function(){var t=this.data.substr(7,6);return HP(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"rightEncode",this).call(this,t,"RRRRRR")}},{key:"encodeGuarded",value:function(){var t=HP(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"encodeGuarded",this).call(this);return this.options.displayValue&&(t.unshift({data:"000000000000",text:this.text.substr(0,1),options:{textAlign:"left",fontSize:this.fontSize}}),this.options.lastChar&&(t.push({data:"00"}),t.push({data:"00000",text:this.options.lastChar,options:{fontSize:this.fontSize}}))),t}}]),e}();IP.default=XP;var KP={};Object.defineProperty(KP,"__esModule",{value:!0});var JP=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),QP=function e(t,n,i){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var s=Object.getPrototypeOf(t);return null===s?void 0:e(s,n,i)}if("value"in r)return r.value;var o=r.get;return void 0!==o?o.call(i):void 0},ZP=function(e){return e&&e.__esModule?e:{default:e}}(RP);var eO=function(e){return(10-e.substr(0,7).split("").map((function(e){return+e})).reduce((function(e,t,n){return n%2?e+t:e+3*t}),0)%10)%10},tO=function(){function e(t,n){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),-1!==t.search(/^[0-9]{7}$/)&&(t+=eO(t)),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(e,ZP.default),JP(e,[{key:"valid",value:function(){return-1!==this.data.search(/^[0-9]{8}$/)&&+this.data[7]===eO(this.data)}},{key:"leftText",value:function(){return QP(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"leftText",this).call(this,0,4)}},{key:"leftEncode",value:function(){var t=this.data.substr(0,4);return QP(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"leftEncode",this).call(this,t,"LLLL")}},{key:"rightText",value:function(){return QP(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"rightText",this).call(this,4,4)}},{key:"rightEncode",value:function(){var t=this.data.substr(4,4);return QP(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"rightEncode",this).call(this,t,"RRRR")}}]),e}();KP.default=tO;var nO={};Object.defineProperty(nO,"__esModule",{value:!0});var iO=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),rO=DP,sO=aO(FP),oO=aO(OE);function aO(e){return e&&e.__esModule?e:{default:e}}var lO=function(){function e(t,n){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(e,oO.default),iO(e,[{key:"valid",value:function(){return-1!==this.data.search(/^[0-9]{5}$/)}},{key:"encode",value:function(){var e,t=rO.EAN5_STRUCTURE[(e=this.data,e.split("").map((function(e){return+e})).reduce((function(e,t,n){return n%2?e+9*t:e+3*t}),0)%10)];return{data:"1011"+(0,sO.default)(this.data,t,"01"),text:this.text}}}]),e}();nO.default=lO;var cO={};Object.defineProperty(cO,"__esModule",{value:!0});var dO=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),hO=DP,uO=fO(FP),pO=fO(OE);function fO(e){return e&&e.__esModule?e:{default:e}}var mO=function(){function e(t,n){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(e,pO.default),dO(e,[{key:"valid",value:function(){return-1!==this.data.search(/^[0-9]{2}$/)}},{key:"encode",value:function(){var e=hO.EAN2_STRUCTURE[parseInt(this.data)%4];return{data:"1011"+(0,uO.default)(this.data,e,"01"),text:this.text}}}]),e}();cO.default=mO;var gO={};Object.defineProperty(gO,"__esModule",{value:!0});var xO=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();gO.checksum=wO;var yO=bO(FP),vO=bO(OE);function bO(e){return e&&e.__esModule?e:{default:e}}var jO=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),-1!==t.search(/^[0-9]{11}$/)&&(t+=wO(t));var i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n));return i.displayValue=n.displayValue,n.fontSize>10*n.width?i.fontSize=10*n.width:i.fontSize=n.fontSize,i.guardHeight=n.height+i.fontSize/2+n.textMargin,i}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(e,vO.default),xO(e,[{key:"valid",value:function(){return-1!==this.data.search(/^[0-9]{12}$/)&&this.data[11]==wO(this.data)}},{key:"encode",value:function(){return this.options.flat?this.flatEncoding():this.guardedEncoding()}},{key:"flatEncoding",value:function(){var e="";return e+="101",e+=(0,yO.default)(this.data.substr(0,6),"LLLLLL"),e+="01010",e+=(0,yO.default)(this.data.substr(6,6),"RRRRRR"),{data:e+="101",text:this.text}}},{key:"guardedEncoding",value:function(){var e=[];return this.displayValue&&e.push({data:"00000000",text:this.text.substr(0,1),options:{textAlign:"left",fontSize:this.fontSize}}),e.push({data:"101"+(0,yO.default)(this.data[0],"L"),options:{height:this.guardHeight}}),e.push({data:(0,yO.default)(this.data.substr(1,5),"LLLLL"),text:this.text.substr(1,5),options:{fontSize:this.fontSize}}),e.push({data:"01010",options:{height:this.guardHeight}}),e.push({data:(0,yO.default)(this.data.substr(6,5),"RRRRR"),text:this.text.substr(6,5),options:{fontSize:this.fontSize}}),e.push({data:(0,yO.default)(this.data[11],"R")+"101",options:{height:this.guardHeight}}),this.displayValue&&e.push({data:"00000000",text:this.text.substr(11,1),options:{textAlign:"right",fontSize:this.fontSize}}),e}}]),e}();function wO(e){var t,n=0;for(t=1;t<11;t+=2)n+=parseInt(e[t]);for(t=0;t<11;t+=2)n+=3*parseInt(e[t]);return(10-n%10)%10}gO.default=jO;var SO={};Object.defineProperty(SO,"__esModule",{value:!0});var CO=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),_O=PO(FP),kO=PO(OE),EO=gO;function PO(e){return e&&e.__esModule?e:{default:e}}function OO(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var MO=["XX00000XXX","XX10000XXX","XX20000XXX","XXX00000XX","XXXX00000X","XXXXX00005","XXXXX00006","XXXXX00007","XXXXX00008","XXXXX00009"],AO=[["EEEOOO","OOOEEE"],["EEOEOO","OOEOEE"],["EEOOEO","OOEEOE"],["EEOOOE","OOEEEO"],["EOEEOO","OEOOEE"],["EOOEEO","OEEOOE"],["EOOOEE","OEEEOO"],["EOEOEO","OEOEOE"],["EOEOOE","OEOEEO"],["EOOEOE","OEEOEO"]],TO=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);var i=OO(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n));if(i.isValid=!1,-1!==t.search(/^[0-9]{6}$/))i.middleDigits=t,i.upcA=IO(t,"0"),i.text=n.text||""+i.upcA[0]+t+i.upcA[i.upcA.length-1],i.isValid=!0;else{if(-1===t.search(/^[01][0-9]{7}$/))return OO(i);if(i.middleDigits=t.substring(1,t.length-1),i.upcA=IO(i.middleDigits,t[0]),i.upcA[i.upcA.length-1]!==t[t.length-1])return OO(i);i.isValid=!0}return i.displayValue=n.displayValue,n.fontSize>10*n.width?i.fontSize=10*n.width:i.fontSize=n.fontSize,i.guardHeight=n.height+i.fontSize/2+n.textMargin,i}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(e,kO.default),CO(e,[{key:"valid",value:function(){return this.isValid}},{key:"encode",value:function(){return this.options.flat?this.flatEncoding():this.guardedEncoding()}},{key:"flatEncoding",value:function(){var e="";return e+="101",e+=this.encodeMiddleDigits(),{data:e+="010101",text:this.text}}},{key:"guardedEncoding",value:function(){var e=[];return this.displayValue&&e.push({data:"00000000",text:this.text[0],options:{textAlign:"left",fontSize:this.fontSize}}),e.push({data:"101",options:{height:this.guardHeight}}),e.push({data:this.encodeMiddleDigits(),text:this.text.substring(1,7),options:{fontSize:this.fontSize}}),e.push({data:"010101",options:{height:this.guardHeight}}),this.displayValue&&e.push({data:"00000000",text:this.text[7],options:{textAlign:"right",fontSize:this.fontSize}}),e}},{key:"encodeMiddleDigits",value:function(){var e=this.upcA[0],t=this.upcA[this.upcA.length-1],n=AO[parseInt(t)][parseInt(e)];return(0,_O.default)(this.middleDigits,n)}}]),e}();function IO(e,t){for(var n=parseInt(e[e.length-1]),i=MO[n],r="",s=0,o=0;o<i.length;o++){var a=i[o];r+="X"===a?e[s++]:a}return""+(r=""+t+r)+(0,EO.checksum)(r)}SO.default=TO,Object.defineProperty(TP,"__esModule",{value:!0}),TP.UPCE=TP.UPC=TP.EAN2=TP.EAN5=TP.EAN8=TP.EAN13=void 0;var DO=WO(IP),RO=WO(KP),FO=WO(nO),LO=WO(cO),zO=WO(gO),BO=WO(SO);function WO(e){return e&&e.__esModule?e:{default:e}}TP.EAN13=DO.default,TP.EAN8=RO.default,TP.EAN5=FO.default,TP.EAN2=LO.default,TP.UPC=zO.default,TP.UPCE=BO.default;var NO={},VO={},$O={};Object.defineProperty($O,"__esModule",{value:!0}),$O.START_BIN="1010",$O.END_BIN="11101",$O.BINARIES=["00110","10001","01001","11000","00101","10100","01100","00011","10010","01010"],Object.defineProperty(VO,"__esModule",{value:!0});var UO=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),HO=$O,qO=function(e){return e&&e.__esModule?e:{default:e}}(OE);var YO=function(){function e(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(e,qO.default),UO(e,[{key:"valid",value:function(){return-1!==this.data.search(/^([0-9]{2})+$/)}},{key:"encode",value:function(){var e=this,t=this.data.match(/.{2}/g).map((function(t){return e.encodePair(t)})).join("");return{data:HO.START_BIN+t+HO.END_BIN,text:this.text}}},{key:"encodePair",value:function(e){var t=HO.BINARIES[e[1]];return HO.BINARIES[e[0]].split("").map((function(e,n){return("1"===e?"111":"1")+("1"===t[n]?"000":"0")})).join("")}}]),e}();VO.default=YO;var GO={};Object.defineProperty(GO,"__esModule",{value:!0});var XO=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),KO=function(e){return e&&e.__esModule?e:{default:e}}(VO);var JO=function(e){var t=e.substr(0,13).split("").map((function(e){return parseInt(e,10)})).reduce((function(e,t,n){return e+t*(3-n%2*2)}),0);return 10*Math.ceil(t/10)-t},QO=function(){function e(t,n){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),-1!==t.search(/^[0-9]{13}$/)&&(t+=JO(t)),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(e,KO.default),XO(e,[{key:"valid",value:function(){return-1!==this.data.search(/^[0-9]{14}$/)&&+this.data[13]===JO(this.data)}}]),e}();GO.default=QO,Object.defineProperty(NO,"__esModule",{value:!0}),NO.ITF14=NO.ITF=void 0;var ZO=tM(VO),eM=tM(GO);function tM(e){return e&&e.__esModule?e:{default:e}}NO.ITF=ZO.default,NO.ITF14=eM.default;var nM={},iM={};Object.defineProperty(iM,"__esModule",{value:!0});var rM=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),sM=function(e){return e&&e.__esModule?e:{default:e}}(OE);var oM=function(){function e(t,n){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(e,sM.default),rM(e,[{key:"encode",value:function(){for(var e="110",t=0;t<this.data.length;t++){var n=parseInt(this.data[t]).toString(2);n=aM(n,4-n.length);for(var i=0;i<n.length;i++)e+="0"==n[i]?"100":"110"}return{data:e+="1001",text:this.text}}},{key:"valid",value:function(){return-1!==this.data.search(/^[0-9]+$/)}}]),e}();function aM(e,t){for(var n=0;n<t;n++)e="0"+e;return e}iM.default=oM;var lM={},cM={};Object.defineProperty(cM,"__esModule",{value:!0}),cM.mod10=function(e){for(var t=0,n=0;n<e.length;n++){var i=parseInt(e[n]);(n+e.length)%2==0?t+=i:t+=2*i%10+Math.floor(2*i/10)}return(10-t%10)%10},cM.mod11=function(e){for(var t=0,n=[2,3,4,5,6,7],i=0;i<e.length;i++){var r=parseInt(e[e.length-1-i]);t+=n[i%n.length]*r}return(11-t%11)%11},Object.defineProperty(lM,"__esModule",{value:!0});var dM=function(e){return e&&e.__esModule?e:{default:e}}(iM),hM=cM;var uM=function(){function e(t,n){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t+(0,hM.mod10)(t),n))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(e,dM.default),e}();lM.default=uM;var pM={};Object.defineProperty(pM,"__esModule",{value:!0});var fM=function(e){return e&&e.__esModule?e:{default:e}}(iM),mM=cM;var gM=function(){function e(t,n){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t+(0,mM.mod11)(t),n))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(e,fM.default),e}();pM.default=gM;var xM={};Object.defineProperty(xM,"__esModule",{value:!0});var yM=function(e){return e&&e.__esModule?e:{default:e}}(iM),vM=cM;var bM=function(){function e(t,n){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),t+=(0,vM.mod10)(t),t+=(0,vM.mod10)(t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(e,yM.default),e}();xM.default=bM;var jM={};Object.defineProperty(jM,"__esModule",{value:!0});var wM=function(e){return e&&e.__esModule?e:{default:e}}(iM),SM=cM;var CM=function(){function e(t,n){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),t+=(0,SM.mod11)(t),t+=(0,SM.mod10)(t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(e,wM.default),e}();jM.default=CM,Object.defineProperty(nM,"__esModule",{value:!0}),nM.MSI1110=nM.MSI1010=nM.MSI11=nM.MSI10=nM.MSI=void 0;var _M=MM(iM),kM=MM(lM),EM=MM(pM),PM=MM(xM),OM=MM(jM);function MM(e){return e&&e.__esModule?e:{default:e}}nM.MSI=_M.default,nM.MSI10=kM.default,nM.MSI11=EM.default,nM.MSI1010=PM.default,nM.MSI1110=OM.default;var AM={};Object.defineProperty(AM,"__esModule",{value:!0}),AM.pharmacode=void 0;var TM=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),IM=function(e){return e&&e.__esModule?e:{default:e}}(OE);var DM=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);var i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n));return i.number=parseInt(t,10),i}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(e,IM.default),TM(e,[{key:"encode",value:function(){for(var e=this.number,t="";!isNaN(e)&&0!=e;)e%2==0?(t="11100"+t,e=(e-2)/2):(t="100"+t,e=(e-1)/2);return{data:t=t.slice(0,-2),text:this.text}}},{key:"valid",value:function(){return this.number>=3&&this.number<=131070}}]),e}();AM.pharmacode=DM;var RM={};Object.defineProperty(RM,"__esModule",{value:!0}),RM.codabar=void 0;var FM=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),LM=function(e){return e&&e.__esModule?e:{default:e}}(OE);var zM=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),0===t.search(/^[0-9\-\$\:\.\+\/]+$/)&&(t="A"+t+"A");var i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t.toUpperCase(),n));return i.text=i.options.text||i.text.replace(/[A-D]/g,""),i}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(e,LM.default),FM(e,[{key:"valid",value:function(){return-1!==this.data.search(/^[A-D][0-9\-\$\:\.\+\/]+[A-D]$/)}},{key:"encode",value:function(){for(var e=[],t=this.getEncodings(),n=0;n<this.data.length;n++)e.push(t[this.data.charAt(n)]),n!==this.data.length-1&&e.push("0");return{text:this.text,data:e.join("")}}},{key:"getEncodings",value:function(){return{0:"101010011",1:"101011001",2:"101001011",3:"110010101",4:"101101001",5:"110101001",6:"100101011",7:"100101101",8:"100110101",9:"110100101","-":"101001101",$:"101100101",":":"1101011011","/":"1101101011",".":"1101101101","+":"1011011011",A:"1011001001",B:"1001001011",C:"1010010011",D:"1010011001"}}}]),e}();RM.codabar=zM;var BM={};Object.defineProperty(BM,"__esModule",{value:!0}),BM.GenericBarcode=void 0;var WM=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),NM=function(e){return e&&e.__esModule?e:{default:e}}(OE);var VM=function(){function e(t,n){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(e,NM.default),WM(e,[{key:"encode",value:function(){return{data:"10101010101010101010101010101010101010101",text:this.text}}},{key:"valid",value:function(){return!0}}]),e}();BM.GenericBarcode=VM,Object.defineProperty(EE,"__esModule",{value:!0});var $M=PE,UM=BE,HM=TP,qM=NO,YM=nM,GM=AM,XM=RM,KM=BM;EE.default={CODE39:$M.CODE39,CODE128:UM.CODE128,CODE128A:UM.CODE128A,CODE128B:UM.CODE128B,CODE128C:UM.CODE128C,EAN13:HM.EAN13,EAN8:HM.EAN8,EAN5:HM.EAN5,EAN2:HM.EAN2,UPC:HM.UPC,UPCE:HM.UPCE,ITF14:qM.ITF14,ITF:qM.ITF,MSI:YM.MSI,MSI10:YM.MSI10,MSI11:YM.MSI11,MSI1010:YM.MSI1010,MSI1110:YM.MSI1110,pharmacode:GM.pharmacode,codabar:XM.codabar,GenericBarcode:KM.GenericBarcode};var JM={};Object.defineProperty(JM,"__esModule",{value:!0});var QM=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e};JM.default=function(e,t){return QM({},e,t)};var ZM={};Object.defineProperty(ZM,"__esModule",{value:!0}),ZM.default=function(e){var t=[];return function e(n){if(Array.isArray(n))for(var i=0;i<n.length;i++)e(n[i]);else n.text=n.text||"",n.data=n.data||"",t.push(n)}(e),t};var eA={};Object.defineProperty(eA,"__esModule",{value:!0}),eA.default=function(e){return e.marginTop=e.marginTop||e.margin,e.marginBottom=e.marginBottom||e.margin,e.marginRight=e.marginRight||e.margin,e.marginLeft=e.marginLeft||e.margin,e};var tA={},nA={},iA={};Object.defineProperty(iA,"__esModule",{value:!0}),iA.default=function(e){var t=["width","height","textMargin","fontSize","margin","marginTop","marginBottom","marginLeft","marginRight"];for(var n in t)t.hasOwnProperty(n)&&"string"==typeof e[n=t[n]]&&(e[n]=parseInt(e[n],10));"string"==typeof e.displayValue&&(e.displayValue="false"!=e.displayValue);return e};var rA={};Object.defineProperty(rA,"__esModule",{value:!0});rA.default={width:2,height:100,format:"auto",displayValue:!0,fontOptions:"",font:"monospace",text:void 0,textAlign:"center",textPosition:"bottom",textMargin:2,fontSize:20,background:"#ffffff",lineColor:"#000000",margin:10,marginTop:void 0,marginBottom:void 0,marginLeft:void 0,marginRight:void 0,valid:function(){}},Object.defineProperty(nA,"__esModule",{value:!0});var sA=aA(iA),oA=aA(rA);function aA(e){return e&&e.__esModule?e:{default:e}}nA.default=function(e){var t={};for(var n in oA.default)oA.default.hasOwnProperty(n)&&(e.hasAttribute("jsbarcode-"+n.toLowerCase())&&(t[n]=e.getAttribute("jsbarcode-"+n.toLowerCase())),e.hasAttribute("data-"+n.toLowerCase())&&(t[n]=e.getAttribute("data-"+n.toLowerCase())));return t.value=e.getAttribute("jsbarcode-value")||e.getAttribute("data-value"),t=(0,sA.default)(t)};var lA={},cA={},dA={};Object.defineProperty(dA,"__esModule",{value:!0}),dA.getTotalWidthOfEncodings=dA.calculateEncodingAttributes=dA.getBarcodePadding=dA.getEncodingHeight=dA.getMaximumHeightOfEncodings=void 0;var hA=function(e){return e&&e.__esModule?e:{default:e}}(JM);function uA(e,t){return t.height+(t.displayValue&&e.text.length>0?t.fontSize+t.textMargin:0)+t.marginTop+t.marginBottom}function pA(e,t,n){if(n.displayValue&&t<e){if("center"==n.textAlign)return Math.floor((e-t)/2);if("left"==n.textAlign)return 0;if("right"==n.textAlign)return Math.floor(e-t)}return 0}function fA(e,t,n){var i;if(n)i=n;else{if("undefined"==typeof document)return 0;i=document.createElement("canvas").getContext("2d")}i.font=t.fontOptions+" "+t.fontSize+"px "+t.font;var r=i.measureText(e);return r?r.width:0}dA.getMaximumHeightOfEncodings=function(e){for(var t=0,n=0;n<e.length;n++)e[n].height>t&&(t=e[n].height);return t},dA.getEncodingHeight=uA,dA.getBarcodePadding=pA,dA.calculateEncodingAttributes=function(e,t,n){for(var i=0;i<e.length;i++){var r,s=e[i],o=(0,hA.default)(t,s.options);r=o.displayValue?fA(s.text,o,n):0;var a=s.data.length*o.width;s.width=Math.ceil(Math.max(r,a)),s.height=uA(s,o),s.barcodePadding=pA(r,a,o)}},dA.getTotalWidthOfEncodings=function(e){for(var t=0,n=0;n<e.length;n++)t+=e[n].width;return t},Object.defineProperty(cA,"__esModule",{value:!0});var mA=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),gA=function(e){return e&&e.__esModule?e:{default:e}}(JM),xA=dA;var yA=function(){function e(t,n,i){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.canvas=t,this.encodings=n,this.options=i}return mA(e,[{key:"render",value:function(){if(!this.canvas.getContext)throw new Error("The browser does not support canvas.");this.prepareCanvas();for(var e=0;e<this.encodings.length;e++){var t=(0,gA.default)(this.options,this.encodings[e].options);this.drawCanvasBarcode(t,this.encodings[e]),this.drawCanvasText(t,this.encodings[e]),this.moveCanvasDrawing(this.encodings[e])}this.restoreCanvas()}},{key:"prepareCanvas",value:function(){var e=this.canvas.getContext("2d");e.save(),(0,xA.calculateEncodingAttributes)(this.encodings,this.options,e);var t=(0,xA.getTotalWidthOfEncodings)(this.encodings),n=(0,xA.getMaximumHeightOfEncodings)(this.encodings);this.canvas.width=t+this.options.marginLeft+this.options.marginRight,this.canvas.height=n,e.clearRect(0,0,this.canvas.width,this.canvas.height),this.options.background&&(e.fillStyle=this.options.background,e.fillRect(0,0,this.canvas.width,this.canvas.height)),e.translate(this.options.marginLeft,0)}},{key:"drawCanvasBarcode",value:function(e,t){var n,i=this.canvas.getContext("2d"),r=t.data;n="top"==e.textPosition?e.marginTop+e.fontSize+e.textMargin:e.marginTop,i.fillStyle=e.lineColor;for(var s=0;s<r.length;s++){var o=s*e.width+t.barcodePadding;"1"===r[s]?i.fillRect(o,n,e.width,e.height):r[s]&&i.fillRect(o,n,e.width,e.height*r[s])}}},{key:"drawCanvasText",value:function(e,t){var n,i,r=this.canvas.getContext("2d"),s=e.fontOptions+" "+e.fontSize+"px "+e.font;e.displayValue&&(i="top"==e.textPosition?e.marginTop+e.fontSize-e.textMargin:e.height+e.textMargin+e.marginTop+e.fontSize,r.font=s,"left"==e.textAlign||t.barcodePadding>0?(n=0,r.textAlign="left"):"right"==e.textAlign?(n=t.width-1,r.textAlign="right"):(n=t.width/2,r.textAlign="center"),r.fillText(t.text,n,i))}},{key:"moveCanvasDrawing",value:function(e){this.canvas.getContext("2d").translate(e.width,0)}},{key:"restoreCanvas",value:function(){this.canvas.getContext("2d").restore()}}]),e}();cA.default=yA;var vA={};Object.defineProperty(vA,"__esModule",{value:!0});var bA=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),jA=function(e){return e&&e.__esModule?e:{default:e}}(JM),wA=dA;var SA="http://www.w3.org/2000/svg",CA=function(){function e(t,n,i){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.svg=t,this.encodings=n,this.options=i,this.document=i.xmlDocument||document}return bA(e,[{key:"render",value:function(){var e=this.options.marginLeft;this.prepareSVG();for(var t=0;t<this.encodings.length;t++){var n=this.encodings[t],i=(0,jA.default)(this.options,n.options),r=this.createGroup(e,i.marginTop,this.svg);this.setGroupOptions(r,i),this.drawSvgBarcode(r,i,n),this.drawSVGText(r,i,n),e+=n.width}}},{key:"prepareSVG",value:function(){for(;this.svg.firstChild;)this.svg.removeChild(this.svg.firstChild);(0,wA.calculateEncodingAttributes)(this.encodings,this.options);var e=(0,wA.getTotalWidthOfEncodings)(this.encodings),t=(0,wA.getMaximumHeightOfEncodings)(this.encodings),n=e+this.options.marginLeft+this.options.marginRight;this.setSvgAttributes(n,t),this.options.background&&this.drawRect(0,0,n,t,this.svg).setAttribute("style","fill:"+this.options.background+";")}},{key:"drawSvgBarcode",value:function(e,t,n){var i,r=n.data;i="top"==t.textPosition?t.fontSize+t.textMargin:0;for(var s=0,o=0,a=0;a<r.length;a++)o=a*t.width+n.barcodePadding,"1"===r[a]?s++:s>0&&(this.drawRect(o-t.width*s,i,t.width*s,t.height,e),s=0);s>0&&this.drawRect(o-t.width*(s-1),i,t.width*s,t.height,e)}},{key:"drawSVGText",value:function(e,t,n){var i,r,s=this.document.createElementNS(SA,"text");t.displayValue&&(s.setAttribute("style","font:"+t.fontOptions+" "+t.fontSize+"px "+t.font),r="top"==t.textPosition?t.fontSize-t.textMargin:t.height+t.textMargin+t.fontSize,"left"==t.textAlign||n.barcodePadding>0?(i=0,s.setAttribute("text-anchor","start")):"right"==t.textAlign?(i=n.width-1,s.setAttribute("text-anchor","end")):(i=n.width/2,s.setAttribute("text-anchor","middle")),s.setAttribute("x",i),s.setAttribute("y",r),s.appendChild(this.document.createTextNode(n.text)),e.appendChild(s))}},{key:"setSvgAttributes",value:function(e,t){var n=this.svg;n.setAttribute("width",e+"px"),n.setAttribute("height",t+"px"),n.setAttribute("x","0px"),n.setAttribute("y","0px"),n.setAttribute("viewBox","0 0 "+e+" "+t),n.setAttribute("xmlns",SA),n.setAttribute("version","1.1"),n.setAttribute("style","transform: translate(0,0)")}},{key:"createGroup",value:function(e,t,n){var i=this.document.createElementNS(SA,"g");return i.setAttribute("transform","translate("+e+", "+t+")"),n.appendChild(i),i}},{key:"setGroupOptions",value:function(e,t){e.setAttribute("style","fill:"+t.lineColor+";")}},{key:"drawRect",value:function(e,t,n,i,r){var s=this.document.createElementNS(SA,"rect");return s.setAttribute("x",e),s.setAttribute("y",t),s.setAttribute("width",n),s.setAttribute("height",i),r.appendChild(s),s}}]),e}();vA.default=CA;var _A={};Object.defineProperty(_A,"__esModule",{value:!0});var kA=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();var EA=function(){function e(t,n,i){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.object=t,this.encodings=n,this.options=i}return kA(e,[{key:"render",value:function(){this.object.encodings=this.encodings}}]),e}();_A.default=EA,Object.defineProperty(lA,"__esModule",{value:!0});var PA=AA(cA),OA=AA(vA),MA=AA(_A);function AA(e){return e&&e.__esModule?e:{default:e}}lA.default={CanvasRenderer:PA.default,SVGRenderer:OA.default,ObjectRenderer:MA.default};var TA={};function IA(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function DA(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function RA(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(TA,"__esModule",{value:!0});var FA=function(){function e(t,n){IA(this,e);var i=DA(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return i.name="InvalidInputException",i.symbology=t,i.input=n,i.message='"'+i.input+'" is not a valid input for '+i.symbology,i}return RA(e,Error),e}(),LA=function(){function e(){IA(this,e);var t=DA(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return t.name="InvalidElementException",t.message="Not supported type to render on",t}return RA(e,Error),e}(),zA=function(){function e(){IA(this,e);var t=DA(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return t.name="NoElementException",t.message="No element to render on.",t}return RA(e,Error),e}();TA.InvalidInputException=FA,TA.InvalidElementException=LA,TA.NoElementException=zA,Object.defineProperty(tA,"__esModule",{value:!0});var BA="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},WA=$A(nA),NA=$A(lA),VA=TA;function $A(e){return e&&e.__esModule?e:{default:e}}function UA(e){if("string"==typeof e)return function(e){var t=document.querySelectorAll(e);if(0===t.length)return;for(var n=[],i=0;i<t.length;i++)n.push(UA(t[i]));return n}(e);if(Array.isArray(e)){for(var t=[],n=0;n<e.length;n++)t.push(UA(e[n]));return t}if("undefined"!=typeof HTMLCanvasElement&&e instanceof HTMLImageElement)return i=e,{element:r=document.createElement("canvas"),options:(0,WA.default)(i),renderer:NA.default.CanvasRenderer,afterRender:function(){i.setAttribute("src",r.toDataURL())}};if(e&&e.nodeName&&"svg"===e.nodeName.toLowerCase()||"undefined"!=typeof SVGElement&&e instanceof SVGElement)return{element:e,options:(0,WA.default)(e),renderer:NA.default.SVGRenderer};if("undefined"!=typeof HTMLCanvasElement&&e instanceof HTMLCanvasElement)return{element:e,options:(0,WA.default)(e),renderer:NA.default.CanvasRenderer};if(e&&e.getContext)return{element:e,renderer:NA.default.CanvasRenderer};if(e&&"object"===(void 0===e?"undefined":BA(e))&&!e.nodeName)return{element:e,renderer:NA.default.ObjectRenderer};throw new VA.InvalidElementException;var i,r}tA.default=UA;var HA={};Object.defineProperty(HA,"__esModule",{value:!0});var qA=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();var YA=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.api=t}return qA(e,[{key:"handleCatch",value:function(e){if("InvalidInputException"!==e.name)throw e;if(this.api._options.valid===this.api._defaults.valid)throw e.message;this.api._options.valid(!1),this.api.render=function(){}}},{key:"wrapBarcodeCall",value:function(e){try{var t=e.apply(void 0,arguments);return this.api._options.valid(!0),t}catch(n){return this.handleCatch(n),this.api}}}]),e}();HA.default=YA;var GA=iT(EE),XA=iT(JM),KA=iT(ZM),JA=iT(eA),QA=iT(tA),ZA=iT(iA),eT=iT(HA),tT=TA,nT=iT(rA);function iT(e){return e&&e.__esModule?e:{default:e}}var rT=function(){},sT=function(e,t,n){var i=new rT;if(void 0===e)throw Error("No element to render on was provided.");return i._renderProperties=(0,QA.default)(e),i._encodings=[],i._options=nT.default,i._errorHandler=new eT.default(i),void 0!==t&&((n=n||{}).format||(n.format=cT()),i.options(n)[n.format](t,n).render()),i};for(var oT in sT.getModule=function(e){return GA.default[e]},GA.default)GA.default.hasOwnProperty(oT)&&aT(GA.default,oT);function aT(e,t){rT.prototype[t]=rT.prototype[t.toUpperCase()]=rT.prototype[t.toLowerCase()]=function(n,i){var r=this;return r._errorHandler.wrapBarcodeCall((function(){i.text=void 0===i.text?void 0:""+i.text;var s=(0,XA.default)(r._options,i);s=(0,ZA.default)(s);var o=e[t],a=lT(n,o,s);return r._encodings.push(a),r}))}}function lT(e,t,n){var i=new t(e=""+e,n);if(!i.valid())throw new tT.InvalidInputException(i.constructor.name,e);var r=i.encode();r=(0,KA.default)(r);for(var s=0;s<r.length;s++)r[s].options=(0,XA.default)(n,r[s].options);return r}function cT(){return GA.default.CODE128?"CODE128":Object.keys(GA.default)[0]}function dT(e,t,n){t=(0,KA.default)(t);for(var i=0;i<t.length;i++)t[i].options=(0,XA.default)(n,t[i].options),(0,JA.default)(t[i].options);(0,JA.default)(n),new(0,e.renderer)(e.element,t,n).render(),e.afterRender&&e.afterRender()}rT.prototype.options=function(e){return this._options=(0,XA.default)(this._options,e),this},rT.prototype.blank=function(e){var t=new Array(e+1).join("0");return this._encodings.push({data:t}),this},rT.prototype.init=function(){var e;if(this._renderProperties)for(var t in Array.isArray(this._renderProperties)||(this._renderProperties=[this._renderProperties]),this._renderProperties){e=this._renderProperties[t];var n=(0,XA.default)(this._options,e.options);"auto"==n.format&&(n.format=cT()),this._errorHandler.wrapBarcodeCall((function(){var t=lT(n.value,GA.default[n.format.toUpperCase()],n);dT(e,t,n)}))}},rT.prototype.render=function(){if(!this._renderProperties)throw new tT.NoElementException;if(Array.isArray(this._renderProperties))for(var e=0;e<this._renderProperties.length;e++)dT(this._renderProperties[e],this._encodings,this._options);else dT(this._renderProperties,this._encodings,this._options);return this},rT.prototype._defaults=nT.default,"undefined"!=typeof window&&(window.JsBarcode=sT),"undefined"!=typeof jQuery&&(jQuery.fn.JsBarcode=function(e,t){var n=[];return jQuery(this).each((function(){n.push(this)})),sT(n,e,t)});var hT=sT;function uT(e){return(uT="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var pT,fT=xT(Ot),mT=xT(hT),gT=xT(at);function xT(e){return e&&e.__esModule?e:{default:e}}function yT(e,t,n){return t&&function(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}(e.prototype,t),e}function vT(e){return(vT=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function bT(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function jT(e,t){return(jT=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var wT=fT.default.version.split(/[.-]/);pT="0"!==wT[0]||"13"!==wT[1]&&"12"!==wT[1]?function(e){return e}:function(e){return e.getDOMNode()};var ST=function(){function e(t){var n,i,r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),i=this,(n=!(r=vT(e).call(this,t))||"object"!==uT(r)&&"function"!=typeof r?bT(i):r).renderElementRef=fT.default.createRef(),n.update=n.update.bind(bT(n)),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&jT(e,t)}(e,fT["default"].Component),yT(e,[{key:"shouldComponentUpdate",value:function(t){var n=this;return Object.keys(e.propTypes).some((function(e){return n.props[e]!==t[e]}))}},{key:"componentDidMount",value:function(){this.update()}},{key:"componentDidUpdate",value:function(){this.update()}},{key:"update",value:function(){var e=pT(this.renderElementRef.current);try{new mT.default(e,this.props.value,Object.assign({text:this.props.text||this.props.value},this.props))}catch(t){window.console.error(t)}}},{key:"render",value:function(){var e=this.props,t=e.id,n=e.className;return"svg"===this.props.renderer?fT.default.createElement("svg",{ref:this.renderElementRef,id:t,className:n}):"canvas"===this.props.renderer?fT.default.createElement("canvas",{ref:this.renderElementRef,id:t,className:n}):"img"===this.props.renderer?fT.default.createElement("img",{ref:this.renderElementRef,id:t,className:n}):void 0}}]),e}();ST.propTypes={value:gT.default.string.isRequired,text:gT.default.string,renderer:gT.default.string,format:gT.default.string,width:gT.default.number,height:gT.default.number,displayValue:gT.default.bool,fontOptions:gT.default.string,font:gT.default.string,textAlign:gT.default.string,textPosition:gT.default.string,textMargin:gT.default.number,fontSize:gT.default.number,background:gT.default.string,lineColor:gT.default.string,margin:gT.default.number,marginTop:gT.default.number,marginBottom:gT.default.number,marginLeft:gT.default.number,marginRight:gT.default.number,id:gT.default.string,className:gT.default.string,ean128:gT.default.bool},ST.defaultProps={format:"CODE128",renderer:"svg",width:2,height:100,displayValue:!0,fontOptions:"",font:"monospace",textAlign:"center",textPosition:"bottom",textMargin:2,fontSize:20,background:"#ffffff",lineColor:"#000000",margin:10,className:"",ean128:!1};const CT=Lt(ST),_T=({open:e,onClose:t,selectedProducts:n})=>o.jsxs(Ne,{open:e,onClose:t,maxWidth:"md",fullWidth:!0,children:[o.jsx(Ve,{children:"Print Barcode Labels"}),o.jsx($e,{children:o.jsx(p,{sx:{display:"flex",flexWrap:"wrap",gap:2,p:2,"@media print":{"& > *":{width:"2in",height:"1in",margin:"0.1in",pageBreakInside:"avoid",border:"1px dashed #ccc",padding:"0.1in",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"},"&":{padding:"0.5in"}}},children:n.map((e=>o.jsxs(p,{sx:{display:"flex",flexDirection:"column",alignItems:"center",width:"2in",height:"1in",border:"1px dashed #ccc",padding:"0.1in"},children:[o.jsx(p,{sx:{width:"75%",display:"flex",justifyContent:"center","& svg":{width:"100%",height:"auto"}},children:o.jsx(CT,{value:e.sku??e.id??"",width:1.5,height:40,fontSize:8,margin:0,displayValue:!1,background:"white",lineColor:"black",format:"CODE128",renderer:"svg"})}),o.jsx(v,{variant:"caption",sx:{fontSize:"8px",textAlign:"center"},children:e.sku??e.id??"N/A"}),o.jsxs(p,{sx:{width:"50%",textAlign:"center"},children:[o.jsxs(v,{variant:"caption",sx:{fontSize:"8px",fontWeight:"bold",display:"block"},children:["",e.price.toLocaleString()]}),o.jsx(v,{variant:"caption",sx:{fontSize:"7px",display:"block",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:e.name})]})]},e.id)))})}),o.jsxs(Ye,{children:[o.jsx(g,{onClick:t,children:"Cancel"}),o.jsx(g,{onClick:()=>{window.print()},variant:"contained",color:"primary",children:"Print Labels"})]})]}),kT=()=>{const[e,t]=Ot.useState([]),[n,i]=Ot.useState([]),[r,s]=Ot.useState("grid"),[a,l]=Ot.useState(!1),[c,d]=Ot.useState(null),[h,u]=Ot.useState({sku:"",name:"",description:"",price:"",categoryId:"",media:"",rating:"",stock:"",trending:!1,featured:!1,material:"",work:"",length:"",origin:""}),[m,x]=Ot.useState([]),[b,C]=Ot.useState(null),[_,k]=Ot.useState(!1),[P,O]=Ot.useState(null),[A,T]=Ot.useState(null);Ot.useEffect((()=>{I(),D()}),[]);const I=async()=>{try{const e=await wm();t(e)}catch(e){console.error("Error fetching products:",e)}},D=async()=>{try{const e=await Tm();i(e)}catch(e){console.error("Error fetching categories:",e)}},F=e=>{var t,n,i,r;if(e){d(e);const s=e;u({sku:e.sku,name:e.name,description:e.description||"",price:e.price.toString(),categoryId:e.categoryId,media:[...e.images||[],...s.videos||[]].join("\n"),rating:(e.rating||0).toString(),stock:e.stock.toString(),trending:e.trending||!1,featured:e.featured||!1,material:(null==(t=e.specifications)?void 0:t.material)||"",work:(null==(n=e.specifications)?void 0:n.work)||"",length:(null==(i=e.specifications)?void 0:i.length)||"",origin:(null==(r=e.specifications)?void 0:r.origin)||""})}else d(null),u({sku:"",name:"",description:"",price:"",categoryId:"",media:"",rating:"",stock:"",trending:!1,featured:!1,material:"",work:"",length:"",origin:""});l(!0)},L=()=>{l(!1),d(null)},z=async n=>{if(window.confirm("Are you sure you want to delete this product?"))try{await km(n),t(e.filter((e=>e.id!==n))),ni.success("Product deleted successfully")}catch(i){console.error("Error deleting product:",i),ni.error("Failed to delete product")}},B=async n=>{try{const i={...n,id:void 0,sku:`${n.sku}-copy`,name:`${n.name} (Copy)`},r=await Cm(i);t([...e,r]),ni.success("Product duplicated successfully")}catch(i){console.error("Error duplicating product:",i),ni.error("Failed to duplicate product")}},W=e=>{if(!e||""===e.trim())return console.log("No media path provided, using placeholder"),`${Rs}/images/products/placeholder.jpg`;if(e.startsWith("http"))return e;const t=/\.(mp4|webm)$/i.test(e)?"videos":"images",n=e.replace(/^\/[^/]+\/products\//,"");if(/^\d{13,}-\d+\.(jpg|jpeg|png|webp|mp4|webm)$/.test(n))return console.log(`Detected timestamp filename: ${n}`),`${Rs}/${t}/products/${n}`;const i=`${Rs}/${t}/products/${n}`;return console.log(`Generated media URL: ${i} from path: ${e}`),i},N=()=>{C(null)},H=()=>{0!==m.length?k(!0):alert("Please select at least one product to print barcodes")};return o.jsxs(p,{sx:{p:3},children:[o.jsxs(p,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:3},children:[o.jsx(v,{variant:"h4",component:"h1",sx:{fontFamily:"Playfair Display, serif"},children:"Products Management"}),o.jsxs(p,{sx:{display:"flex",gap:2},children:[o.jsxs($,{value:r,exclusive:!0,onChange:(e,t)=>t&&s(t),size:"small",children:[o.jsx(U,{value:"grid",children:o.jsx(lt,{})}),o.jsx(U,{value:"list",children:o.jsx(ct,{})})]}),o.jsxs(g,{variant:"outlined",startIcon:o.jsx(dt,{}),component:"label",sx:{borderColor:"#E31C79",color:"#E31C79","&:hover":{borderColor:"#E31C79",backgroundColor:"rgba(227, 28, 121, 0.04)"}},children:["Import CSV",o.jsx("input",{type:"file",hidden:!0,accept:".csv",onChange:e=>{var t;const i=null==(t=e.target.files)?void 0:t[0];if(i){const e=ni.loading("Importing products...");kE.parse(i,{complete:async t=>{try{console.log("Raw CSV data:",{headers:Object.keys(t.data[0]||{}),firstRow:t.data[0],totalRows:t.data.length});const r=Object.keys(t.data[0]||{}).map((e=>e.replace(/\s*\*\s*$/,"").toLowerCase().trim()));console.log("Cleaned headers:",r);const s={sku:["sku"],"product name":["product name","name","productname"],price:["price"],"stock quantity":["stock quantity","stock","quantity"]},o=[];for(const[e,t]of Object.entries(s))t.some((e=>r.includes(e.toLowerCase())))||o.push(e);if(o.length>0)throw new Error(`Missing required fields: ${o.join(", ")}`);const a=await Promise.all(t.data.map((async(e,t)=>{if(Object.values(e).every((e=>!e)))return null;console.log(`Processing row ${t+1}:`,e);const i=t=>{console.log("Available headers:",Object.keys(e));const n=Object.keys(e).find((e=>{const n=e.toLowerCase().replace(/\s*\*\s*$/,"").trim();return console.log(`Comparing header: "${n}" with alternatives:`,t),t.some((e=>n===e.toLowerCase()||n.includes(e.toLowerCase())))})),i=n?e[n]:"";return console.log(`Getting value for ${t.join(" or ")}:`,{matchingHeader:n,value:i,allHeaders:Object.keys(e)}),i.toString().trim()},r=i(["sku","SKU"]),s=i(["product name","name","Product Name"]),o=i(["price","Price"]),a=i(["stock quantity","stock","Stock Quantity"]),l=i(["description","Description"]),c=i(["category name","category","Category Name"]),d=i(["rating","Rating","Rating (0-5)"]),h=i(["trending","Trending","Trending (true/false)"]),u=i(["featured","Featured","Featured (true/false)"]);if(console.log("Extracted values:",{sku:r,name:s,price:o,stock:a,rating:d,trending:h,featured:u,category:c}),!r)throw new Error(`Row ${t+1}: Product SKU is required.`);if(isNaN(parseFloat(o)))throw new Error(`Row ${t+1}: Invalid price value for SKU ${r}`);if(isNaN(parseInt(a)))throw new Error(`Row ${t+1}: Invalid stock value for SKU ${r}`);if((await wm()).some((e=>e.sku===r)))throw new Error(`Row ${t+1}: Product SKU "${r}" already exists.`);const p=n.find((e=>e.name.toLowerCase()===(null==c?void 0:c.toLowerCase())));if(!p&&c)throw new Error(`Row ${t+1}: Category "${c}" not found.`);const f=[];for(let n=1;n<=4;n++){const e=i([`image${n}`,"Additional Image "+(n-1),"Primary Image"].filter(Boolean));if(e){const t=e.trim().split(/[\/\\]/).pop()||e.trim();f.push(t)}}let m=0;try{if(d&&""!==d){const e=String(d).trim().toLowerCase();console.log("Processing rating:",{original:d,cleaned:e});const n=parseFloat(e);if(isNaN(n))throw console.warn(`Failed to parse rating for SKU ${r}:`,d),new Error(`Row ${t+1}: Invalid rating value for SKU ${r}. Must be a number between 0 and 5.`);if(!(n>=0&&n<=5))throw console.warn(`Invalid rating range for SKU ${r}:`,n),new Error(`Row ${t+1}: Rating value for SKU ${r} must be between 0 and 5.`);m=Math.round(10*n)/10,console.log("Successfully parsed rating:",m)}}catch(x){throw console.error("Error processing rating:",x),x}const g={sku:r,name:s,description:l||"",price:parseFloat(o),categoryId:(null==p?void 0:p.id)||"",images:f,videos:[],rating:m,stock:parseInt(a),trending:"true"===(null==h?void 0:h.toLowerCase()),featured:"true"===(null==u?void 0:u.toLowerCase()),reviews:[],specifications:{material:i(["material","Material"])||"",work:i(["work","Work Type"])||"",length:i(["length","Length"])||"",origin:i(["origin","Origin"])||""}};return console.log("Creating product with data:",{sku:g.sku,name:g.name,rating:g.rating,categoryId:g.categoryId,originalRating:d,category:c,categoryObj:p}),g}))),l=a.filter((e=>null!==e));let c=0,d=0;for(const e of l)try{await Cm(e),c++}catch(i){console.error(`Error creating product ${e.sku}:`,i),d++}I(),ni.dismiss(e),0===d?ni.success(`Successfully imported ${c} products`):ni.warning(`Imported ${c} products with ${d} errors`)}catch(i){console.error("Error importing products:",i),ni.dismiss(e),ni.error(i instanceof Error?i.message:"Error importing products")}},header:!0,skipEmptyLines:"greedy",error:e=>{console.error("Error parsing CSV:",e),ni.error("Error parsing CSV file. Please check the format.")}})}e.target.value=""}})]}),o.jsx(g,{variant:"outlined",startIcon:o.jsx(ht,{}),onClick:async()=>{try{const e=ni.loading("Exporting products..."),t=(await wm()).map((e=>{var t,i,r,s;const o=n.find((t=>t.id===e.categoryId)),a={sku:e.sku,name:e.name,description:e.description,price:e.price,category:(null==o?void 0:o.name)||"",stock:e.stock,rating:e.rating,trending:e.trending?"true":"false",featured:e.featured?"true":"false",material:(null==(t=e.specifications)?void 0:t.material)||"",work:(null==(i=e.specifications)?void 0:i.work)||"",length:(null==(r=e.specifications)?void 0:r.length)||"",origin:(null==(s=e.specifications)?void 0:s.origin)||""};e.images.forEach(((e,t)=>{a[`image${t+1}`]=e}));for(let n=e.images.length+1;n<=4;n++)a[`image${n}`]="";return a})),i={sku:"SKU *",name:"Product Name *",description:"Description",price:"Price *",category:"Category Name",stock:"Stock Quantity *",rating:"Rating (0-5)",trending:"Trending (true/false)",featured:"Featured (true/false)",material:"Material",work:"Work Type",length:"Length",origin:"Origin",image1:"Primary Image",image2:"Additional Image 1",image3:"Additional Image 2",image4:"Additional Image 3"},r=kE.unparse({fields:Object.values(i),data:t}),s=new Blob([r],{type:"text/csv;charset=utf-8;"}),o=document.createElement("a"),a=URL.createObjectURL(s),l=(new Date).toISOString().replace(/[:.]/g,"-");o.setAttribute("href",a),o.setAttribute("download",`products-${l}.csv`),o.style.visibility="hidden",document.body.appendChild(o),o.click(),document.body.removeChild(o),ni.dismiss(e),ni.success("Products exported successfully")}catch(e){console.error("Error exporting products:",e),ni.error("Error exporting products")}},sx:{borderColor:"#E31C79",color:"#E31C79","&:hover":{borderColor:"#E31C79",backgroundColor:"rgba(227, 28, 121, 0.04)"}},children:"Export CSV"}),m.length>0&&o.jsxs(g,{variant:"outlined",startIcon:o.jsx(Ge,{}),onClick:H,sx:{borderColor:"#E31C79",color:"#E31C79","&:hover":{borderColor:"#E31C79",backgroundColor:"rgba(227, 28, 121, 0.04)"}},children:["Print Barcodes (",m.length,")"]}),o.jsx(g,{variant:"contained",startIcon:o.jsx(de,{}),onClick:()=>F(),sx:{background:"linear-gradient(45deg, #E31C79 30%, #FF4D4D 90%)","&:hover":{background:"linear-gradient(45deg, #FF4D4D 30%, #E31C79 90%)"}},children:"Add Product"})]})]}),"grid"===r?o.jsx(y,{container:!0,spacing:3,children:e.map((e=>o.jsx(y,{item:!0,xs:6,sm:6,md:4,lg:3,children:o.jsxs(V,{elevation:0,sx:{p:2,height:"100%",display:"flex",flexDirection:"column",border:"1px solid",borderColor:"divider",borderRadius:2,transition:"all 0.4s ease",background:"white",position:"relative","&:hover":{transform:"translateY(-8px)",boxShadow:"0 12px 28px rgba(227, 28, 121, 0.15)",borderColor:"transparent",background:"linear-gradient(135deg, #fff 0%, #fff5f7 100%)","& img":{transform:"scale(1.05)"}}},children:[o.jsxs(p,{sx:{position:"relative",paddingTop:"100%",mb:2,borderRadius:1,overflow:"hidden",boxShadow:"0 4px 12px rgba(0,0,0,0.05)"},children:[o.jsx("img",{src:W(e.images[0]),alt:e.name,style:{position:"absolute",top:0,left:0,width:"100%",height:"100%",objectFit:"cover",transition:"transform 0.4s ease"}}),o.jsxs(p,{sx:{position:"absolute",top:8,right:8,display:"flex",gap:1,zIndex:1},children:[o.jsx(ut,{title:"Edit",children:o.jsx(f,{size:"small",onClick:()=>F(e),sx:{bgcolor:"rgba(255, 255, 255, 0.9)",color:"#E31C79","&:hover":{bgcolor:"white",color:"#E31C79"}},children:o.jsx(tt,{fontSize:"small"})})}),o.jsx(ut,{title:"Duplicate",children:o.jsx(f,{size:"small",onClick:()=>B(e),sx:{bgcolor:"rgba(255, 255, 255, 0.9)",color:"#E31C79","&:hover":{bgcolor:"white",color:"#E31C79"}},children:o.jsx(pt,{fontSize:"small"})})}),o.jsx(ut,{title:"Delete",children:o.jsx(f,{size:"small",onClick:()=>z(e.id),sx:{bgcolor:"rgba(255, 255, 255, 0.9)",color:"#E31C79","&:hover":{bgcolor:"white",color:"#E31C79"}},children:o.jsx(qe,{fontSize:"small"})})})]})]}),o.jsx(v,{variant:"subtitle1",sx:{mb:1,fontFamily:"Playfair Display, serif",overflow:"hidden",textOverflow:"ellipsis",display:"-webkit-box",WebkitLineClamp:2,WebkitBoxOrient:"vertical",minHeight:"3em",color:"#333",fontWeight:500},children:e.name}),o.jsxs(p,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mt:"auto"},children:[o.jsxs(v,{variant:"h6",sx:{color:"#E31C79",fontFamily:"Roboto, sans-serif",fontWeight:700},children:["",e.price.toLocaleString()]}),o.jsx(M,{label:e.stock>0?`In Stock (${e.stock})`:"Out of Stock",color:e.stock>0?"success":"error",size:"small",sx:{borderRadius:1,fontWeight:500}})]})]})},e.id)))}):o.jsx(Y,{component:V,children:o.jsxs(G,{children:[o.jsx(X,{children:o.jsxs(K,{children:[o.jsx(J,{padding:"checkbox",children:o.jsx(ve,{indeterminate:m.length>0&&m.length<e.length,checked:m.length===e.length,onChange:()=>{m.length===e.length?x([]):x(e.map((e=>e.id)))}})}),o.jsx(J,{children:"Image"}),o.jsx(J,{children:"SKU"}),o.jsx(J,{children:"Name"}),o.jsx(J,{children:"Price"}),o.jsx(J,{children:"Stock"}),o.jsx(J,{children:"Category"}),o.jsx(J,{children:"Rating"}),o.jsx(J,{children:"Actions"})]})}),o.jsx(Q,{children:e.map((e=>{var t;return o.jsxs(K,{onContextMenu:t=>{return n=t,e.id,n.preventDefault(),void C(null===b?{mouseX:n.clientX-2,mouseY:n.clientY-4}:null);var n},selected:m.includes(e.id),hover:!0,children:[o.jsx(J,{padding:"checkbox",children:o.jsx(ve,{checked:m.includes(e.id),onChange:()=>{return t=e.id,void x((e=>e.includes(t)?e.filter((e=>e!==t)):[...e,t]));var t}})}),o.jsx(J,{children:o.jsx("img",{src:W(e.images[0]),alt:e.name,style:{width:50,height:50,objectFit:"contain"}})}),o.jsx(J,{children:e.sku}),o.jsx(J,{children:e.name}),o.jsxs(J,{children:["",e.price.toLocaleString()]}),o.jsx(J,{children:o.jsx(M,{label:e.stock>0?`In Stock (${e.stock})`:"Out of Stock",color:e.stock>0?"success":"error",size:"small"})}),o.jsx(J,{children:(null==(t=n.find((t=>t.id===e.categoryId)))?void 0:t.name)||e.categoryId}),o.jsx(J,{children:e.rating}),o.jsx(J,{children:o.jsxs(p,{sx:{display:"flex",gap:1},children:[o.jsx(ut,{title:"Edit",children:o.jsx(f,{size:"small",onClick:()=>F(e),children:o.jsx(tt,{})})}),o.jsx(ut,{title:"Duplicate",children:o.jsx(f,{size:"small",onClick:()=>B(e),children:o.jsx(pt,{})})}),o.jsx(ut,{title:"Delete",children:o.jsx(f,{size:"small",onClick:()=>z(e.id),children:o.jsx(qe,{})})})]})})]},e.id)}))})]})}),o.jsxs(j,{open:null!==b,onClose:N,anchorReference:"anchorPosition",anchorPosition:null!==b?{top:b.mouseY,left:b.mouseX}:void 0,children:[o.jsxs(w,{onClick:async()=>{if(window.confirm(`Are you sure you want to delete ${m.length} selected products?`))try{await Promise.all(m.map((e=>km(e)))),x([]),I(),ni.success(`${m.length} products deleted successfully`)}catch(e){console.error("Error deleting products:",e),ni.error("Failed to delete selected products")}N()},children:[o.jsx(S,{children:o.jsx(qe,{fontSize:"small"})}),o.jsxs(E,{children:["Delete Selected (",m.length,")"]})]}),o.jsxs(w,{onClick:()=>{H(),N()},children:[o.jsx(S,{children:o.jsx(Ge,{fontSize:"small"})}),o.jsxs(E,{children:["Print Barcodes (",m.length,")"]})]})]}),o.jsxs(Ne,{open:a,onClose:L,maxWidth:"md",fullWidth:!0,children:[o.jsx(Ve,{children:c?"Edit Product":"Add New Product"}),o.jsxs("form",{onSubmit:async e=>{e.preventDefault();try{if(!h.sku)return void ni.error("Product SKU is required");if(!c||c.sku!==h.sku)try{const e=await wm();if(e.some((e=>e.sku===h.sku)))return void ni.error("A product with this SKU already exists. Please use a different SKU.")}catch(t){return void console.error("Error checking SKU:",t)}const e=h.media.split("\n").filter(Boolean),n=e.filter((e=>/\.(jpg|jpeg|png|gif|webp)$/i.test(e))),i=e.filter((e=>/\.(mp4|webm)$/i.test(e)));let r=0;try{if(h.rating&&""!==h.rating){const e=parseFloat(h.rating);if(isNaN(e))return void ni.error("Invalid rating value. Must be a number between 0 and 5.");if(e<0||e>5)return void ni.error("Rating must be between 0 and 5.");r=Math.round(10*e)/10}}catch(t){return console.error("Error processing rating:",t),void ni.error("Error processing rating value")}const s={sku:h.sku,name:h.name,description:h.description,price:parseFloat(h.price),categoryId:h.categoryId,images:n,videos:i,rating:r,stock:parseInt(h.stock),trending:h.trending,featured:h.featured,reviews:(null==c?void 0:c.reviews)||[],specifications:{material:h.material||"",work:h.work||"",length:h.length||"",origin:h.origin||""}};console.log("Submitting product data:",s),c?c.sku!==h.sku?(await km(c.id),await Cm(s),ni.success("Product updated successfully")):(await _m(c.id,s),ni.success("Product updated successfully")):(await Cm(s),ni.success("Product added successfully")),I(),L()}catch(t){console.error("Error submitting product:",t),ni.error("Failed to submit product")}},children:[o.jsx($e,{children:o.jsxs(y,{container:!0,spacing:2,children:[o.jsx(y,{item:!0,xs:12,children:o.jsx(R,{fullWidth:!0,label:"Product SKU",value:h.sku,onChange:e=>u({...h,sku:e.target.value}),required:!0,helperText:"Enter a unique product SKU"})}),o.jsx(y,{item:!0,xs:12,children:o.jsx(R,{fullWidth:!0,label:"Name",value:h.name,onChange:e=>u({...h,name:e.target.value}),required:!0})}),o.jsx(y,{item:!0,xs:12,children:o.jsx(R,{fullWidth:!0,label:"Description",multiline:!0,rows:4,value:h.description,onChange:e=>u({...h,description:e.target.value}),required:!0})}),o.jsx(y,{item:!0,xs:12,sm:6,children:o.jsx(R,{fullWidth:!0,label:"Price",type:"number",value:h.price,placeholder:"Enter product price",onChange:e=>u({...h,price:e.target.value}),InputProps:{startAdornment:o.jsx(q,{position:"start",children:""})},required:!0})}),o.jsx(y,{item:!0,xs:12,sm:6,children:o.jsxs(ee,{fullWidth:!0,required:!0,children:[o.jsx(ge,{children:"Category"}),o.jsx(xe,{value:h.categoryId,label:"Category",onChange:e=>u({...h,categoryId:e.target.value}),children:n.map((e=>o.jsx(w,{value:e.id,children:e.name},e.id)))})]})}),o.jsx(y,{item:!0,xs:12,children:o.jsxs(p,{sx:{mb:2},children:[o.jsx(v,{variant:"subtitle1",gutterBottom:!0,children:"Product Media"}),o.jsxs(p,{sx:{display:"flex",flexDirection:"column",gap:2},children:[o.jsxs(p,{sx:{display:"flex",gap:2},children:[o.jsxs(g,{variant:"outlined",component:"label",startIcon:o.jsx(dt,{}),sx:{borderColor:"#E31C79",color:"#E31C79","&:hover":{borderColor:"#E31C79",backgroundColor:"rgba(227, 28, 121, 0.04)"}},children:["Upload Media",o.jsx("input",{type:"file",hidden:!0,accept:"image/*,video/mp4,video/webm",multiple:!0,onChange:async e=>{const t=e.target.files;if(!t||0===t.length)return;const n="upload-"+Date.now();try{const e=new FormData;Array.from(t).forEach((t=>{e.append("images",t)})),ni.loading("Preparing upload...",{id:n,autoClose:!1,closeButton:!1});const i=await ps.post(`${Ds}/products/upload`,e,{headers:{"Content-Type":"multipart/form-data"},timeout:6e5,onUploadProgress:e=>{if(e.total){const t=Math.round(100*e.loaded/e.total);ni.update(n,{render:`Uploading: ${t}%`,type:"info",isLoading:!0,autoClose:!1,closeButton:!1})}}});if(ni.dismiss(n),i.data.files){const e=i.data.files.map((e=>e.path)).join("\n");u((t=>({...t,media:t.media?`${t.media}\n${e}`:e}))),ni.success("Media uploaded successfully",{autoClose:3e3,closeButton:!0})}}catch(i){console.error("Upload error:",i),ni.error("Failed to upload media. Please try again.",{autoClose:3e3,closeButton:!0})}}})]}),o.jsx(g,{variant:"outlined",onClick:()=>{u({...h,media:""}),ni.info("Media cleared")},sx:{borderColor:"#666",color:"#666","&:hover":{borderColor:"#666",backgroundColor:"rgba(102, 102, 102, 0.04)"}},children:"Clear Media"})]}),o.jsxs(p,{sx:{mt:2},children:[o.jsxs(v,{variant:"body2",color:"text.secondary",gutterBottom:!0,children:["Current Media: ",h.media.split("\n").filter(Boolean).length,"(Click on a media item to remove it)"]}),o.jsxs(p,{sx:{display:"flex",flexWrap:"wrap",gap:2,mb:2},children:[h.media&&h.media.split("\n").filter(Boolean).map(((e,t)=>{const n=/\.(mp4|webm)$/i.test(e);return o.jsxs(p,{sx:{width:100,height:100,position:"relative",border:"1px solid #ddd",borderRadius:1,overflow:"hidden",cursor:"pointer","&:hover::after":{content:'""',position:"absolute",top:0,left:0,width:"100%",height:"100%",display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:"rgba(0, 0, 0, 0.5)",color:"white",fontSize:"24px"}},onClick:()=>{const e=h.media.split("\n").filter(Boolean);e.splice(t,1),u({...h,media:e.join("\n")})},children:[n?o.jsxs(o.Fragment,{children:[o.jsx("video",{src:W(e),style:{width:"100%",height:"100%",objectFit:"cover"},muted:!0,loop:!0,playsInline:!0}),o.jsx(p,{sx:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",color:"white",backgroundColor:"rgba(0, 0, 0, 0.5)",borderRadius:"50%",width:24,height:24,display:"flex",alignItems:"center",justifyContent:"center"},children:o.jsx(oe,{sx:{fontSize:16}})})]}):o.jsx("img",{src:W(e),alt:`Product ${t+1}`,style:{width:"100%",height:"100%",objectFit:"cover"},onError:e=>{e.target.src=`${Rs}/images/products/placeholder.jpg`}}),o.jsx(v,{variant:"caption",sx:{position:"absolute",bottom:0,width:"100%",backgroundColor:"rgba(255,255,255,0.7)",padding:"2px 4px",textAlign:"center",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:e.length>20?e.substring(0,17)+"...":e})]},t)})),(!h.media||0===h.media.split("\n").filter(Boolean).length)&&o.jsx(p,{sx:{width:"100%",padding:2,textAlign:"center",border:"1px dashed #ccc",borderRadius:1},children:o.jsx(v,{color:"text.secondary",children:'No media uploaded. Use the "Upload Media" button to add images or videos.'})})]})]})]})]})}),o.jsx(y,{item:!0,xs:12,sm:6,children:o.jsx(R,{fullWidth:!0,label:"Rating",type:"number",value:h.rating,placeholder:"Enter rating (0-5)",onChange:e=>u({...h,rating:e.target.value}),inputProps:{min:0,max:5,step:.1},required:!0})}),o.jsx(y,{item:!0,xs:12,sm:6,children:o.jsx(R,{fullWidth:!0,label:"Stock",name:"stock",type:"number",value:h.stock,placeholder:"Enter stock quantity",onChange:e=>u({...h,stock:e.target.value}),required:!0,InputProps:{inputProps:{min:0}}})}),o.jsx(y,{item:!0,xs:12,sm:6,children:o.jsxs(ee,{fullWidth:!0,children:[o.jsx(ge,{children:"Trending"}),o.jsxs(xe,{value:h.trending?"true":"false",label:"Trending",onChange:e=>u({...h,trending:"true"===e.target.value}),children:[o.jsx(w,{value:"true",children:"Yes"}),o.jsx(w,{value:"false",children:"No"})]})]})}),o.jsx(y,{item:!0,xs:12,sm:6,children:o.jsxs(ee,{fullWidth:!0,children:[o.jsx(ge,{children:"Featured"}),o.jsxs(xe,{value:h.featured?"true":"false",label:"Featured",onChange:e=>u({...h,featured:"true"===e.target.value}),children:[o.jsx(w,{value:"true",children:"Yes"}),o.jsx(w,{value:"false",children:"No"})]})]})}),o.jsx(y,{item:!0,xs:12,children:o.jsx(v,{variant:"subtitle1",gutterBottom:!0,sx:{mt:2},children:"Product Specifications"})}),o.jsx(y,{item:!0,xs:12,sm:6,children:o.jsx(R,{fullWidth:!0,label:"Material",value:h.material,onChange:e=>u({...h,material:e.target.value})})}),o.jsx(y,{item:!0,xs:12,sm:6,children:o.jsx(R,{fullWidth:!0,label:"Work",value:h.work,onChange:e=>u({...h,work:e.target.value})})}),o.jsx(y,{item:!0,xs:12,sm:6,children:o.jsx(R,{fullWidth:!0,label:"Length",value:h.length,onChange:e=>u({...h,length:e.target.value})})}),o.jsx(y,{item:!0,xs:12,sm:6,children:o.jsx(R,{fullWidth:!0,label:"Origin",value:h.origin,onChange:e=>u({...h,origin:e.target.value})})})]})}),o.jsxs(Ye,{children:[o.jsx(g,{onClick:L,children:"Cancel"}),o.jsx(g,{type:"submit",variant:"contained",sx:{background:"linear-gradient(45deg, #E31C79 30%, #FF4D4D 90%)","&:hover":{background:"linear-gradient(45deg, #FF4D4D 30%, #E31C79 90%)"}},children:c?"Update":"Add"})]})]})]}),o.jsx(_T,{open:_,onClose:()=>k(!1),selectedProducts:e.filter((e=>m.includes(e.id)))})]})};var ET={},PT=s;Object.defineProperty(ET,"__esModule",{value:!0});var OT=ET.default=void 0,MT=PT(Yt()),AT=o;OT=ET.default=(0,MT.default)((0,AT.jsx)("path",{d:"M18 6h-2c0-2.21-1.79-4-4-4S8 3.79 8 6H6c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V8c0-1.1-.9-2-2-2m-8 4c0 .55-.45 1-1 1s-1-.45-1-1V8h2zm2-6c1.1 0 2 .9 2 2h-4c0-1.1.9-2 2-2m4 6c0 .55-.45 1-1 1s-1-.45-1-1V8h2z"}),"ShoppingBag");const TT=(e,t="products",n="placeholder.jpg")=>{if(!e)return`${Ds}/images/${t}/${n}`;if(e.startsWith("http"))return e;const i=e.replace(new RegExp(`^/images/${t}/`),"");return`${Ds}/images/${t}/${i}`},IT=()=>{var e,t;const{id:n}=It(),i=Dt(),r=At(),[s,a]=Ot.useState(null),[l,c]=Ot.useState(!0),[d,u]=Ot.useState(null),f=null==(e=i.state)?void 0:e.order,m=null==(t=i.state)?void 0:t.paymentId;return Ot.useEffect((()=>{(async()=>{try{if(f)return a(f),void c(!1);if(!n)throw new Error("Order ID is missing");const e=(n.startsWith("order_"),n),t=await Pm(e);if(!t)throw new Error("Order not found");a(t),console.log("Order details loaded:",t)}catch(e){console.error("Error fetching order:",e),u(e instanceof Error?e.message:"Failed to load order details")}finally{c(!1)}})()}),[n,f]),l?o.jsx(h,{sx:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"60vh"},children:o.jsx(F,{})}):d||!s?o.jsxs(h,{children:[o.jsx(v,{color:"error",variant:"h6",sx:{mt:4},children:d||"Order not found"}),o.jsx(g,{variant:"contained",startIcon:o.jsx(Jg,{}),onClick:()=>r("/"),sx:{mt:2},children:"Return to Home"})]}):o.jsx(h,{maxWidth:"md",sx:{py:4},children:o.jsxs(V,{sx:{p:4},children:[o.jsxs(p,{sx:{textAlign:"center",mb:4},children:[o.jsx(Bx,{sx:{fontSize:80,color:"success.main",mb:2}}),o.jsx(v,{variant:"h4",component:"h1",gutterBottom:!0,children:"Order Confirmed!"}),o.jsx(v,{variant:"subtitle1",color:"text.secondary",children:"Thank you for your purchase. Your order has been successfully placed."})]}),o.jsx(C,{sx:{my:3}}),o.jsxs(y,{container:!0,spacing:3,children:[o.jsxs(y,{item:!0,xs:12,md:6,children:[o.jsx(v,{variant:"h6",gutterBottom:!0,children:"Order Details"}),o.jsxs(v,{children:["Order ID: ",s.id]}),m&&o.jsxs(v,{children:["Payment ID: ",m]}),o.jsxs(v,{children:["Date: ",new Date(s.createdAt).toLocaleDateString()]}),o.jsxs(v,{children:["Status: ",s.status]}),o.jsxs(v,{children:["Payment Status: ",s.paymentStatus]}),o.jsxs(v,{variant:"h6",sx:{mt:2},children:["Total Amount: ",s.total.toLocaleString()]})]}),o.jsxs(y,{item:!0,xs:12,md:6,children:[o.jsx(v,{variant:"h6",gutterBottom:!0,children:"Shipping Address"}),o.jsx(v,{children:s.shippingAddress.fullName}),o.jsx(v,{children:s.shippingAddress.address}),o.jsxs(v,{children:[s.shippingAddress.city,", ",s.shippingAddress.state," ",s.shippingAddress.pincode]}),o.jsx(v,{children:s.shippingAddress.country}),o.jsxs(v,{children:["Phone: ",s.shippingAddress.phone]}),o.jsxs(v,{children:["Email: ",s.shippingAddress.email]})]}),o.jsxs(y,{item:!0,xs:12,children:[o.jsx(v,{variant:"h6",gutterBottom:!0,children:"Order Items"}),s.items.map((e=>o.jsxs(p,{sx:{display:"flex",alignItems:"center",mb:2},children:[o.jsx("img",{src:TT(e.image),alt:e.name,style:{width:60,height:60,objectFit:"cover",marginRight:16}}),o.jsxs(p,{children:[o.jsx(v,{variant:"subtitle1",children:e.name}),o.jsxs(v,{variant:"body2",color:"text.secondary",children:["Quantity: ",e.quantity,"  ",e.price.toLocaleString()]})]})]},e.id)))]})]}),o.jsxs(p,{sx:{mt:4,display:"flex",justifyContent:"center",gap:2},children:[o.jsx(g,{variant:"contained",startIcon:o.jsx(OT,{}),onClick:()=>r("/products"),sx:{background:"linear-gradient(45deg, #E31C79 30%, #FF4D4D 90%)","&:hover":{background:"linear-gradient(45deg, #FF4D4D 30%, #E31C79 90%)"}},children:"Continue Shopping"}),o.jsx(g,{variant:"outlined",startIcon:o.jsx(Jg,{}),onClick:()=>r("/"),sx:{borderColor:"#E31C79",color:"#E31C79","&:hover":{borderColor:"#FF4D4D",color:"#FF4D4D"}},children:"Return Home"})]})]})})},DT=280;function RT(){var e,t;const n=At();Dt();const i=l(),r=c(i.breakpoints.down("sm")),[s,a]=Ot.useState(!r),[h,m]=Ot.useState(null),[x,y]=Ot.useState(null),[P,O]=Ot.useState(""),[M,A]=Ot.useState(Date.now());Ot.useEffect((()=>{T()}),[]),Ot.useEffect((()=>{const e=()=>A(Date.now());window.addEventListener("mousemove",e),window.addEventListener("keydown",e),window.addEventListener("click",e);const t=setInterval((()=>{Date.now()-M>3e5&&(R(),ni.info("Session expired. Please login again."))}),6e4);return()=>{window.removeEventListener("mousemove",e),window.removeEventListener("keydown",e),window.removeEventListener("click",e),clearInterval(t)}}),[M]);const T=async()=>{try{const e=await mx.getProfile();m(e),O(e.name)}catch(e){console.error("Error fetching customer profile:",e),ni.error("Failed to load profile")}},I=()=>{a(!s)},D=()=>{y(null)},R=()=>{localStorage.removeItem("customerToken"),localStorage.removeItem("customerEmail"),localStorage.removeItem("customerId"),n("/login")},F=[{text:"Orders",icon:o.jsx(gt,{}),path:"orders"},{text:"Profile",icon:o.jsx(mt,{}),path:"profile"},{text:"Addresses",icon:o.jsx(xt,{}),path:"addresses"},{text:"Settings",icon:o.jsx(Te,{}),path:"settings"}],L=o.jsxs(p,{sx:{height:"100%",display:"flex",flexDirection:"column",bgcolor:"#f8f9fa"},children:[o.jsxs(p,{sx:{p:3,display:"flex",alignItems:"center",gap:2},children:[o.jsx(Ie,{sx:{width:40,height:40,bgcolor:i.palette.primary.main,fontFamily:"Playfair Display, serif"},children:(null==(e=null==h?void 0:h.name)?void 0:e[0])||"C"}),o.jsxs(p,{children:[o.jsx(v,{variant:"h6",sx:{fontWeight:600,color:"#1a1f36",fontFamily:"Playfair Display, serif"},children:(null==h?void 0:h.name)||"Customer"}),o.jsx(v,{variant:"body2",color:"text.secondary",sx:{fontSize:"0.8rem"},children:null==h?void 0:h.email})]})]}),o.jsx(C,{sx:{mx:2,bgcolor:"rgba(0,0,0,0.06)"}}),o.jsx(_,{sx:{flex:1,px:2},children:F.map((e=>o.jsx(k,{disablePadding:!0,children:o.jsxs(ft,{onClick:()=>n(`/customer/${e.path}`),sx:{borderRadius:1,"&:hover":{backgroundColor:"rgba(227, 28, 121, 0.04)"}},children:[o.jsx(S,{sx:{color:"#E31C79"},children:e.icon}),o.jsx(E,{primary:e.text,sx:{"& .MuiListItemText-primary":{fontFamily:"Montserrat, sans-serif",fontSize:"0.9rem"}}})]})},e.text)))}),o.jsx(C,{sx:{mx:2,bgcolor:"rgba(0,0,0,0.06)"}}),o.jsx(p,{sx:{p:2},children:o.jsx(g,{fullWidth:!0,startIcon:o.jsx(ze,{}),onClick:R,sx:{color:"#E31C79","&:hover":{backgroundColor:"rgba(227, 28, 121, 0.04)"}},children:"Logout"})})]});return o.jsxs(p,{sx:{display:"flex"},children:[o.jsx(d,{position:"fixed",sx:{width:{sm:"calc(100% - 280px)"},ml:{sm:"280px"},bgcolor:"white",color:"#333",boxShadow:"0 2px 4px rgba(0,0,0,0.1)"},children:o.jsxs(u,{children:[o.jsx(f,{color:"inherit","aria-label":"open drawer",edge:"start",onClick:I,sx:{mr:2,display:{sm:"none"}},children:o.jsx(Le,{})}),o.jsx(v,{variant:"h6",noWrap:!0,component:"div",sx:{flexGrow:1,color:"#333",fontFamily:"Playfair Display, serif"},children:"Customer Panel"}),o.jsxs(p,{sx:{display:"flex",alignItems:"center",gap:2},children:[o.jsx(g,{variant:"outlined",startIcon:o.jsx(rt,{}),onClick:()=>n("/"),sx:{color:"#E31C79",borderColor:"#E31C79","&:hover":{borderColor:"#E31C79",backgroundColor:"rgba(227, 28, 121, 0.04)"},textTransform:"none",fontFamily:"Montserrat, sans-serif"},children:"Shop Now"}),o.jsx(f,{onClick:e=>{y(e.currentTarget)},sx:{color:"#333","&:hover":{backgroundColor:"rgba(227, 28, 121, 0.04)"}},children:o.jsx(Ie,{sx:{width:32,height:32,bgcolor:"#E31C79"},children:(null==(t=null==h?void 0:h.name)?void 0:t[0])||"C"})})]})]})}),o.jsx(p,{component:"nav",sx:{width:{sm:DT},flexShrink:{sm:0}},children:r?o.jsx(b,{variant:"temporary",open:s,onClose:I,ModalProps:{keepMounted:!0},sx:{display:{xs:"block",sm:"none"},"& .MuiDrawer-paper":{boxSizing:"border-box",width:DT,borderRight:"1px solid rgba(0,0,0,0.06)"}},children:L}):o.jsx(b,{variant:"permanent",sx:{display:{xs:"none",sm:"block"},"& .MuiDrawer-paper":{boxSizing:"border-box",width:DT,borderRight:"1px solid rgba(0,0,0,0.06)"}},open:!0,children:L})}),o.jsx(p,{component:"main",sx:{flexGrow:1,p:3,width:{sm:"calc(100% - 280px)"},mt:"64px",bgcolor:"#f8f9fa",minHeight:"calc(100vh - 64px)"},children:o.jsx(Rt,{})}),o.jsxs(j,{anchorEl:x,open:Boolean(x),onClose:D,PaperProps:{sx:{mt:1.5,borderRadius:1,boxShadow:"0 2px 4px rgba(0,0,0,0.1)"}},children:[o.jsxs(w,{onClick:()=>{n("/customer/profile"),D()},children:[o.jsx(S,{children:o.jsx(mt,{fontSize:"small"})}),"Profile"]}),o.jsxs(w,{onClick:()=>{n("/customer/settings"),D()},children:[o.jsx(S,{children:o.jsx(Te,{fontSize:"small"})}),"Settings"]}),o.jsxs(w,{onClick:R,children:[o.jsx(S,{children:o.jsx(ze,{fontSize:"small"})}),"Logout"]})]})]})}var FT={},LT=s;Object.defineProperty(FT,"__esModule",{value:!0});var zT=FT.default=void 0,BT=LT(Yt()),WT=o;zT=FT.default=(0,BT.default)((0,WT.jsx)("path",{d:"M18 17H6v-2h12zm0-4H6v-2h12zm0-4H6V7h12zM3 22l1.5-1.5L6 22l1.5-1.5L9 22l1.5-1.5L12 22l1.5-1.5L15 22l1.5-1.5L18 22l1.5-1.5L21 22V2l-1.5 1.5L18 2l-1.5 1.5L15 2l-1.5 1.5L12 2l-1.5 1.5L9 2 7.5 3.5 6 2 4.5 3.5 3 2z"}),"Receipt");const NT=()=>{const e=At(),[t,n]=Ot.useState([]),[i,r]=Ot.useState(!0),[s,a]=Ot.useState(""),[l,c]=Ot.useState({}),[d,u]=Ot.useState(!1),[m,x]=Ot.useState(null);Ot.useEffect((()=>{y()}),[]);const y=async()=>{try{const e=await mx.getOrders();n(Array.isArray(e)?e:[])}catch(e){a("Failed to load orders"),ni.error("Failed to load orders"),n([])}finally{r(!1)}},b=e=>{switch(e){case"pending":return"warning";case"processing":return"info";case"shipped":return"primary";case"delivered":return"success";case"cancelled":return"error";default:return"default"}},j=t.filter((e=>"completed"===e.paymentStatus||"processing"===e.status||"completed"===e.status));return i?o.jsx(p,{sx:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"60vh"},children:o.jsx(F,{})}):o.jsx(h,{maxWidth:"lg",sx:{mt:4,mb:8},children:o.jsxs(V,{elevation:3,sx:{p:4,borderRadius:2,background:"linear-gradient(to bottom right, #ffffff, #f8f9fa)"},children:[o.jsxs(p,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:4},children:[o.jsx(v,{variant:"h4",sx:{color:"#E31C79",fontFamily:"Playfair Display, serif"},children:"Order History"}),o.jsx(g,{variant:"outlined",onClick:y,startIcon:o.jsx(zT,{}),sx:{color:"#E31C79",borderColor:"#E31C79"},children:"Refresh"})]}),s&&o.jsx(H,{severity:"error",sx:{mb:3},children:s}),0===j.length?o.jsx(p,{sx:{textAlign:"center",py:4},children:o.jsx(v,{variant:"h6",color:"text.secondary",children:"No orders found"})}):o.jsx(Y,{children:o.jsxs(G,{children:[o.jsx(X,{children:o.jsxs(K,{children:[o.jsx(J,{children:"Order ID"}),o.jsx(J,{children:"Date"}),o.jsx(J,{children:"Items"}),o.jsx(J,{children:"Total"}),o.jsx(J,{children:"Status"}),o.jsx(J,{children:"Actions"})]})}),o.jsx(Q,{children:j.map((t=>o.jsxs(K,{children:[o.jsx(J,{children:t.id}),o.jsx(J,{children:new Date(t.createdAt).toLocaleDateString()}),o.jsx(J,{children:t.items.map((e=>o.jsxs(p,{sx:{mb:1},children:[o.jsx(v,{variant:"body2",children:e.name}),o.jsxs(v,{variant:"caption",color:"text.secondary",children:["Qty: ",e.quantity," | ",e.price.toFixed(2)]})]},e.id)))}),o.jsxs(J,{children:["",t.total.toFixed(2)]}),o.jsx(J,{children:o.jsx(M,{label:t.status.charAt(0).toUpperCase()+t.status.slice(1),color:b(t.status),size:"small"})}),o.jsxs(J,{children:[o.jsx(ut,{title:"View Details",children:o.jsx(f,{onClick:()=>e(`/order/${t.id}`),sx:{color:"#E31C79"},children:o.jsx(zT,{})})}),"shipped"===t.status&&o.jsx(ut,{title:"Track Order",children:o.jsx(f,{onClick:()=>(async e=>{try{const t=await mx.trackOrder(e);x(t),u(!0)}catch(t){ni.error("Unable to fetch tracking information. Please try again later.")}})(t.id),sx:{color:"#E31C79"},children:o.jsx(Nm,{})})})]})]},t.id)))})]})})]})})},VT=()=>{const e=At(),[t,n]=Ot.useState(null),[i,r]=Ot.useState(!0),[s,a]=Ot.useState(!1),[l,c]=Ot.useState(""),[d,u]=Ot.useState({name:"",email:"",phone:""});Ot.useEffect((()=>{f()}),[]);const f=async()=>{try{const e=await mx.getProfile();n(e),u({name:e.name,email:e.email,phone:e.phone})}catch(e){console.error("Error fetching profile:",e),c("Failed to load profile data"),ni.error("Failed to load profile data")}finally{r(!1)}},m=e=>{const{name:t,value:n}=e.target;u((e=>({...e,[t]:n})))};return i?o.jsx(p,{sx:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"60vh"},children:o.jsx(F,{})}):o.jsx(h,{maxWidth:"md",sx:{mt:4,mb:8},children:o.jsxs(V,{elevation:3,sx:{p:4,borderRadius:2,background:"linear-gradient(to bottom right, #ffffff, #f8f9fa)"},children:[o.jsx(v,{variant:"h4",sx:{color:"#E31C79",fontFamily:"Playfair Display, serif",mb:4},children:"My Profile"}),l&&o.jsx(H,{severity:"error",sx:{mb:3},children:l}),o.jsxs("form",{onSubmit:async e=>{e.preventDefault(),c(""),a(!0);try{await mx.updateProfile(d),n((e=>e?{...e,...d}:null)),ni.success("Profile updated successfully")}catch(t){console.error("Error updating profile:",t),c("Failed to update profile"),ni.error("Failed to update profile")}finally{a(!1)}},children:[o.jsxs(y,{container:!0,spacing:3,children:[o.jsx(y,{item:!0,xs:12,children:o.jsx(R,{fullWidth:!0,label:"Full Name",name:"name",value:d.name,onChange:m,required:!0,autoComplete:"name"})}),o.jsx(y,{item:!0,xs:12,md:6,children:o.jsx(R,{fullWidth:!0,label:"Email",name:"email",type:"email",value:d.email,onChange:m,required:!0,autoComplete:"email",disabled:!0})}),o.jsx(y,{item:!0,xs:12,md:6,children:o.jsx(R,{fullWidth:!0,label:"Phone Number",name:"phone",type:"tel",value:d.phone,onChange:m,required:!0,autoComplete:"tel",InputProps:{startAdornment:o.jsx(q,{position:"start",children:"+91"})}})})]}),o.jsx(p,{sx:{mt:4,display:"flex",justifyContent:"flex-end"},children:o.jsx(g,{type:"submit",variant:"contained",disabled:s,sx:{background:"linear-gradient(45deg, #E31C79 30%, #FF4D4D 90%)","&:hover":{background:"linear-gradient(45deg, #FF4D4D 30%, #E31C79 90%)"}},children:s?o.jsx(F,{size:24,color:"inherit"}):"Save Changes"})})]}),o.jsx(C,{sx:{my:4}}),o.jsxs(p,{children:[o.jsx(v,{variant:"h6",sx:{mb:2,color:"#666"},children:"Account Information"}),o.jsxs(y,{container:!0,spacing:2,children:[o.jsxs(y,{item:!0,xs:12,md:6,children:[o.jsx(v,{variant:"body2",color:"text.secondary",children:"Member Since"}),o.jsx(v,{variant:"body1",children:(null==t?void 0:t.createdAt)?new Date(t.createdAt).toLocaleDateString():"N/A"})]}),o.jsxs(y,{item:!0,xs:12,md:6,children:[o.jsx(v,{variant:"body2",color:"text.secondary",children:"Last Login"}),o.jsx(v,{variant:"body1",children:(null==t?void 0:t.lastLogin)?new Date(t.lastLogin).toLocaleDateString():"N/A"})]})]})]}),o.jsx(p,{sx:{mt:4,display:"flex",justifyContent:"flex-end"},children:o.jsx(g,{onClick:()=>e("/customer/settings"),sx:{color:"#E31C79"},children:"Account Settings"})})]})})},$T=()=>{const[e,t]=Ot.useState([]),[n,i]=Ot.useState(!0),[r,s]=Ot.useState("");Ot.useEffect((()=>{a()}),[]);const a=async()=>{try{const e=await mx.getOrders(),n=new Map;e.forEach((e=>{if(!e.shippingAddress)return;const t=e.shippingAddress,i=`${t.address}-${t.city}-${t.state}-${t.pincode}`;n.has(i)||n.set(i,{...t,orderCount:0,lastUsed:e.createdAt});const r=n.get(i);r.orderCount=(r.orderCount??0)+1,(!r.lastUsed||new Date(e.createdAt)>new Date(r.lastUsed??""))&&(r.lastUsed=e.createdAt)}));const r=Array.from(n.values()).sort(((e,t)=>new Date(t.lastUsed).getTime()-new Date(e.lastUsed).getTime()));t(r),i(!1)}catch(e){console.error("Error fetching order addresses:",e),ni.error("Failed to load order addresses"),i(!1)}};return n?o.jsx(p,{sx:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"60vh"},children:o.jsx(F,{})}):o.jsx(h,{maxWidth:"md",sx:{mt:4,mb:8},children:o.jsxs(V,{elevation:3,sx:{p:4,borderRadius:2,background:"linear-gradient(to bottom right, #ffffff, #f8f9fa)"},children:[o.jsxs(p,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:4},children:[o.jsx(v,{variant:"h4",sx:{color:"#E31C79",fontFamily:"Playfair Display, serif"},children:"Order Addresses"}),o.jsx(g,{variant:"outlined",onClick:a,sx:{color:"#E31C79",borderColor:"#E31C79"},children:"Refresh"})]}),r&&o.jsx(H,{severity:"error",sx:{mb:3},children:r}),0===e.length?o.jsxs(p,{sx:{textAlign:"center",py:4},children:[o.jsx(xt,{sx:{fontSize:48,color:"text.secondary",mb:2}}),o.jsx(v,{variant:"h6",color:"text.secondary",children:"No order addresses found"})]}):o.jsx(y,{container:!0,spacing:3,children:e.map(((e,t)=>o.jsx(y,{item:!0,xs:12,children:o.jsxs(V,{elevation:1,sx:{p:3,position:"relative",border:"1px solid rgba(0,0,0,0.1)",borderRadius:2},children:[o.jsxs(p,{sx:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",mb:2},children:[o.jsxs(p,{children:[o.jsx(v,{variant:"h6",sx:{mb:1},children:e.fullName}),o.jsx(v,{variant:"body2",color:"text.secondary",children:e.address}),o.jsxs(v,{variant:"body2",color:"text.secondary",children:[e.city,", ",e.state," - ",e.pincode]}),o.jsxs(v,{variant:"body2",color:"text.secondary",children:["Phone: ",e.phone]})]}),o.jsx(p,{sx:{display:"flex",gap:1},children:o.jsx(M,{label:`${e.orderCount} ${1===e.orderCount?"Order":"Orders"}`,color:"primary",size:"small"})})]}),o.jsxs(v,{variant:"caption",color:"text.secondary",children:["Last used: ",new Date(e.lastUsed).toLocaleDateString()]})]})},t)))})]})})},UT=()=>{const[e,t]=Ot.useState(!1),[n,i]=Ot.useState(""),[r,s]=Ot.useState(!1),[a,l]=Ot.useState(!1),[c,d]=Ot.useState(!1),[u,m]=Ot.useState({currentPassword:"",newPassword:"",confirmPassword:""}),x=e=>{const{name:t,value:n}=e.target;m((e=>({...e,[t]:n})))};return o.jsx(h,{maxWidth:"md",sx:{mt:4,mb:8},children:o.jsxs(V,{elevation:3,sx:{p:4,borderRadius:2,background:"linear-gradient(to bottom right, #ffffff, #f8f9fa)"},children:[o.jsx(v,{variant:"h4",sx:{color:"#E31C79",fontFamily:"Playfair Display, serif",mb:4},children:"Account Settings"}),n&&o.jsx(H,{severity:"error",sx:{mb:3},children:n}),o.jsx("form",{onSubmit:async e=>{var n,r;if(e.preventDefault(),i(""),t(!0),u.newPassword!==u.confirmPassword)return i("New passwords do not match"),void t(!1);if(u.newPassword.length<8)return i("New password must be at least 8 characters long"),void t(!1);try{u.currentPassword&&u.newPassword&&(await mx.changePassword(u.currentPassword,u.newPassword),ni.success("Password updated successfully"),m({currentPassword:"",newPassword:"",confirmPassword:""}))}catch(s){console.error("Error updating password:",s),i((null==(r=null==(n=s.response)?void 0:n.data)?void 0:r.message)||"Failed to update password"),ni.error("Failed to update password")}finally{t(!1)}},children:o.jsxs(y,{container:!0,spacing:4,children:[o.jsxs(y,{item:!0,xs:12,children:[o.jsx(v,{variant:"h6",sx:{mb:2,color:"#E31C79"},children:"Change Password"}),o.jsxs(y,{container:!0,spacing:2,children:[o.jsx(y,{item:!0,xs:12,children:o.jsx(R,{fullWidth:!0,label:"Current Password",name:"currentPassword",type:r?"text":"password",value:u.currentPassword,onChange:x,InputProps:{endAdornment:o.jsx(q,{position:"end",children:o.jsx(f,{onClick:()=>s(!r),edge:"end",children:r?o.jsx(yt,{}):o.jsx(Je,{})})})}})}),o.jsx(y,{item:!0,xs:12,children:o.jsx(R,{fullWidth:!0,label:"New Password",name:"newPassword",type:a?"text":"password",value:u.newPassword,onChange:x,InputProps:{endAdornment:o.jsx(q,{position:"end",children:o.jsx(f,{onClick:()=>l(!a),edge:"end",children:a?o.jsx(yt,{}):o.jsx(Je,{})})})}})}),o.jsx(y,{item:!0,xs:12,children:o.jsx(R,{fullWidth:!0,label:"Confirm New Password",name:"confirmPassword",type:c?"text":"password",value:u.confirmPassword,onChange:x,InputProps:{endAdornment:o.jsx(q,{position:"end",children:o.jsx(f,{onClick:()=>d(!c),edge:"end",children:c?o.jsx(yt,{}):o.jsx(Je,{})})})}})})]})]}),o.jsx(y,{item:!0,xs:12,children:o.jsx(p,{sx:{display:"flex",justifyContent:"flex-end",mt:2},children:o.jsx(g,{type:"submit",variant:"contained",disabled:e,sx:{background:"linear-gradient(45deg, #E31C79 30%, #FF4D4D 90%)","&:hover":{background:"linear-gradient(45deg, #FF4D4D 30%, #E31C79 90%)"}},children:e?o.jsx(F,{size:24}):"Save Changes"})})})]})})]})})},HT=()=>{const e=At(),[t,n]=Ot.useState({name:"",email:"",phone:"",password:"",confirmPassword:""}),[i,r]=Ot.useState(!1),[s,a]=Ot.useState(!1),[l,c]=Ot.useState(""),[d,u]=Ot.useState(!1),m=e=>{const{name:t,value:i}=e.target;if("phone"===t){const e=i.replace(/\D/g,"").slice(0,10);n((n=>({...n,[t]:e})))}else n((e=>({...e,[t]:i})))};return o.jsx(h,{maxWidth:"sm",sx:{mt:8,mb:8},children:o.jsxs(V,{elevation:3,sx:{p:4,borderRadius:2,background:"linear-gradient(to bottom right, #ffffff, #f8f9fa)"},children:[o.jsxs(p,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:3},children:[o.jsx(v,{variant:"h4",sx:{color:"#E31C79",fontFamily:"Playfair Display, serif"},children:"Register"}),o.jsx(g,{startIcon:o.jsx(Jg,{}),onClick:()=>e("/"),sx:{color:"#E31C79","&:hover":{backgroundColor:"rgba(227, 28, 121, 0.04)"}},children:"Home"})]}),l&&o.jsx(H,{severity:"error",sx:{width:"100%",mb:2},children:l}),o.jsxs("form",{onSubmit:async n=>{var i;n.preventDefault(),u(!0),c("");try{await mx.register(t);ni.success("Registration successful! Please login."),e("/login")}catch(r){const e=(null==(i=r.data)?void 0:i.message)||r.message||"Registration failed. Please try again.";c(e),ni.error(e)}finally{u(!1)}},style:{width:"100%"},children:[o.jsxs(y,{container:!0,spacing:2,children:[o.jsx(y,{item:!0,xs:12,children:o.jsx(R,{fullWidth:!0,id:"register-name",label:"Full Name",name:"name",value:t.name,onChange:m,required:!0,autoComplete:"name"})}),o.jsx(y,{item:!0,xs:12,children:o.jsx(R,{fullWidth:!0,id:"register-email",label:"Email",name:"email",type:"email",value:t.email,onChange:m,required:!0,autoComplete:"email"})}),o.jsx(y,{item:!0,xs:12,children:o.jsx(R,{fullWidth:!0,id:"register-phone",label:"Phone Number",name:"phone",type:"tel",value:t.phone,placeholder:"Enter 10-digit mobile number",onChange:m,required:!0,autoComplete:"tel",inputProps:{pattern:"[0-9]*",maxLength:10,inputMode:"numeric"},InputProps:{startAdornment:o.jsx(q,{position:"start",children:"+91"})}})}),o.jsx(y,{item:!0,xs:12,children:o.jsx(R,{fullWidth:!0,id:"register-password",label:"Password",name:"password",type:i?"text":"password",value:t.password,onChange:m,required:!0,autoComplete:"new-password",InputProps:{endAdornment:o.jsx(q,{position:"end",children:o.jsx(f,{onClick:()=>r(!i),edge:"end","aria-label":"toggle password visibility",children:i?o.jsx(qg,{}):o.jsx(Ng,{})})})}})}),o.jsx(y,{item:!0,xs:12,children:o.jsx(R,{fullWidth:!0,id:"register-confirm-password",label:"Confirm Password",name:"confirmPassword",type:s?"text":"password",value:t.confirmPassword,onChange:m,required:!0,autoComplete:"new-password",InputProps:{endAdornment:o.jsx(q,{position:"end",children:o.jsx(f,{onClick:()=>a(!s),edge:"end","aria-label":"toggle confirm password visibility",children:s?o.jsx(qg,{}):o.jsx(Ng,{})})})}})})]}),o.jsx(g,{type:"submit",fullWidth:!0,variant:"contained",disabled:d,sx:{mt:3,mb:2,background:"linear-gradient(45deg, #E31C79 30%, #FF4D4D 90%)","&:hover":{background:"linear-gradient(45deg, #FF4D4D 30%, #E31C79 90%)"}},children:d?o.jsx(F,{size:24,color:"inherit"}):"Register"})]}),o.jsx(p,{sx:{textAlign:"center"},children:o.jsxs(v,{variant:"body2",color:"text.secondary",children:["Already have an account?"," ",o.jsx(Tt,{to:"/login",style:{color:"#E31C79",textDecoration:"none"},children:"Login"})]})})]})})},qT=()=>{const{orderId:e}=It(),t=At(),[n,i]=Ot.useState(null),[r,s]=Ot.useState(!0),[a,l]=Ot.useState("");Ot.useEffect((()=>{e&&c(e)}),[e]);const c=async e=>{try{const t=await mx.trackOrder(e);i(t)}catch(t){l("Failed to fetch tracking information"),ni.error("Failed to fetch tracking information")}finally{s(!1)}};return r?o.jsx(p,{sx:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"60vh"},children:o.jsx(F,{})}):a||!n?o.jsxs(h,{maxWidth:"md",sx:{mt:4,mb:8},children:[o.jsx(H,{severity:"error",sx:{mb:3},children:a||"Tracking information not found"}),o.jsx(g,{variant:"contained",onClick:()=>t("/orders"),sx:{bgcolor:"#E31C79","&:hover":{bgcolor:"#C41E3A"}},children:"Back to Orders"})]}):o.jsx(h,{maxWidth:"md",sx:{mt:4,mb:8},children:o.jsxs(V,{elevation:3,sx:{p:4,borderRadius:2,background:"linear-gradient(to bottom right, #ffffff, #f8f9fa)"},children:[o.jsxs(p,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:4},children:[o.jsx(v,{variant:"h4",sx:{color:"#E31C79",fontFamily:"Playfair Display, serif"},children:"Track Order"}),o.jsx(g,{variant:"outlined",onClick:()=>t("/orders"),sx:{color:"#E31C79",borderColor:"#E31C79"},children:"Back to Orders"})]}),o.jsxs(y,{container:!0,spacing:3,children:[o.jsx(y,{item:!0,xs:12,children:o.jsxs(V,{sx:{p:2,bgcolor:"rgba(0,0,0,0.02)"},children:[o.jsx(v,{variant:"subtitle1",gutterBottom:!0,children:"Order Details"}),o.jsxs(y,{container:!0,spacing:2,children:[o.jsxs(y,{item:!0,xs:12,md:6,children:[o.jsxs(v,{variant:"body2",color:"text.secondary",children:["Order ID: ",n.orderId]}),o.jsxs(v,{variant:"body2",color:"text.secondary",children:["Courier: ",n.courier]})]}),o.jsxs(y,{item:!0,xs:12,md:6,children:[o.jsxs(v,{variant:"body2",color:"text.secondary",children:["Tracking ID: ",n.trackingId]}),o.jsxs(v,{variant:"body2",color:"text.secondary",children:["Last Updated: ",new Date(n.lastUpdated).toLocaleString()]})]})]})]})}),o.jsx(y,{item:!0,xs:12,children:o.jsxs(vt,{activeStep:(e=>{switch(e.toLowerCase()){case"pending":default:return 0;case"processing":return 1;case"shipped":return 2;case"out for delivery":return 3;case"delivered":return 4}})(n.status),orientation:"vertical",children:[o.jsxs(bt,{children:[o.jsx(jt,{children:"Order Placed"}),o.jsx(wt,{children:o.jsx(v,{variant:"body2",color:"text.secondary",children:"Your order has been successfully placed"})})]}),o.jsxs(bt,{children:[o.jsx(jt,{children:"Processing"}),o.jsx(wt,{children:o.jsx(v,{variant:"body2",color:"text.secondary",children:"Your order is being processed"})})]}),o.jsxs(bt,{children:[o.jsx(jt,{children:"Shipped"}),o.jsx(wt,{children:o.jsx(v,{variant:"body2",color:"text.secondary",children:"Your order has been shipped"})})]}),o.jsxs(bt,{children:[o.jsx(jt,{children:"Out for Delivery"}),o.jsx(wt,{children:o.jsx(v,{variant:"body2",color:"text.secondary",children:"Your order is out for delivery"})})]}),o.jsxs(bt,{children:[o.jsx(jt,{children:"Delivered"}),o.jsx(wt,{children:o.jsx(v,{variant:"body2",color:"text.secondary",children:"Your order has been delivered"})})]})]})}),n.history&&n.history.length>0&&o.jsxs(y,{item:!0,xs:12,children:[o.jsx(C,{sx:{my:3}}),o.jsx(v,{variant:"h6",gutterBottom:!0,children:"Tracking History"}),o.jsx(p,{sx:{mt:2},children:n.history.map(((e,t)=>o.jsxs(p,{sx:{mb:2},children:[o.jsx(v,{variant:"subtitle2",children:e.status}),o.jsx(v,{variant:"body2",color:"text.secondary",children:e.location}),o.jsx(v,{variant:"caption",color:"text.secondary",children:new Date(e.timestamp).toLocaleString()})]},t)))})]})]})]})})},YT=We(g)`
  @media print {
    display: none;
  }
`,GT=We(V)`
  padding: 40px;
  margin: 20px;
  @media print {
    margin: 0;
    padding: 20px;
    box-shadow: none;
    width: 100%;
    height: 100%;
    position: fixed;
    top: 0;
    left: 0;
    background: white;
  }
`,XT=We("style")`
  @import url('https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;500;700&display=swap');
  
  @media print {
    @page {
      size: A4;
      margin: 0;
    }
    body {
      margin: 0;
      padding: 0;
      font-family: 'Roboto', sans-serif;
    }
    .no-print {
      display: none !important;
    }
    .print-only {
      display: block !important;
    }
  }
`,KT=({children:e})=>{const[t,n]=Ot.useState(!1),[i,r]=Ot.useState(null);return Ot.useEffect((()=>{const e=e=>{n(!0),r(e.error)};return window.addEventListener("error",e),()=>window.removeEventListener("error",e)}),[]),t?o.jsxs(p,{sx:{p:3},children:[o.jsxs(H,{severity:"error",sx:{mb:2},children:[o.jsx(v,{variant:"h6",children:"Something went wrong"}),o.jsx(v,{variant:"body2",children:null==i?void 0:i.message})]}),o.jsx(g,{variant:"contained",onClick:()=>window.location.href="/",children:"Return to Home"})]}):o.jsx(o.Fragment,{children:e})},JT=()=>{var e,t,n;const i=Dt(),[r,s]=Ot.useState(null),[a,l]=Ot.useState(!0),[c,d]=Ot.useState(null);Ot.useEffect((()=>{setTimeout((()=>{var e,t,n,r;if(console.log("Starting to load invoice data..."),i.state)return console.log("Loading from location state:",i.state),s(i.state),void l(!1);const o=localStorage.getItem("currentInvoiceData");if(console.log("Stored invoice data:",o),o)try{const n=JSON.parse(o);if(console.log("Parsed invoice data:",n),!n||!n.items||!Array.isArray(n.items))throw console.error("Invalid invoice data format:",n),new Error("Invalid invoice data format");const i={...n,orderNumber:n.orderNumber||"N/A",createdAt:n.createdAt||(new Date).toISOString(),customer:{name:(null==(e=n.customer)?void 0:e.name)||"N/A",phone:(null==(t=n.customer)?void 0:t.phone)||"N/A"},items:n.items.map((e=>{var t,n;return{product:{name:(null==(t=e.product)?void 0:t.name)||"Unknown Product",price:(null==(n=e.product)?void 0:n.price)||0},quantity:e.quantity||0}})),total:n.total||0,paymentMode:n.paymentMode||"N/A",discountPercentage:n.discountPercentage||"0",cashDiscount:n.cashDiscount||"0"};console.log("Validated invoice data:",i),s(i);const r=()=>{window.print(),localStorage.removeItem("currentInvoiceData")},a=document.querySelector(".print-button");a&&a.addEventListener("click",r)}catch(a){console.error("Error parsing invoice data:",a),d("Invalid invoice data format")}else{const e=localStorage.getItem("lastPOSState");if(console.log("No invoice data found, checking lastPOSState:",e),e)try{const t=JSON.parse(e);console.log("Parsed lastPOSState:",t);const i={orderNumber:`POS-${(new Date).getTime()}`,createdAt:(new Date).toISOString(),customer:{name:(null==(n=t.customer)?void 0:n.name)||"N/A",phone:(null==(r=t.customer)?void 0:r.phone)||"N/A"},items:t.cart.map((e=>{var t,n;return{product:{name:(null==(t=e.product)?void 0:t.name)||"Unknown Product",price:(null==(n=e.product)?void 0:n.price)||0},quantity:e.quantity||0}})),total:t.cartTotal||0,paymentMode:t.paymentMode||"N/A",discountPercentage:t.discountPercentage||"0",cashDiscount:t.cashDiscount||"0"};console.log("Converted POS state to invoice data:",i),s(i)}catch(a){console.error("Error converting POS state to invoice data:",a),d("No invoice data found. Please complete a purchase to generate an invoice.")}else console.log("No invoice data found in localStorage"),d("No invoice data found. Please complete a purchase to generate an invoice.")}l(!1)}),100)}),[i.state]);const h=(null==(e=null==r?void 0:r.items)?void 0:e.reduce(((e,t)=>e+t.product.price*t.quantity),0))||0,u=(null==r?void 0:r.discountPercentage)?h*Number(r.discountPercentage)/100:0,f=(null==r?void 0:r.cashDiscount)?Number(r.cashDiscount):0,m=h-u-f;return a?o.jsx(p,{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"100vh",children:o.jsx(F,{})}):c||!r?o.jsxs(p,{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"100vh",flexDirection:"column",children:[o.jsx(v,{color:"error",variant:"h6",children:c||"No invoice data available"}),o.jsxs(V,{elevation:3,sx:{p:3,mt:3,maxWidth:"800px",width:"100%"},children:[o.jsx(v,{variant:"h6",gutterBottom:!0,children:"Debug Information"}),o.jsxs(p,{sx:{mb:2},children:[o.jsx(v,{variant:"subtitle2",children:"Location State:"}),o.jsx(v,{variant:"body2",sx:{fontFamily:"monospace",bgcolor:"#f5f5f5",p:1,borderRadius:1},children:JSON.stringify(i.state,null,2)||"No location state"})]}),o.jsxs(p,{sx:{mb:2},children:[o.jsx(v,{variant:"subtitle2",children:"LocalStorage Data:"}),o.jsx(v,{variant:"body2",sx:{fontFamily:"monospace",bgcolor:"#f5f5f5",p:1,borderRadius:1},children:localStorage.getItem("currentInvoiceData")||"No localStorage data"})]}),o.jsxs(p,{sx:{mb:2},children:[o.jsx(v,{variant:"subtitle2",children:"Loading State:"}),o.jsx(v,{variant:"body2",sx:{fontFamily:"monospace",bgcolor:"#f5f5f5",p:1,borderRadius:1},children:a?"Loading...":"Not Loading"})]}),o.jsxs(p,{sx:{mb:2},children:[o.jsx(v,{variant:"subtitle2",children:"Error State:"}),o.jsx(v,{variant:"body2",sx:{fontFamily:"monospace",bgcolor:"#f5f5f5",p:1,borderRadius:1},children:c||"No error"})]}),o.jsxs(p,{sx:{mb:2},children:[o.jsx(v,{variant:"subtitle2",children:"Current URL:"}),o.jsx(v,{variant:"body2",sx:{fontFamily:"monospace",bgcolor:"#f5f5f5",p:1,borderRadius:1},children:window.location.href})]}),o.jsxs(p,{sx:{mb:2},children:[o.jsx(v,{variant:"subtitle2",children:"LocalStorage Keys:"}),o.jsx(v,{variant:"body2",sx:{fontFamily:"monospace",bgcolor:"#f5f5f5",p:1,borderRadius:1},children:Object.keys(localStorage).join(", ")||"No localStorage keys"})]}),o.jsxs(p,{sx:{mb:2},children:[o.jsx(v,{variant:"subtitle2",children:"Component Mount Time:"}),o.jsx(v,{variant:"body2",sx:{fontFamily:"monospace",bgcolor:"#f5f5f5",p:1,borderRadius:1},children:(new Date).toISOString()})]}),o.jsxs(p,{sx:{mb:2},children:[o.jsx(v,{variant:"subtitle2",children:"Browser Information:"}),o.jsx(v,{variant:"body2",sx:{fontFamily:"monospace",bgcolor:"#f5f5f5",p:1,borderRadius:1},children:navigator.userAgent})]}),o.jsxs(p,{sx:{mb:2},children:[o.jsx(v,{variant:"subtitle2",children:"Last POS Window State:"}),o.jsx(v,{variant:"body2",sx:{fontFamily:"monospace",bgcolor:"#f5f5f5",p:1,borderRadius:1},children:localStorage.getItem("lastPOSState")||"No POS state found"})]})]}),o.jsxs(p,{sx:{mt:2,display:"flex",gap:2},children:[o.jsx(g,{variant:"contained",color:"primary",onClick:()=>{localStorage.removeItem("currentInvoiceData"),localStorage.removeItem("lastPOSState"),window.location.reload()},children:"Clear Cache & Reload"}),o.jsx(g,{variant:"outlined",color:"primary",onClick:()=>{window.open("/pos","_blank")},children:"Open POS Window"}),o.jsx(g,{variant:"outlined",color:"primary",onClick:()=>window.location.href="/",children:"Return to Home"})]})]}):o.jsxs(p,{sx:{minHeight:"100vh",p:3,bgcolor:"#f8f9fa",fontFamily:"Roboto, sans-serif"},children:[o.jsx(XT,{}),o.jsx(YT,{variant:"contained",startIcon:o.jsx(Ge,{}),onClick:()=>{var e;const t=window.open("","_blank");t&&(t.document.write(`\n        <html>\n          <head>\n            <title>Invoice</title>\n            <style>\n              @import url('https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;500;700&display=swap');\n              @page {\n                size: A4;\n                margin: 0;\n              }\n              body {\n                margin: 0;\n                padding: 0;\n                font-family: 'Roboto', sans-serif;\n              }\n              .printable-area {\n                padding: 40px;\n                margin: 0;\n                width: 100%;\n                height: 100%;\n                box-sizing: border-box;\n                border: 20px solid #0d47a1;\n              }\n              .no-print {\n                display: none !important;\n              }\n              .print-only {\n                display: block !important;\n              }\n            </style>\n          </head>\n          <body>\n            <div class="printable-area">\n              ${null==(e=document.querySelector(".printable-area"))?void 0:e.innerHTML}\n            </div>\n          </body>\n        </html>\n      `),t.document.close(),t.focus(),t.print(),t.close())},sx:{mb:2,position:"fixed",top:20,right:20,bgcolor:"#1976d2","&:hover":{bgcolor:"#1565c0"}},className:"no-print",children:"Print Invoice"}),o.jsxs(GT,{className:"printable-area",sx:{bgcolor:"white",borderRadius:2,boxShadow:"0 4px 6px rgba(0, 0, 0, 0.1)",p:4,maxWidth:"800px",margin:"0 auto",border:"20px solid #0d47a1","@media print":{border:"20px solid #0d47a1",boxShadow:"none"}},children:[o.jsxs(y,{container:!0,spacing:2,children:[o.jsx(y,{item:!0,xs:6,children:o.jsxs(p,{sx:{display:"flex",alignItems:"center",gap:2},children:[o.jsx("img",{src:"/logo.png",alt:"Logo",style:{width:80,height:80}}),o.jsxs(p,{children:[o.jsx(v,{variant:"h4",gutterBottom:!0,sx:{color:"#1a237e",fontWeight:700,fontFamily:"Roboto, sans-serif"},children:"Sathyabhama Silks"}),o.jsx(v,{variant:"body2",sx:{color:"#546e7a"},children:"123 Main Street"}),o.jsx(v,{variant:"body2",sx:{color:"#546e7a"},children:"Chennai, Tamil Nadu"}),o.jsx(v,{variant:"body2",sx:{color:"#546e7a"},children:"Phone: +91 1234567890"})]})]})}),o.jsx(y,{item:!0,xs:6,children:o.jsxs(p,{sx:{textAlign:"right"},children:[o.jsx(v,{variant:"h4",gutterBottom:!0,sx:{color:"#1a237e",fontWeight:700,fontFamily:"Roboto, sans-serif"},children:"Retail Invoice"}),o.jsxs(v,{variant:"body1",sx:{color:"#546e7a"},children:["Invoice #: ",(null==r?void 0:r.orderNumber)||"N/A"]}),o.jsxs(v,{variant:"body1",sx:{color:"#546e7a"},children:["Date: ",(null==r?void 0:r.createdAt)?new Date(r.createdAt).toLocaleDateString():"N/A"]})]})})]}),o.jsx(C,{sx:{my:4,bgcolor:"#e0e0e0"}}),o.jsx(y,{container:!0,spacing:2,sx:{mb:4},children:o.jsxs(y,{item:!0,xs:6,children:[o.jsx(v,{variant:"h6",gutterBottom:!0,sx:{color:"#1a237e",fontWeight:600,fontFamily:"Roboto, sans-serif"},children:"Customer Details"}),o.jsx(V,{elevation:0,sx:{p:2,bgcolor:"#f5f5f5",borderRadius:1},children:o.jsxs(v,{variant:"body1",sx:{color:"#37474f"},children:["Phone: ",(null==(t=null==r?void 0:r.customer)?void 0:t.phone)||"N/A"]})})]})}),o.jsx(Y,{component:V,elevation:0,sx:{mb:4},children:o.jsxs(G,{children:[o.jsx(X,{children:o.jsxs(K,{sx:{bgcolor:"#f5f5f5"},children:[o.jsx(J,{sx:{color:"#1a237e",fontWeight:600,fontFamily:"Roboto, sans-serif"},children:"Item"}),o.jsx(J,{align:"right",sx:{color:"#1a237e",fontWeight:600,fontFamily:"Roboto, sans-serif"},children:"Quantity"}),o.jsx(J,{align:"right",sx:{color:"#1a237e",fontWeight:600,fontFamily:"Roboto, sans-serif"},children:"Price"}),o.jsx(J,{align:"right",sx:{color:"#1a237e",fontWeight:600,fontFamily:"Roboto, sans-serif"},children:"Total"})]})}),o.jsx(Q,{children:null==(n=null==r?void 0:r.items)?void 0:n.map(((e,t)=>{var n,i,r;return o.jsxs(K,{sx:{"&:nth-of-type(odd)":{bgcolor:"#fafafa"},"&:hover":{bgcolor:"#f5f5f5"}},children:[o.jsx(J,{sx:{color:"#37474f"},children:(null==(n=null==e?void 0:e.product)?void 0:n.name)||"Unknown Product"}),o.jsx(J,{align:"right",sx:{color:"#37474f"},children:(null==e?void 0:e.quantity)||0}),o.jsxs(J,{align:"right",sx:{color:"#37474f"},children:["",((null==(i=null==e?void 0:e.product)?void 0:i.price)||0).toLocaleString()]}),o.jsxs(J,{align:"right",sx:{color:"#37474f"},children:["",(((null==(r=null==e?void 0:e.product)?void 0:r.price)||0)*((null==e?void 0:e.quantity)||0)).toLocaleString()]})]},t)}))}),o.jsx(St,{children:o.jsxs(K,{sx:{bgcolor:"#f5f5f5"},children:[o.jsx(J,{colSpan:3,align:"right",children:o.jsx(v,{variant:"body1",sx:{fontWeight:"bold",color:"#1a237e",fontFamily:"Roboto, sans-serif"},children:"Total"})}),o.jsx(J,{align:"right",children:o.jsxs(v,{variant:"body1",sx:{fontWeight:"bold",color:"#1a237e",fontFamily:"Roboto, sans-serif"},children:["",m.toLocaleString()]})})]})})]})}),o.jsx(p,{sx:{display:"flex",justifyContent:"flex-end",mb:4},children:o.jsxs(V,{elevation:0,sx:{width:"300px",p:2,bgcolor:"#f5f5f5",borderRadius:1},children:[o.jsxs(p,{sx:{display:"flex",justifyContent:"space-between",mb:1},children:[o.jsx(v,{sx:{color:"#37474f"},children:"Subtotal:"}),o.jsxs(v,{sx:{color:"#37474f"},children:["",h.toLocaleString()]})]}),u>0&&o.jsxs(p,{sx:{display:"flex",justifyContent:"space-between",mb:1},children:[o.jsxs(v,{sx:{color:"#37474f"},children:["Discount (",null==r?void 0:r.discountPercentage,"%):"]}),o.jsxs(v,{sx:{color:"#d32f2f"},children:["-",u.toLocaleString()]})]}),f>0&&o.jsxs(p,{sx:{display:"flex",justifyContent:"space-between",mb:1},children:[o.jsx(v,{sx:{color:"#37474f"},children:"Cash Discount:"}),o.jsxs(v,{sx:{color:"#d32f2f"},children:["-",f.toLocaleString()]})]}),o.jsx(C,{sx:{my:2,bgcolor:"#e0e0e0"}}),o.jsxs(p,{sx:{display:"flex",justifyContent:"space-between"},children:[o.jsx(v,{variant:"h6",sx:{color:"#1a237e",fontWeight:700,fontFamily:"Roboto, sans-serif"},children:"Total:"}),o.jsxs(v,{variant:"h6",sx:{color:"#1a237e",fontWeight:700,fontFamily:"Roboto, sans-serif"},children:["",m.toLocaleString()]})]}),o.jsxs(v,{variant:"body2",sx:{mt:2,color:"#546e7a"},children:["Payment Mode: ",(null==r?void 0:r.paymentMode)||"N/A"]})]})}),o.jsx(C,{sx:{my:4,bgcolor:"#e0e0e0"}}),o.jsxs(p,{sx:{textAlign:"center"},children:[o.jsx(v,{variant:"body2",sx:{color:"#546e7a"},children:"Thank you for your business!"}),o.jsx(v,{variant:"body2",sx:{color:"#546e7a"},children:"For any queries, please contact us at support@sathyabhamasilks.com"})]})]})]})},QT=()=>o.jsx(KT,{children:o.jsx(JT,{})}),ZT=()=>{const{categoryId:e}=It();At();const[t,n]=Ot.useState([]),[i,r]=Ot.useState(!0),[s,a]=Ot.useState(null),[l,c]=Ot.useState("");return Ot.useEffect((()=>{e&&(async()=>{try{const[t,i]=await Promise.all([Im(e),wm()]);c(t.name);const r=i.filter((t=>t.categoryId===e));n(r)}catch(t){a("Failed to fetch category data"),console.error("Error fetching category data:",t)}finally{r(!1)}})()}),[e]),i?o.jsx(h,{sx:{py:8,textAlign:"center"},children:o.jsx(v,{children:"Loading..."})}):s?o.jsx(h,{sx:{py:8,textAlign:"center"},children:o.jsx(v,{color:"error",children:s})}):o.jsx(P,{in:!0,timeout:1e3,children:o.jsxs(h,{maxWidth:!1,sx:{my:8,px:{xs:2,sm:4,md:6,lg:8}},children:[o.jsxs(v,{variant:"h4",align:"center",gutterBottom:!0,sx:{mb:1,fontFamily:"Playfair Display, serif",transition:"all 0.3s ease","&:hover":{transform:"scale(1.02)",color:"#E31C79"}},children:[l," Collection"]}),o.jsx(v,{variant:"subtitle1",align:"center",sx:{mb:6,color:"#666",transition:"all 0.3s ease",fontFamily:"Montserrat, sans-serif","&:hover":{color:"#E31C79"}},children:"Browse our collection"}),o.jsx(y,{container:!0,spacing:4,children:t.map((e=>o.jsx(y,{item:!0,xs:12,sm:6,md:3,children:o.jsx(nf,{product:{...e,sku:e.sku||"",specifications:e.specifications||{},reviews:e.reviews||[],rating:e.rating||0,featured:e.featured||!1,trending:e.trending||!1}})},e.id)))})]})})},eI=()=>o.jsxs("div",{style:{position:"absolute",top:0,left:0,width:"100%",height:"100%",pointerEvents:"none",zIndex:2e3},children:[o.jsx("div",{className:"firework"}),o.jsx("div",{className:"firework"}),o.jsx("div",{className:"firework"}),o.jsx("div",{className:"firework"}),o.jsx("div",{className:"firework"}),o.jsx("div",{className:"firework"}),o.jsx("div",{className:"firework"}),o.jsx("div",{className:"firework"}),o.jsx("div",{className:"firework"}),o.jsx("div",{className:"firework"}),o.jsx("style",{children:'\n          .firework,\n          .firework::before,\n          .firework::after {\n            --initialSize: 0.5vmin;\n            --finalSize: 45vmin;\n            --particleSize: 0.2vmin;\n            --color1: yellow;\n            --color2: khaki;\n            --color3: white;\n            --color4: lime;\n            --color5: gold;\n            --color6: mediumseagreen;\n            --y: -30vmin;\n            --x: -50%;\n            --initialY: 60vmin;\n            content: "";\n            animation: firework 2s infinite;\n            position: absolute;\n            top: 50%;\n            left: 50%;\n            transform: translate(-50%, var(--y));\n            width: var(--initialSize);\n            aspect-ratio: 1;\n            background: \n              radial-gradient(circle, var(--color1) var(--particleSize), #0000 0) 50% 0%,\n              radial-gradient(circle, var(--color2) var(--particleSize), #0000 0) 100% 50%,\n              radial-gradient(circle, var(--color3) var(--particleSize), #0000 0) 50% 100%,\n              radial-gradient(circle, var(--color4) var(--particleSize), #0000 0) 0% 50%,\n              radial-gradient(circle, var(--color5) var(--particleSize), #0000 0) 80% 90%,\n              radial-gradient(circle, var(--color6) var(--particleSize), #0000 0) 95% 90%,\n              radial-gradient(circle, var(--color1) var(--particleSize), #0000 0) 90% 70%,\n              radial-gradient(circle, var(--color2) var(--particleSize), #0000 0) 100% 60%,\n              radial-gradient(circle, var(--color3) var(--particleSize), #0000 0) 55% 80%,\n              radial-gradient(circle, var(--color4) var(--particleSize), #0000 0) 70% 77%,\n              radial-gradient(circle, var(--color5) var(--particleSize), #0000 0) 22% 90%,\n              radial-gradient(circle, var(--color6) var(--particleSize), #0000 0) 45% 90%,\n              radial-gradient(circle, var(--color1) var(--particleSize), #0000 0) 33% 70%,\n              radial-gradient(circle, var(--color2) var(--particleSize), #0000 0) 10% 60%,\n              radial-gradient(circle, var(--color3) var(--particleSize), #0000 0) 31% 80%,\n              radial-gradient(circle, var(--color4) var(--particleSize), #0000 0) 28% 77%,\n              radial-gradient(circle, var(--color5) var(--particleSize), #0000 0) 13% 72%;\n            background-size: var(--initialSize) var(--initialSize);\n            background-repeat: no-repeat;\n          }\n\n          .firework::before {\n            --x: -50%;\n            --y: -50%;\n            --initialY: -50%;\n            transform: translate(-50%, -50%) rotate(40deg) scale(1.3) rotateY(40deg);\n          }\n\n          .firework::after {\n            --x: -50%;\n            --y: -50%;\n            --initialY: -50%;\n            transform: translate(-50%, -50%) rotate(170deg) scale(1.15) rotateY(-30deg);\n          }\n\n          .firework:nth-child(2) {\n            --x: 30vmin;\n          }\n\n          .firework:nth-child(2),\n          .firework:nth-child(2)::before,\n          .firework:nth-child(2)::after {\n            --color1: pink;\n            --color2: violet;\n            --color3: fuchsia;\n            --color4: orchid;\n            --color5: plum;\n            --color6: lavender;  \n            --finalSize: 40vmin;\n            left: 30%;\n            top: 60%;\n            animation-delay: -0.25s;\n          }\n\n          .firework:nth-child(3) {\n            --x: -30vmin;\n            --y: -50vmin;\n          }\n\n          .firework:nth-child(3),\n          .firework:nth-child(3)::before,\n          .firework:nth-child(3)::after {\n            --color1: cyan;\n            --color2: lightcyan;\n            --color3: lightblue;\n            --color4: PaleTurquoise;\n            --color5: SkyBlue;\n            --color6: lavender;\n            --finalSize: 35vmin;\n            left: 70%;\n            top: 60%;\n            animation-delay: -0.4s;\n          }\n\n          .firework:nth-child(4),\n          .firework:nth-child(4)::before,\n          .firework:nth-child(4)::after {\n            --color1: #ff0000;\n            --color2: #ff3333;\n            --color3: #ff6666;\n            --color4: #ff9999;\n            --color5: #ffcccc;\n            --color6: #ffffff;\n            --finalSize: 42vmin;\n            left: 45%;\n            top: 45%;\n            animation-delay: -0.6s;\n          }\n\n          .firework:nth-child(5),\n          .firework:nth-child(5)::before,\n          .firework:nth-child(5)::after {\n            --color1: #00ff00;\n            --color2: #33ff33;\n            --color3: #66ff66;\n            --color4: #99ff99;\n            --color5: #ccffcc;\n            --color6: #ffffff;\n            --finalSize: 38vmin;\n            left: 55%;\n            top: 55%;\n            animation-delay: -0.8s;\n          }\n\n          .firework:nth-child(6),\n          .firework:nth-child(6)::before,\n          .firework:nth-child(6)::after {\n            --color1: #ff00ff;\n            --color2: #ff33ff;\n            --color3: #ff66ff;\n            --color4: #ff99ff;\n            --color5: #ffccff;\n            --color6: #ffffff;\n            --finalSize: 40vmin;\n            left: 25%;\n            top: 45%;\n            animation-delay: -1s;\n          }\n\n          .firework:nth-child(7),\n          .firework:nth-child(7)::before,\n          .firework:nth-child(7)::after {\n            --color1: #ffff00;\n            --color2: #ffff33;\n            --color3: #ffff66;\n            --color4: #ffff99;\n            --color5: #ffffcc;\n            --color6: #ffffff;\n            --finalSize: 36vmin;\n            left: 75%;\n            top: 45%;\n            animation-delay: -1.2s;\n          }\n\n          .firework:nth-child(8),\n          .firework:nth-child(8)::before,\n          .firework:nth-child(8)::after {\n            --color1: #00ffff;\n            --color2: #33ffff;\n            --color3: #66ffff;\n            --color4: #99ffff;\n            --color5: #ccffff;\n            --color6: #ffffff;\n            --finalSize: 44vmin;\n            left: 35%;\n            top: 65%;\n            animation-delay: -1.4s;\n          }\n\n          .firework:nth-child(9),\n          .firework:nth-child(9)::before,\n          .firework:nth-child(9)::after {\n            --color1: #ff8000;\n            --color2: #ff9933;\n            --color3: #ffb266;\n            --color4: #ffcc99;\n            --color5: #ffe5cc;\n            --color6: #ffffff;\n            --finalSize: 39vmin;\n            left: 65%;\n            top: 35%;\n            animation-delay: -1.6s;\n          }\n\n          .firework:nth-child(10),\n          .firework:nth-child(10)::before,\n          .firework:nth-child(10)::after {\n            --color1: #8000ff;\n            --color2: #9933ff;\n            --color3: #b266ff;\n            --color4: #cc99ff;\n            --color5: #e5ccff;\n            --color6: #ffffff;\n            --finalSize: 41vmin;\n            left: 50%;\n            top: 50%;\n            animation-delay: -1.8s;\n          }\n\n          @keyframes firework {\n            0% { transform: translate(var(--x), var(--initialY)); width: var(--initialSize); opacity: 1; }\n            50% { width: 0.5vmin; opacity: 1; }\n            100% { width: var(--finalSize); opacity: 0; }\n          }\n        '})]}),tI=({open:e,onClose:t})=>{const n=l();return o.jsx(Ct,{open:e,onClose:t,"aria-labelledby":"website-launch-modal",sx:{display:"flex",alignItems:"center",justifyContent:"center",zIndex:1300,outline:"none","&:focus":{outline:"none"}},children:o.jsx(Wp.div,{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},transition:{duration:.5},style:{position:"relative",zIndex:1301},children:o.jsxs(p,{sx:{position:"relative",width:{xs:"90vw",sm:"80vw",md:"70vw",lg:"60vw"},maxWidth:"100vh",maxHeight:{xs:"90vh",sm:"80vh",md:"75vh"},margin:"auto",overflow:"hidden",display:"flex",flexDirection:{xs:"column",sm:"row"},boxShadow:"0 8px 32px rgba(0,0,0,0.2)",outline:"none","&:focus":{outline:"none"}},children:[o.jsx(eI,{}),o.jsx(p,{component:"img",src:"/images/launch.jpg",alt:"Website Launch",sx:{width:{xs:"100%",sm:"50%"},height:{xs:"200px",sm:"auto"},minHeight:{xs:"200px",sm:"100%"},objectFit:"cover",objectPosition:"center",display:"block",flexShrink:0}}),o.jsx(p,{sx:{width:{xs:"100%",sm:"50%"},height:{xs:"auto",sm:"100%"},display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",background:`linear-gradient(135deg, ${n.palette.primary.main} 0%, ${n.palette.secondary.main} 100%)`,color:"white",padding:{xs:"1.5rem",sm:"2rem"},position:"relative","&::before":{content:'""',position:"absolute",top:0,left:0,right:0,bottom:0,background:"rgba(0,0,0,0.2)"}},children:o.jsxs(p,{sx:{position:"relative",zIndex:1,textAlign:"center",width:"100%",color:"white",textShadow:"2px 2px 4px rgba(0,0,0,0.5)",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",height:"100%"},children:[o.jsx(v,{variant:"h3",component:"h2",gutterBottom:!0,sx:{fontWeight:"bold",fontSize:{xs:"1.5rem",sm:"1.8rem",md:"2.5rem"},color:"white",margin:0},children:" Website Launch! "}),o.jsx(v,{variant:"h5",gutterBottom:!0,sx:{mt:{xs:1,sm:2},fontSize:{xs:"1rem",sm:"1.2rem",md:"1.5rem"},color:"white",margin:0},children:"Special Launch Offer"}),o.jsx(v,{variant:"h2",sx:{fontWeight:"bold",my:{xs:2,sm:3},background:"linear-gradient(45deg, #FFD700 30%, #FFA500 90%)",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent",fontSize:{xs:"2rem",sm:"2.5rem",md:"3.5rem"},margin:0},children:"5% OFF"}),o.jsx(v,{variant:"body1",sx:{mb:{xs:2,sm:3},fontSize:{xs:"0.9rem",sm:"1rem",md:"1.2rem"},color:"white",margin:0,px:{xs:1,sm:0}},children:"On all products with automatic discount at checkout"}),o.jsx(g,{variant:"contained",color:"secondary",onClick:t,sx:{mt:{xs:1,sm:2},color:"white",fontSize:{xs:"0.9rem",sm:"1rem",md:"1.2rem"},padding:{xs:"8px 24px",sm:"12px 32px"},borderRadius:"30px",boxShadow:"0 4px 8px rgba(0,0,0,0.2)","&:hover":{backgroundColor:"secondary.dark",transform:"translateY(-2px)",boxShadow:"0 6px 12px rgba(0,0,0,0.3)"},transition:"all 0.3s ease"},children:"Start Shopping"})]})})]})})})},nI=_t({palette:{primary:{main:"#E31C79"},secondary:{main:"#333333"},background:{default:"#ffffff"}},typography:{fontFamily:"Montserrat, sans-serif",h1:{fontFamily:"Titan One, cursive"},h2:{fontFamily:"Titan One, cursive"},h3:{fontFamily:"Titan One, cursive"},h4:{fontFamily:"Titan One, cursive"},h5:{fontFamily:"Titan One, cursive"},h6:{fontFamily:"Titan One, cursive"}}}),iI=({children:e})=>"true"===localStorage.getItem("adminAuth")?o.jsx(o.Fragment,{children:e}):o.jsx(Wt,{to:"/login"}),rI=({children:e})=>localStorage.getItem("customerToken")?o.jsx(o.Fragment,{children:e}):o.jsx(Wt,{to:"/login"}),sI=({children:e})=>o.jsxs(p,{sx:{display:"flex",flexDirection:"column",minHeight:"100vh"},children:[o.jsx(Vp,{}),o.jsx(p,{component:"main",sx:{flex:"1 0 auto",width:"100%",paddingTop:"80px",display:"flex",flexDirection:"column"},children:e}),o.jsx(Rx,{}),o.jsx(My,{})]}),oI=()=>o.jsxs(p,{sx:{p:3,textAlign:"center"},children:[o.jsx(v,{variant:"h5",color:"error",gutterBottom:!0,children:"Something went wrong!"}),o.jsx(g,{variant:"contained",onClick:()=>window.location.href="/",sx:{mt:2},children:"Return to Home"})]}),aI=()=>{const[e,t]=Ot.useState([]),[n,i]=Ot.useState(!1);Ot.useEffect((()=>{localStorage.getItem("hasSeenLaunchPopup")||(i(!0),localStorage.setItem("hasSeenLaunchPopup","true"))}),[]);const r=zt([{path:"/",element:o.jsx(wy,{store:tb,children:o.jsxs(kt,{theme:nI,children:[o.jsx(Fe,{}),o.jsx($s,{children:o.jsx(Ns,{children:o.jsx(sI,{children:o.jsx(zg,{})})})})]})}),errorElement:o.jsx(oI,{})},{path:"/admin",element:o.jsx(wy,{store:tb,children:o.jsxs(kt,{theme:nI,children:[o.jsx(Fe,{}),o.jsx($s,{children:o.jsx(Ns,{children:o.jsx(iI,{children:o.jsx(Db,{})})})})]})}),children:[{index:!0,element:o.jsx(Wt,{to:"dashboard",replace:!0})},{path:"dashboard",element:o.jsx(xE,{})},{path:"orders",element:o.jsx(vE,{})},{path:"customers",element:o.jsx(jE,{})},{path:"categories",element:o.jsx(wE,{})},{path:"settings",element:o.jsx(CE,{})},{path:"products",element:o.jsx(kT,{})}]},{path:"/customer",element:o.jsx(wy,{store:tb,children:o.jsxs(kt,{theme:nI,children:[o.jsx(Fe,{}),o.jsx($s,{children:o.jsx(Ns,{children:o.jsx(rI,{children:o.jsx(RT,{})})})})]})}),children:[{index:!0,element:o.jsx(Wt,{to:"orders",replace:!0})},{path:"orders",element:o.jsx(NT,{})},{path:"track-orders",element:o.jsx(qT,{})},{path:"profile",element:o.jsx(VT,{})},{path:"addresses",element:o.jsx($T,{})},{path:"settings",element:o.jsx(UT,{})}]},{path:"/login",element:o.jsx(wy,{store:tb,children:o.jsxs(kt,{theme:nI,children:[o.jsx(Fe,{}),o.jsx($s,{children:o.jsx(Ns,{children:o.jsx(sI,{children:o.jsx(gx,{})})})})]})})},{path:"/product/:productId",element:o.jsx(wy,{store:tb,children:o.jsxs(kt,{theme:nI,children:[o.jsx(Fe,{}),o.jsx($s,{children:o.jsx(Ns,{children:o.jsx(sI,{children:o.jsx(Dx,{})})})})]})})},{path:"/cart",element:o.jsx(wy,{store:tb,children:o.jsxs(kt,{theme:nI,children:[o.jsx(Fe,{}),o.jsx($s,{children:o.jsx(Ns,{children:o.jsx(sI,{children:o.jsx(Ox,{savedAddresses:e,setSavedAddresses:t})})})})]})})},{path:"/checkout",element:o.jsx(wy,{store:tb,children:o.jsxs(kt,{theme:nI,children:[o.jsx(Fe,{}),o.jsx($s,{children:o.jsx(Ns,{children:o.jsx(sI,{children:o.jsx(Ox,{})})})})]})})},{path:"/order-success",element:o.jsx(wy,{store:tb,children:o.jsxs(kt,{theme:nI,children:[o.jsx(Fe,{}),o.jsx($s,{children:o.jsx(Ns,{children:o.jsx(sI,{children:o.jsx(Py,{})})})})]})})},{path:"/payment-failure",element:o.jsx(wy,{store:tb,children:o.jsxs(kt,{theme:nI,children:[o.jsx(Fe,{}),o.jsx($s,{children:o.jsx(Ns,{children:o.jsx(sI,{children:o.jsx(Oy,{})})})})]})})},{path:"/products",element:o.jsx(wy,{store:tb,children:o.jsxs(kt,{theme:nI,children:[o.jsx(Fe,{}),o.jsx($s,{children:o.jsx(Ns,{children:o.jsx(sI,{children:o.jsx(Fx,{})})})})]})})},{path:"/category/:categoryId",element:o.jsx(wy,{store:tb,children:o.jsxs(kt,{theme:nI,children:[o.jsx(Fe,{}),o.jsx($s,{children:o.jsx(Ns,{children:o.jsx(sI,{children:o.jsx(ZT,{})})})})]})})},{path:"/order/:orderId",element:o.jsx(wy,{store:tb,children:o.jsxs(kt,{theme:nI,children:[o.jsx(Fe,{}),o.jsx($s,{children:o.jsx(Ns,{children:o.jsx(sI,{children:o.jsx(nb,{})})})})]})})},{path:"/order-confirmation/:id",element:o.jsx(wy,{store:tb,children:o.jsxs(kt,{theme:nI,children:[o.jsx(Fe,{}),o.jsx($s,{children:o.jsx(Ns,{children:o.jsx(sI,{children:o.jsx(IT,{})})})})]})})},{path:"/about",element:o.jsx(wy,{store:tb,children:o.jsxs(kt,{theme:nI,children:[o.jsx(Fe,{}),o.jsx($s,{children:o.jsx(Ns,{children:o.jsx(sI,{children:o.jsx(rb,{})})})})]})})},{path:"/contact",element:o.jsx(wy,{store:tb,children:o.jsxs(kt,{theme:nI,children:[o.jsx(Fe,{}),o.jsx($s,{children:o.jsx(Ns,{children:o.jsx(sI,{children:o.jsx(wb,{})})})})]})})},{path:"/shipping-policy",element:o.jsx(wy,{store:tb,children:o.jsxs(kt,{theme:nI,children:[o.jsx(Fe,{}),o.jsx($s,{children:o.jsx(Ns,{children:o.jsx(sI,{children:o.jsx(Sb,{})})})})]})})},{path:"/refund-policy",element:o.jsx(wy,{store:tb,children:o.jsxs(kt,{theme:nI,children:[o.jsx(Fe,{}),o.jsx($s,{children:o.jsx(Ns,{children:o.jsx(sI,{children:o.jsx(Cb,{})})})})]})})},{path:"/terms",element:o.jsx(wy,{store:tb,children:o.jsxs(kt,{theme:nI,children:[o.jsx(Fe,{}),o.jsx($s,{children:o.jsx(Ns,{children:o.jsx(sI,{children:o.jsx(_b,{})})})})]})})},{path:"/privacy",element:o.jsx(wy,{store:tb,children:o.jsxs(kt,{theme:nI,children:[o.jsx(Fe,{}),o.jsx($s,{children:o.jsx(Ns,{children:o.jsx(sI,{children:o.jsx(kb,{})})})})]})})},{path:"/faq",element:o.jsx(wy,{store:tb,children:o.jsxs(kt,{theme:nI,children:[o.jsx(Fe,{}),o.jsx($s,{children:o.jsx(Ns,{children:o.jsx(sI,{children:o.jsx(Tb,{})})})})]})})},{path:"/register",element:o.jsx(HT,{})},{path:"/invoice",element:o.jsx(wy,{store:tb,children:o.jsxs(kt,{theme:nI,children:[o.jsx(Fe,{}),o.jsx($s,{children:o.jsx(Ns,{children:o.jsx(QT,{})})})]})}),errorElement:o.jsx(oI,{})}],{future:{v7_startTransition:!0,v7_relativeSplatPath:!0,v7_normalizeFormMethod:!0}});return o.jsx(wy,{store:tb,children:o.jsxs(kt,{theme:nI,children:[o.jsx(Fe,{}),o.jsx($s,{children:o.jsxs(Ns,{children:[o.jsx(tI,{open:n,onClose:()=>i(!1)}),o.jsx(di,{position:"bottom-right"}),o.jsx(Bt,{router:r})]})})]})})};Nt.createRoot(document.getElementById("root")).render(o.jsx(Mt.StrictMode,{children:o.jsx(aI,{})}));
